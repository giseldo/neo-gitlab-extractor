[{"id":102642045,"iid":4018,"project_id":2670515,"title":"Namespace with extra_shared_runners_minutes_limit may prevent subscription provisioning","description":"**Note:** this issue specifically deals with CI minutes that were added without a purchase (ie via the chatops command) - there is a similar issue that deals with namespaces that have an existing CI minutes pack purchase: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3371+\n\nCame across [a customer](https://gitlab.zendesk.com/agent/tickets/263986) (internal) who was unable to link their new subscription purchase through customersDot \"Change linked namespace\".\n\nIn the [related sentry error](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/3130777):\n\n\u003e Namespace change to xxxxxxxx is not allowed: Target namespace can't have additional CI minutes\n\nI tracked this down to the customer having been at one point given extra minutes using the chatops function [`namespace minutes`](https://gitlab.com/gitlab-com/chatops/-/blob/5cdbfaecd14b0a8ee475a0fa3a2f6f09719aad77/lib/chatops/commands/namespace.rb#L65-75), which calls [`GitLab::Client#set_namespace_extra_minutes`](https://gitlab.com/gitlab-com/chatops/-/blob/5cdbfaecd14b0a8ee475a0fa3a2f6f09719aad77/lib/chatops/gitlab/client.rb#L42-45) and that invokes the API to set `extra_shared_runners_minutes_limit`.\n\nThis appears to come from the [namespace validator](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1af3fcc24508a25e00b1cecc9f62ba15b7164aa2/lib/validators/namespace_transaction_validator.rb#L34) when called by [`UpdatePlanInfoService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/gitlab/namespaces/update_plan_info_service.rb):\n\n\u003e if target_namespace.has_extra_shared_runners_minutes?\n\nmanually setting that value back to 0 (via API) allowed me to successfully link the customer's subscription from their cDot account.\n\nIn [some related discussions](https://gitlab.com/gitlab-com/support/toolbox/console-training-wheels/-/merge_requests/100#note_845461902), @tyleramos and @cwiesner noted that this validation may not be needed for all subscription updates, but perhaps more specifically for when a subscription is changing between namespaces.\n\n# Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/263986\n1. https://gitlab.zendesk.com/agent/tickets/277280\n2. https://gitlab.zendesk.com/agent/tickets/314654 (Added 2022-Aug-05)\n3. https://gitlab.zendesk.com/agent/tickets/313080  \n1. https://gitlab.zendesk.com/agent/tickets/309643  \n1. https://gitlab.zendesk.com/agent/tickets/309767  \n1. https://gitlab.zendesk.com/agent/tickets/309296  \n1. https://gitlab.zendesk.com/agent/tickets/313127  \n1. https://gitlab.zendesk.com/agent/tickets/311366  \n1. https://gitlab.zendesk.com/agent/tickets/309947\n1. https://gitlab.zendesk.com/agent/tickets/315689\n1. https://gitlab.zendesk.com/agent/tickets/316415\n1. https://gitlab.zendesk.com/agent/tickets/316438\n2. https://gitlab.zendesk.com/agent/tickets/332541\n\n/cc @jhyson","state":"closed","created_at":"2022-01-25T19:44:37.805Z","updated_at":"2022-11-15T16:46:32.016Z","closed_at":"2022-10-13T22:12:25.433Z","closed_by":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"labels":["CI minutes","Category:Purchase","SUS::Impacting","Support Priority","UX","backend","customer","devops::fulfillment","group::purchase","missed:15.1","missed:15.2","missed:15.4","priority::2","section::fulfillment","severity::2","type::bug","workflow::verification"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"}],"author":{"id":4447183,"username":"kevenhughes","name":"Keven Hughes","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4447183/avatar.png","web_url":"https://gitlab.com/kevenhughes"},"type":"ISSUE","assignee":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4018","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4018","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4018/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4018/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4018","relative":"#4018","full":"gitlab-org/customers-gitlab-com#4018"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8649,"epic":{"id":591333,"iid":8649,"title":"CI Minutes Purchasing Flow Reliability","url":"/groups/gitlab-org/-/epics/8649","group_id":9970,"human_readable_end_date":"Aug 17, 2023","human_readable_timestamp":"\u003cstrong\u003e3\u003c/strong\u003e months remaining"},"iteration":null,"health_status":null},{"id":101180467,"iid":3941,"project_id":2670515,"title":"Follow-up from \"Skip reconciliation when SM order cancelled\"","description":"The following discussion from !4257 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4257#note_819799476):  (+4 comments)\n\n\u003e @tyleramos Do you know / remember why we want to update the order when the subscription is SaaS + with namespace associated only?\n\u003e \n\u003e For the cases:\n\u003e - SaaS Subscription that is not linked to a namespace in Gitlab.com\n\u003e - SM\n\u003e \n\u003e Don't we want to at least execute the [update_order](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/f1f8fd08819c755e782a971329b3bac743ff39dd/app/services/process_inactive_subscription_service.rb#L19) to keep it in sync with Zuora?\n\u003e \n\u003e Ref: This service was created out of code from the `zuora_callbacks_controller` [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/commit/caba7cf0a41991b3cc7d0959c7e0ead7abe2b0f2)\n\nDuring the `ProcessInactiveSubscriptionService` execution ONLY orders for SaaS subscriptions with an associated namespace on Gitlab.com are [updated to free](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/6e5407cf766e93cbfd11410f43314aace738b151/app/services/process_inactive_subscription_service.rb#L58-L62).\n\nWe want to keep the order up to date always including:\n- SaaS subscriptions without an associated namespace\n- SM subscriptions","state":"closed","created_at":"2022-01-24T23:21:06.809Z","updated_at":"2023-02-15T16:42:56.847Z","closed_at":"2023-02-09T00:02:24.154Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:SM Provisioning","Category:SaaS Provisioning","[deprecated] Category:Provision","auto closed","auto updated","backend","devops::fulfillment","group::provision","maintenance::performance","missed:15.6","priority::3","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":null,"assignees":[],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3941","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3941","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3941/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3941/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3941","relative":"#3941","full":"gitlab-org/customers-gitlab-com#3941"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100985172,"iid":3936,"project_id":2670515,"title":"Remove obsolete field `usage_ping_required_metrics_enabled` from License","description":"### Problem\n\nThe column `usage_ping_required_metrics_enabled` in the `licenses` table is no longer used and should be removed. It was planned originally as part of Super Sonics but was pretty quickly replaced by the field `operational_metrics_enabled`. I don't believe this field was ever really used. You can find more context about the field change in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3248.\n\n### Proposal\n\nThe end goal is to remove this column from the database but must be done in a few steps:\n\n1. [x] - Ignore the column in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4260 (Deployed)\n1. [x] - Remove the column from the DB in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4255 (Deployed)\n1. [x] - Remove the ignore column logic in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4261 (Deployed)","state":"closed","created_at":"2022-01-20T14:30:03.661Z","updated_at":"2022-03-01T09:48:44.820Z","closed_at":"2022-01-25T14:22:33.603Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3936","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3936","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3936/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3936/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3936","relative":"#3936","full":"gitlab-org/customers-gitlab-com#3936"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100967649,"iid":3935,"project_id":2670515,"title":"Return empty on unathenticated requests for order_preview","description":"### Problem\n\nNew users can not purchase Storage without having CustomersDot account.\n\n### Proposal\n\nRemove the authenticated check for `order_preview` and instead check for user presence in the resolver itself. If the user is not present - return empty\n\n### Result\n\nNew users are able to purchase Storage without having CustomersDot account\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2022-01-20T10:38:32.699Z","updated_at":"2022-01-26T18:44:26.790Z","closed_at":"2022-01-25T11:08:39.235Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","group::purchase","section::fulfillment","type::bug","workflow::staging"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3935","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3935","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3935/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3935/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3935","relative":"#3935","full":"gitlab-org/customers-gitlab-com#3935"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5789,"epic":{"id":251641,"iid":5789,"title":"Move Storage purchase flows to GitLab.com (Group namespaces only)","url":"/groups/gitlab-org/-/epics/5789","group_id":9970,"human_readable_end_date":"Feb 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100873104,"iid":3934,"project_id":2670515,"title":"Add Customers API to check whether customer should see overage alerts for the subscription usage","description":"### Problem\n\nAs part of https://gitlab.com/gitlab-org/gitlab/-/issues/348481, we need to be able to determine whether customer should see overage alerts for the subscription usage ~~the subscription has the reconciliation flag enabled on Zuora~~, so that we only show alerts for the appropriate subscriptions.\n\nATM a subscription will be charged for usage overage in [several scenarios](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3934#note_818310692). This would change as we improve the process. If we won't(do not want to , or not ready to) charge the customer for a subscription's usage overage, we do not show the alert(otherwise it is confusing to customer).\n\nThis issue will iterate from show alert to `subscription has the reconciliation flag enabled on Zuora`, which I think it includes: \n- `Use case 3: Sale Assisted QSR` in the table.\n- `Use case 6: self service QSR` in the table.\n\n### Proposal\n\nCreate or modify an endpoint on the customers application to expose this information to the GitLab application and create the functionality on the GitLab application to fetch and cache this data.","state":"closed","created_at":"2022-01-19T00:55:10.822Z","updated_at":"2022-02-24T19:51:15.201Z","closed_at":"2022-02-21T01:51:52.973Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","missed:14.8","section::fulfillment","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4981524,"username":"jhyson","name":"Josianne Hyson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4981524/avatar.png","web_url":"https://gitlab.com/jhyson"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3934","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3934","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3934/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3934/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3934","relative":"#3934","full":"gitlab-org/customers-gitlab-com#3934"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7230,"epic":{"id":401187,"iid":7230,"title":"[QSR] [SaaS] Create transparency about User Overage process at the time of adding users","url":"/groups/gitlab-org/-/epics/7230","group_id":9970,"human_readable_end_date":"Jun 17, 2023","human_readable_timestamp":"\u003cstrong\u003e1\u003c/strong\u003e month remaining"},"iteration":null,"health_status":null},{"id":100759720,"iid":3931,"project_id":2670515,"title":"Zuora iframe date/month inputs are broken on narrow viewports","description":"Month/year input styles for payment information are broken on narrow viewports. This is reproducible on Edge and Firefox (maybe more) on screens from 320px to 343px and from 992px to 1200px.\n\n### Problem\n\n![Screenshot_2022-01-17_at_10.35.51](/uploads/cd895c8446df0e6ccbd3a7c12fae3ef1/Screenshot_2022-01-17_at_10.35.51.png)\n\nRelated issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2545\n\n### Steps to reproduce\n\n1. Make sure the CustomerDot is configured and working locally\n1. Open the following link [http://localhost:5000/subscriptions/new?plan_id=2c92c0f97700a4f7017704c7fe465919](http://localhost:5000/subscriptions/new?plan_id=2c92c0f97700a4f7017704c7fe465919)\n1. Choose `Add a new Credit Card` in payment method form\n1. Resize browser\n\n### Proposal\n\nFix payment styles, test in multiple browsers, make sure that it's properly updated in test and production Zuora. For guidance on updating Zuora iFrame styles, check [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/doc/setup/frontend.md#styling-zuoras-iframe).\n\nWhen verified locally, please follow the steps described in [docs](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/doc/setup/frontend.md#update-compiled-css) to apply the resulted CSS to staging/production iframe.","state":"closed","created_at":"2022-01-17T09:47:14.956Z","updated_at":"2022-05-23T22:23:38.591Z","closed_at":"2022-05-23T22:23:26.753Z","closed_by":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::billing and subscription management","missed:14.10","missed:14.9","onboarding","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10770603,"username":"lmeckley","name":"Laura Meckley","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10770603/avatar.png","web_url":"https://gitlab.com/lmeckley"},"user_notes_count":31,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3931","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3931","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3931/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3931/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3931","relative":"#3931","full":"gitlab-org/customers-gitlab-com#3931"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":102491013,"iid":4005,"project_id":2670515,"title":"[SaaS] Send introductory email about user overages after purchase","description":"## Problem to solve\n\nSaaS customers are being surprised and taken off-guard by Quarterly Subscription reconciliations. Because self-service SaaS customers have not historically been charged true-ups, the QSR process and the fact that they have to pay for overages is totally new. See tickets from customers [here](https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/337).\n\n## Intended users\n\nThis issue is just for SaaS customers.\n\n* Group Owners of a group who has just purchased a subscription\n* Only groups enrolled in quarterly subscription reconciliation. See exactly which use cases we're solving for in the [Epic description](https://gitlab.com/groups/gitlab-org/-/epics/7229#saas-customers).\n\n## Proposal\n\nAfter a subscription has been purchased for a group in GitLab, send an email to **all** group Owners 1 day after a subscription has been purchased to make them aware of how users are counted and how overages are handled.\n\nWe should send an email to all group Owners (not just the group Owner who purchased the subscription), because all group Owners should be aware of the overage behavior.\n\n[Design here](https://gitlab.com/gitlab-org/gitlab/-/issues/347267/designs/Email_to_group_Owners_1_day_after_purchase_with_info_about_QSR.png)\n\n#### Email copy\n\n\u003e\u003e\u003e\n\nSubject line: Managing users in your subscription\n\nDear [customer],\n\nThank you for purchasing a GitLab.com subscription! As you get started, we want to make sure you understand some important billing information.\n\nYour subscription cost is based on the maximum number of seats you use during the billing period. If you reach the number of seats in your subscription, you can continue to add users, but GitLab bills you for the overage. These bills occur every quarter.\n\nRead more about quarterly reconciliation in [our product documentation](https://docs.gitlab.com/ee/subscriptions/quarterly_reconciliation.html).\n\nIf you have any questions about this process, [please reach out](https://support.gitlab.com/hc/en-us/requests/new?ticket_form_id=360000071293). We are happy to assist.\n\nThank you for your business!\n\nGitLab Billing Team\n\n\u003e\u003e\u003e\n\n## Implementation Plan\n\n\n| Issue | Issue link|\n|--|--|\n| Create mailers | https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3999 |\n| MVC identify CustomersDot emails to send to | https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4000 |\n| Send introductory email 1 day after purchase | https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4007 |\n| Send introductory email 1 day after renewal | https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4008 |\n| Query GitLab.com for group owners emails and send | https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4009 |","state":"closed","created_at":"2022-01-14T18:03:36.876Z","updated_at":"2022-02-22T12:58:26.227Z","closed_at":"2022-02-16T17:11:58.235Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Category:Purchase","SUS::Impacting","UI text","devops::fulfillment","feature::enhancement","group::purchase","section::fulfillment","severity::4","type::feature"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[],"author":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"type":"ISSUE","assignee":null,"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/4005","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/4005","notes":"https://gitlab.com/api/v4/projects/2670515/issues/4005/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/4005/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#4005","relative":"#4005","full":"gitlab-org/customers-gitlab-com#4005"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7229,"epic":{"id":401186,"iid":7229,"title":"[QSR] [SaaS] Create transparency about User Overage process at the time of purchase or renewal","url":"/groups/gitlab-org/-/epics/7229","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100615762,"iid":3926,"project_id":2670515,"title":"Zuora Central Sandbox Refresh procedures","description":"### Problem\n\nLast time [Zuora Central Sandbox was refreshed](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/477), Fulfillment engineers were blocked from using CustomersDot stg while the refresh was happening, but even ran into to problems after the refresh was completed.  For instance, many engineers needed to request Zuora User access again to be able to log into the [Zuora web app](https://test.zuora.com/).  ~\"Enterprise Applications\" apps is already working on improving the refresh process by putting together [this playbook of refresh steps](https://docs.google.com/document/d/1smfh7LnmKZYtQ5c9GfHxrhs5-7yUkIJQ4N1fywjNMq4/edit).\n\nAnother common problem encountered by people testing in CustomersDot stg after the refresh was the inability to make purchases ([example 1](https://gitlab.com/gitlab-org/gitlab/-/issues/327896#note_808722682), [example 2](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/financeops/finance-systems/-/issues/477#note_807833598)).  This was due to the fact that Customers in CDot stg had `zuora_account_id`s that no longer referenced accounts in Zuora Central Sandbox post refresh.  We are introducing a rake task in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4229 which will clear these orphaned `zuora_account_ids` from CDot stg.\n\nThis issue is aimed at identifying any other ways we can improve our post-refresh steps as it pertains to CustomersDot.  Are there any other models that should be updated or cleared?  Here are some thoughts I had, but @fulfillment-group/be please offer up others you might have:\n\n- Instead of simply clearing the `zuora_account_id` for customers, would there be value in truncating the entire `customers` table?  People using CDot stg could simply sign up for new customer accounts to avoid confusion.\n- Consider truncating the `orders` table in CDot.  Given that `orders` is strongly tied to Zuora, this table is largely broken when Zuora is refreshed.  Orders with references to `zuora_subscription_name` and `zuora_subscription_id` would be broken.  Should we just start from a clean slate?  In fact, we risk running into collisions if we don't rectify this.\n\nThese are just a few idea to start us off.  Please feel free to add to this list or add your thoughts.\n\n### Proposal\n\nCreate a rake task to truncate DB tables affected by the Zuora refresh.  This might be as simple as using the following command to truncate a list of tables:\n\n```\nActiveRecord::Base.connection.truncate_tables([:table1_name, :table2_name])\n```\n\nThis is a list of tables we could consider not truncating:\n\n* `admins`\n* `customers`: we will clear the zuora_account_ids that no longer match using a separate rake task\n* `features`: to have the correct states of flipper feature flags after the refresh\n* `feature_gates`\n* `schema_migrations`\n* `zuora_user_with_hosts`\n* `coupons`: Check with @rcobb if this can/should be truncated\n* `leads`: Check with `@a_akgun` if this can/should be truncated\n\nWe could include `local_records` in the list of tables to truncate but we'd need to recreate this data by [running the following command](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/f293ff2309025232e67d51c95171a8150cbf61e3/README.md#update-product-information): `IronBank::LocalRecords.export`.","state":"closed","created_at":"2022-01-13T22:53:28.795Z","updated_at":"2022-02-21T21:02:50.229Z","closed_at":"2022-02-18T03:32:18.081Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["backend","devops::fulfillment","section::fulfillment","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":49,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":"2022-02-11","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3926","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3926","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3926/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3926/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3926","relative":"#3926","full":"gitlab-org/customers-gitlab-com#3926"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":100222528,"iid":3918,"project_id":2670515,"title":"Discovery:  Is CDot impacted in any way to known changes of in the Quote objects in SFDC","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nZuora CPQ data in SFDC changes once Orders is enabled in the related Zuora environment.  CDot integrates with SFDC and interacts with Zuora CPQ data.\n\n### Proposal\nPeer into business logic in CDot to understand if there are references to known Zuora CPQ data in SFDC that is changing.  List of impacted fields is found here:  https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/493#summary-findings-orders-with-quote-studio-v-production-no-orders\n\n\u003c!-- Consult with `@gitlab-com/business-technology/enterprise-apps/zuora-architects` on the ~\"Enterprise Applications\" team if Zuora business logic is involved. --\u003e\n\n### Result\nFulfillment team can sign off that normal booking processes between CDot\u003c\u003eSalesforce will not break due to the known CPQ data changes.\n\n### Next steps (if any)\nNothing additional to the Proposal\n\n### How will we measure success?\nFulfillment:Licensing approval and confirmation that no order-to-cash disruptions are expected due to the changes in CPQ when enabling Zuora Orders.","state":"closed","created_at":"2022-01-06T22:25:15.698Z","updated_at":"2022-05-05T15:37:20.842Z","closed_at":"2022-05-05T15:37:20.826Z","closed_by":{"id":7200051,"username":"mquitevis","name":"Mark Quitevis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7200051/avatar.png","web_url":"https://gitlab.com/mquitevis"},"labels":["Ramps Provisioning","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-no-action","section::fulfillment","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":7200051,"username":"mquitevis","name":"Mark Quitevis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7200051/avatar.png","web_url":"https://gitlab.com/mquitevis"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3918","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3918","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3918/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3918/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3918","relative":"#3918","full":"gitlab-org/customers-gitlab-com#3918"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7506,"epic":{"id":435838,"iid":7506,"title":"Discovery for Ramps","url":"/groups/gitlab-org/-/epics/7506","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100217894,"iid":3916,"project_id":2670515,"title":"[UX] Update subscription card with Ramp data and appropriate actions on Manage Subscriptions page","description":"## Problem\n\nIn order to support the new Zuora Orders and Ramps objects, we need to rethink 1) how ramped subscriptions should be displayed for the customers in the UI; and 2) what actions should be available for the ramped subscriptions.\n\n1. When a subscription with Ramps is created in Zuora, it does not currently display clearly on the Manage Purchases page. \n1. Due to the complex nature of a Ramp deal, [sales ops has requested](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/505#note_809749301) that users cannot self-add seats or renew a ramp. They should instead be directed to sales.\n\nFor additional details about Ramps, [demos](https://gitlab.com/groups/gitlab-org/-/epics/8748#ramp-demos-in-zuora-and-sfdc) and [sample data](https://gitlab.com/groups/gitlab-org/-/epics/8748#sample-data), see the parent epic: https://gitlab.com/groups/gitlab-org/-/epics/8748+\n\n## Proposal\n\n### What we show to the customer\n\n1. Display every ramp period on the subscription card, so that the customer is aware how many seats they have access to for the time period.\n2. Hide all subscription action buttons (other than link subscription to SaaS group), and display a message that directs the customer to Sales for subscription changes ([sales ops' request](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/505#note_809749301)).\n\n### What the customer can do\n\nThe subscription will be view only. Customer will not be able to make changes to the subscription via Customer Portal.\n\n## Design\n\nThis is a fairly complicated topic, and updating how we display information in the subscription card is a major part of this, so I've recorded 2 videos to walk through the context and the changes.\n\n* [Part 1/2: Ramps overview and why we can't use the current subscription card to display ramps](https://www.loom.com/share/d7fb7744acd14815ae909a64afacf6a4) (4 mins)\n* [Part 2/2: Overview of subscription card changes and how ramped subscriptions are shown in the subscription card](https://www.loom.com/share/8f48c533691c43a6ac6349f1c7d37a13) (7.5 mins)\n\nQuestions that are answered in the video:\n\n* Why can't we use the existing subscription card for ramps display?\n* How does Zuora structure ramps data?\n* What is the new subscription card display that's being proposed?\n* How are we iterating into a new subscription card display? What is the MVC?\n\nAs I mentioned in the video, ramps will be the MVC of the subscription card information hierarchy updates. We'll handle other use cases in later iterations, and I've opened up [an issue for that](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5317). In the design section of this issue, you'll only find ramps-related mockups, so if you're looking for mockups for other use cases they can be found in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5317.\n\n### Mockups and design resources\n\n- Designs for ramps can be found in the design section of this issue\n- [Figma file](https://www.figma.com/file/U9JvYVy1Ls9IKrrPw1vt38/Subscription-management?node-id=239%3A13266\u0026t=9Up9sTBj5T9nmA8m-1)\n\n## Solution validation\n\nSee [solution validation issue](https://gitlab.com/gitlab-org/ux-research/-/issues/2259#what-did-we-learn) for insights and recommendations","state":"closed","created_at":"2022-01-06T19:46:18.027Z","updated_at":"2023-05-01T16:51:02.583Z","closed_at":"2023-01-17T20:58:54.384Z","closed_by":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"labels":["UX","UX Research Prioritization: Silver ðŸ¥ˆ","UX solution validation","[deprecated] Category:Billing and Subscription Management","auto updated","automation:prevent-auto-close","closed::complete","devops::fulfillment","group::billing and subscription management","missed:15.0","missed:15.4","missed:15.5","section::fulfillment","type::feature","workflow::solution validation"],"milestone":{"id":2745648,"iid":83,"group_id":9970,"title":"15.8","description":"","state":"active","created_at":"2022-08-22T16:57:34.875Z","updated_at":"2022-08-22T16:57:34.875Z","due_date":"2023-01-17","start_date":"2022-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/83"},"assignees":[{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":4377833,"username":"esybrant","name":"Emily Sybrant","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4377833/avatar.png","web_url":"https://gitlab.com/esybrant"},"user_notes_count":79,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3916","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3916","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3916/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3916/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3916","relative":"#3916","full":"gitlab-org/customers-gitlab-com#3916"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8748,"epic":{"id":602374,"iid":8748,"title":"Ramps subscription display in Customers Portal and gitlab.com","url":"/groups/gitlab-org/-/epics/8748","group_id":9970,"human_readable_end_date":"May 31, 2023","human_readable_timestamp":"\u003cstrong\u003e25\u003c/strong\u003e days remaining"},"iteration":null,"health_status":null},{"id":99115139,"iid":3885,"project_id":2670515,"title":"Fulfillment dev review of Support CustomersDot console functions","description":"### SUMMARY\n\nAs a result of [this ask](https://gitlab.com/groups/gitlab-org/-/epics/6828#note_729956691) we want to review some Mechanizer functions to feedback support and possible detect some areas where the logic might not be inline with CustomersDot.\n\nReview is associated to issue: https://gitlab.com/groups/gitlab-org/-/epics/6828#note_729956691\n\nThis issue exists to track the effort associated to the group and milestone as these labels cannot be set in the above referenced issue.\n\n[Review is timeboxed](https://gitlab.com/groups/gitlab-org/-/epics/6828#note_748899271).\n\n### OUTCOME\n\nHighlighted functions were reviewed via MR (https://gitlab.com/gitlab-com/support/toolbox/console-training-wheels/-/merge_requests/89) with comments and suggestions.","state":"closed","created_at":"2021-12-15T23:47:21.649Z","updated_at":"2021-12-15T23:47:51.365Z","closed_at":"2021-12-15T23:47:51.350Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3885","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3885","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3885/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3885/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3885","relative":"#3885","full":"gitlab-org/customers-gitlab-com#3885"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":99028152,"iid":3880,"project_id":2670515,"title":"Incorrect purchase email styling","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nWhen testing the purchase flow on staging the current new purchase email seemed to be broken, it was missing styling and rendering incorrectly.\n\n## Steps to reproduce\n\n1. Buy a new subscription on staging\n1. View `[GitLab Transactions] Your GitLab Premium/Ultimate Purchase` email\n\n## Behavior\n\n| What is the current *bug* behavior? | What is the expected *correct* behavior? |\n| ------ | ------ |\n| ![image](/uploads/d9a3d61ca7037df7a4c0c7027581f0f7/image.png) | ![image](/uploads/5bc25ff11b80b16415cdee6c1437e708/image.png) |","state":"closed","created_at":"2021-12-14T16:35:03.239Z","updated_at":"2022-06-09T14:47:48.287Z","closed_at":"2022-03-29T09:18:17.852Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["SUS::Impacting","UX","[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","section::fulfillment","severity::4","type::bug","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3880","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3880","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3880/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3880/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3880","relative":"#3880","full":"gitlab-org/customers-gitlab-com#3880"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8216,"epic":{"id":543138,"iid":8216,"title":"Consistent UX for all Fulfillment-Related Emails","url":"/groups/gitlab-org/-/epics/8216","group_id":9970,"human_readable_end_date":"Mar 31, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98996252,"iid":3879,"project_id":2670515,"title":"Daily empty vcr cassettes not reporting anymore","description":"### Problem\n\nThe [daily empty vcr cassettes](https://gitlab.com/groups/gitlab-org/-/epics/6519) job has stopped reporting results. The last result is from Nov 11th [Slack link](https://gitlab.slack.com/archives/CL7SX4N86/p1636601563124400). The job is still running daily as it can be seen [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/jobs/1880866396). But it apparently failed at some point and has not reached the [reporting part](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/721ae19719c84b6265148cd50f8fc50770254d39/.gitlab-ci.yml#L198) of the job. It is allowed to [fail](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/721ae19719c84b6265148cd50f8fc50770254d39/.gitlab-ci.yml#L191) though.\n\n### Proposal\n\nInvestigate why the job is not being executed correctly anymore and submit a fix.\n\n### Result\n\nRunning daily empty vcr cassettes job.","state":"closed","created_at":"2021-12-14T09:21:08.928Z","updated_at":"2023-03-13T09:18:57.742Z","closed_at":"2023-03-13T09:18:57.463Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","auto updated","automation:prevent-auto-close","backend","devops::fulfillment","group::provision","maintenance::pipelines","missed:15.1","quad-planning::complete-no-action","section::fulfillment","type::maintenance","workflow::ready for development"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3879","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3879","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3879/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3879/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":"https://gitlab.com/api/v4/projects/2670515/issues/5964"},"references":{"short":"#3879","relative":"#3879","full":"gitlab-org/customers-gitlab-com#3879"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98984758,"iid":3878,"project_id":2670515,"title":"Update successful purchase modal to have one CTA","description":"### Problem\n\n![image](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/45fe8ae1c9f6c58ef378145793918796/image.png)\n\nThe current modal has two CTA buttons. The main CTA `Activate your license` leads the user away from CDot into the [docs](https://docs.gitlab.com/ee/user/admin_area/license.html). This can be confusing and is not ideal.\n\n### Proposal\n\nWe should only present one CTA button that should link to the `Manage purchases` page similar to the [original proposal](https://www.figma.com/file/ecx0Hv66uG2GYuLby8OBgU/Super-sonics%3A-Checkout-(without-enforcement-to-upgrade-to-14.0)?node-id=234%3A7062).\n\n![Success-Modal](https://gitlab.com/gitlab-org/customers-gitlab-com/uploads/ca34e0b8d0cb2e6804dc539358e4c215/Success-Modal.png)\n\nRelevant UX issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3870","state":"closed","created_at":"2021-12-14T06:04:42.494Z","updated_at":"2021-12-20T11:18:03.885Z","closed_at":"2021-12-20T11:18:03.305Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["[deprecated] Category:Provision","devops::fulfillment","feature::enhancement","frontend","group::provision","missed:14.6","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3878","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3878","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3878/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3878/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3878","relative":"#3878","full":"gitlab-org/customers-gitlab-com#3878"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":98962946,"iid":3875,"project_id":2670515,"title":"Fix broken link in purchase confirmation email","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nClicking on `upload it to your GitLab instance` in the purchase confirmation email goes to a 404\n\n## Steps to reproduce\n\n- Purchase a license\n- Check email\n- Click on \"upload it to your GitLab instance\"\n\n## What is the current *bug* behavior?\n\nLink goes to a 404 on the docs site\n\n## What is the expected *correct* behavior?\n\nLink should go to https://docs.gitlab.com/ee/user/admin_area/license.html\n\n## Relevant logs and/or screenshots\n\n![image](/uploads/14c6d4fc93f57e836d8accc961cc0c42/image.png)\n\n\u003c!--- ## Workarounds\n\n(Ways to get around the issue)\n\n## Reported examples\n\n1.\n1.\n1.\n\n\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-12-13T17:59:09.705Z","updated_at":"2021-12-16T14:44:31.080Z","closed_at":"2021-12-16T10:56:38.037Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["[deprecated] Category:Provision","devops::fulfillment","group::provision","section::fulfillment","type::bug"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":4089849,"username":"jackib","name":"Jacki Bauer","state":"active","avatar_url":"https://secure.gravatar.com/avatar/45cb9a7b286a89f770f76d90b6cf33fd?s=80\u0026d=identicon","web_url":"https://gitlab.com/jackib"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3875","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3875","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3875/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3875/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3875","relative":"#3875","full":"gitlab-org/customers-gitlab-com#3875"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98941232,"iid":3873,"project_id":2670515,"title":"Change \"Upgrade\" button to \"Upgrade plan\"","description":"![image](/uploads/00686353a73a00585dba2ee48f2073e5/image.png)\n\n## Proposal\n\nBased on [this discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3860/designs/1_-_New_subscription_purchase.png#note_764671505) it was recommended we should be more explicit with the language surrounding Upgrades of tiers and Gitlab versions. We should change the button text from `Upgrade` to `Upgrade Plan`.","state":"closed","created_at":"2021-12-13T12:28:55.671Z","updated_at":"2021-12-16T14:44:31.124Z","closed_at":"2021-12-14T11:02:53.872Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["Category:Purchase","Technical Writing","UI text","UX","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::in dev"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3873","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3873","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3873/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3873/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3873","relative":"#3873","full":"gitlab-org/customers-gitlab-com#3873"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98528411,"iid":3855,"project_id":2670515,"title":"Unify root and /subscription pages","description":"Now when `/plans` page is removed we can unify templates that we show on root and /subscription pages. Currently the only difference between them is where \"Buy new subscription\" link leads for users with active subscription.\n\n| https://customers.staging.gitlab.com/ | https://customers.staging.gitlab.com/subscriptions |\n| ------ | ------ |\n| ![Screenshot_2021-12-06_at_15.14.31](/uploads/b5721ac65eab826ff2856adcdd7b9e6c/Screenshot_2021-12-06_at_15.14.31.png) | ![Screenshot_2021-12-06_at_15.10.43](/uploads/3d6318a42e14e58de6213f596a7e79ab/Screenshot_2021-12-06_at_15.10.43.png) |\n| `Buy new subscription` is a link that leads to pricing page | `Buy new subscription` opens a modal window ![Screenshot_2021-12-06_at_15.15.36](/uploads/91dfa030cd18e8a77412db0fd685ac14/Screenshot_2021-12-06_at_15.15.36.png)|\n\n### Suggestion\n\nWe should keep only one view. I would suggest to stick with a more simple one (current root). We should clean up th `SubscriptionController#index` and remove unnedeed views.\n\n### Tech details to take care of during implementation (thanks @qzhaogitlab for checking it):\n\nCheck the details in the [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4124#note_752931041)\n\n:arrow_right: This is the direction we chose.\n\n* update `SubscriptionsController#index` to show a different (root) view\n* clean up the `VisitorsController` -\u003e previously, `VisitorsController`(as the root_url) handled both `authenticated` and `unauthenticated` users. Now we can keep only `handle_signed_in_user`\n* cleanup old subscription index view \u0026 modal\n\n:arrow_right: If we decide to keep /subscription page template (but we didn't!)\n\nWe could simply set `root to: 'subscriptions#index'` in [config/routes.rb](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/1a001e7db7b361b49dd4c2afb5fea829cc831955/config/routes.rb#L28)\n\nBut then we also need to clean up `SubscriptionsController#index`:\n\n* simplify `@subscriptions = SubscriptionsFinder.for_customer(current_customer)`, just the same as current `VisitorsController#index`\n* update the view file","state":"closed","created_at":"2021-12-06T14:24:08.450Z","updated_at":"2022-11-03T23:21:59.589Z","closed_at":"2022-02-20T21:43:34.058Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.8","section::fulfillment","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":18,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3855","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3855","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3855/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3855/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3855","relative":"#3855","full":"gitlab-org/customers-gitlab-com#3855"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98376313,"iid":3844,"project_id":2670515,"title":"Customer salesforce_account_id is being set to null after first purchase in stg","description":"### Problem\n\nAs described in [this thread](https://gitlab.com/groups/gitlab-org/-/epics/6606#note_750835063), we are seeing opportunities fail to create when testing OH in staging.\n\nHere's an example from the sidekiq.log:\n\n```\n2021-11-30T13:52:01.158Z 2382585 TID-gq1lwdct1 Salesforce::CreateOpportunityWorker JID-a22456205ad4b4671c1f5770 ERROR: {\"message\"=\u003e\"#\u003cSalesforce::OpportunityNotCreated: Salesforce::OpportunityNotCreated\u003e\", \"error_message\"=\u003e\"Salesforce::OpportunityNotCreated\", \"args\"=\u003e[84005, \"A-S00055394\", \"8a8aa2e37d6ef23e017d702667464f52\"]}\n2021-11-30T13:52:01.159Z 2382585 TID-gq1lwdct1 Salesforce::CreateOpportunityWorker JID-a22456205ad4b4671c1f5770 INFO: fail: 1.312 sec\n2021-11-30T13:52:01.159Z 2382585 TID-gq1lwdct1 WARN: {\"context\":\"Job raised exception\",\"job\":{\"class\":\"Salesforce::CreateOpportunityWorker\",\"args\":[84005,\"A-S00055394\",\"8a8aa2e37d6ef23e017d702667464f52\"],\"retry\":true,\"queue\":\"salesforce\",\"jid\":\"a22456205ad4b4671c1f5770\",\"created_at\":1638264106.5169365,\"enqueued_at\":1638280319.847346,\"error_message\":\"Salesforce::OpportunityNotCreated\",\"error_class\":\"Salesforce::OpportunityNotCreated\",\"failed_at\":1638264107.6331813,\"retry_count\":9,\"retried_at\":1638273562.4499516},\"jobstr\":\"{\\\"class\\\":\\\"Salesforce::CreateOpportunityWorker\\\",\\\"args\\\":[84005,\\\"A-S00055394\\\",\\\"8a8aa2e37d6ef23e017d702667464f52\\\"],\\\"retry\\\":true,\\\"queue\\\":\\\"salesforce\\\",\\\"jid\\\":\\\"a22456205ad4b4671c1f5770\\\",\\\"created_at\\\":1638264106.5169365,\\\"enqueued_at\\\":1638280319.847346,\\\"error_message\\\":\\\"Salesforce::OpportunityNotCreated\\\",\\\"error_class\\\":\\\"Salesforce::OpportunityNotCreated\\\",\\\"failed_at\\\":1638264107.6331813,\\\"retry_count\\\":9,\\\"retried_at\\\":1638273562.4499516}\"}\n2021-11-30T13:52:01.159Z 2382585 TID-gq1lwdct1 WARN: Salesforce::OpportunityNotCreated: Salesforce::OpportunityNotCreated\n2021-11-30T13:52:01.159Z 2382585 TID-gq1lwdct1 WARN: /home/fulansdep/CustomersDot/releases/20211130083215Z/app/services/salesforce/create_opportunity_objects_service.rb:188:in `create_salesforce_opportunity'\n/home/fulansdep/CustomersDot/releases/20211130083215Z/app/services/salesforce/create_opportunity_objects_service.rb:4\n```\n\nAfter some investigation, we determined the source of the bug was a difference between the Order Processed callout and the New Subscription Created callout.\n\n- `New Subscription Created` callout returns `\u003cparameter name=\"account_crm_id\"\u003e\u003c/parameter\u003e`\n- `Order Processed` callout returns `\u003cparameter name=\"account_crm_id\"\u003enull\u003c/parameter\u003e`\n\nYou can see this in the callout history for [this customer in api sandbox](https://apisandbox.zuora.com/apps/CustomerAccount.do?method=view\u0026id=8ad09f8a7d769bad017d7990c06f3883).\n\n### Proposal\n\nDespite this likely being a bug in Zuora given the discrepancy in how the callouts are handled, we can account for this in CustomersDot when parsing the callout attributes from the request body.  CustomersDot can handle `\"null\"` value as a empty string.  The `Order Processed` callout should then be processed like other callouts at that point.","state":"closed","created_at":"2021-12-02T21:29:32.896Z","updated_at":"2021-12-03T22:04:51.445Z","closed_at":"2021-12-03T22:04:51.428Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3844","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3844","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3844/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3844/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3844","relative":"#3844","full":"gitlab-org/customers-gitlab-com#3844"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":98197756,"iid":3834,"project_id":2670515,"title":"Instance not able to seat link using existing cloud license","description":"### Problem\n\nAs described in these Slack threads ([first](https://gitlab.slack.com/archives/C029YFPUA6M/p1637926425309000) and [second](https://gitlab.slack.com/archives/C01BPM66KNE/p1638280781120700)), [a customer](https://customers.gitlab.com/admin/customer/221264) who was previously using a license file for their SM subscription ([link to Zuora subscription](https://www.zuora.com/apps/Subscription.do?method=view\u0026id=8a129bb27d37d510017d3a23c8b814a6)), renewed their subscription (on Nov 19) before it was set to expire on Nov 24.  They decided to activate the renewed subscription on Nov 22.  The customer was understandably confused because the new synced cloud license showed information from the subscription term that was about to expire.  They waited until Nov 24 to see if the new subscription details would be synced but found they didn't sync.  Attempts to manually sync the subscription were also unsuccessful.\n\nOn Nov 24, when the new subscription term was set to start, CustomersDot received a seat link request at 03:26:17 and a [cloud license](https://customers.gitlab.com/admin/license/1009153) was generated for the new term, but this license didnâ€™t seem to get persisted to the instance. Because the new license didnâ€™t get persisted, all future seat link attempts from the instance (auto or manual) used [its current (outdated) license](https://customers.gitlab.com/admin/license/1009081) key.  In this particular case, it appears the seat link requests for the previous day (report_timestamp = 2021-11-23 12:00:14) updated the LicenseSeatLink records instead of creating new ones.  As part of that update, the `license_id` was updated to [the new cloud license](https://customers.gitlab.com/admin/license/1009153).  The link to the instanceâ€™s license was lost.\n\nWe can see this in the previous versions of this LicenseSeatLink:\n```\nlicense seat link (ver 1):\n  id: 2832633\n  report_timestamp: 2021-11-23 12:00:14\n  updated_at: Tue, 23 Nov 2021 15:59:57\n  license_id: 1009080\n\nlicense seat link (ver 2):\n  updated_at: Tue, 23 Nov 2021 16:02:36\n  license_id: 1009081 (a new license because customer `name` changed)\n\nlicense seat link (ver 3):\n  updated_at: Wed, 24 Nov 2021 03:26:17\n  license_id: 1009153 (a new license because `users_count` changed to 30)\n```\n\nThis meant the [lookup here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/8c1409ed275594ae63487d1fb85a726297c296f5/app/controllers/api/v1/seat_links_controller.rb#L59) to find the `SelfManagedInstanceActivation` record will no longer work with the existing license.  Thatâ€™s why we see from Nov 24 until a workaround was used to fix seat link that all `LicenseSeatLink` records created (between nov 24 to 30) did not have a corresponding `license_id` (because they were not considered part of \"cloud sync\".\n\n### Proposal\n\nCustomersDot should avoid updating `license_id` in the `SeatLinkCreateService`, and instead simply add a new `LicenseSeatLink` record instead.  If this logic were used, the next manual or auto seat link request from the customer's instance likely would have resolved the seat link connection and persisted the license for the new term.","state":"closed","created_at":"2021-11-30T20:16:30.177Z","updated_at":"2023-03-13T17:23:13.836Z","closed_at":"2022-01-26T19:52:05.317Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.7","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":17,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3834","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3834","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3834/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3834/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3834","relative":"#3834","full":"gitlab-org/customers-gitlab-com#3834"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97836212,"iid":3824,"project_id":2670515,"title":"OH Testing: UC-12","description":"## Summary\n\nThis is a specific testing issue for use case 12 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 |  @a_luna | UC-12a :white_check_mark: Completed \u0026 Passed \u003cbr\u003e UC-12b :white_check_mark: Completed \u0026 Passed \u003cbr\u003e UC-12c :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-12: Quarterly reconciliation adds seats to a subscription\n\n\u003cdetails\u003e\n\u003csummary\u003eUC-12.a: Self-managed subscription\u003c/summary\u003e\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Purchase Premium for 5 users (12 months)                                             | New Subscription Purchase. SM Premium link: https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a01176f0d50a0176f3043c4d4a53                                                                                                                   | (1) Purchase flow is successful. \u003cbr\u003e \u003cbr\u003e (2) Completes with legacy license and activation code email.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |Y | |\n| T-2     | Activate license                                                                     | Receive the code via email and follow the activation steps in the email. Must be on version xx.x+                                            | (1) The instance successfully activates and provisions paid features. \u003cbr\u003e \u003cbr\u003e (2) `Turn On Cloud Licensing` flag in Zuora is set to `Yes` \u003cbr\u003e \u003cbr\u003e (3) `Turn On Seat Reconciliation` flag in Zuora in Zuora is set to `Yes`|Y | |\n| T-3     | View license/subscription details                                                    | Navigate to the Subscription page in the SM instance to verify the license details are accurate                                              | Validate Subscription `start date`, `end date`, `Users in License` \u003cbr\u003e \u003cbr\u003e Billable Users count should be `1`, Max Users count should be `1`, Users in License count should be `5`, Users over License count should be `0`                                                                                                                                                                                                                                                                                                                                      |Y | |\n| T-4     | Create 6 users in your instance. Assign them to a group with the role of `developer` | https://docs.gitlab.com/ee/user/profile/account/create_accounts.html \u003cbr\u003e \u003cbr\u003e https://docs.gitlab.com/ee/user/group/#add-users-to-a-group             | This is not a test, just a required step for the test. Expected outcome is to have 7 billable users on the instance.                                                                                                                                                                                                                                                                                                                                                                                                                                    | N/A| N/A|\n| T-5     | View license/subscription details                                                    | Navigate to the Subscription page in the SM instance to verify the instance has exceed its licensed user count                               | This is not a test to verify a new feature, just a step to validate your test steps until now are valid.                                                                                                                                                                                                                                                                                                                                                                                                                                                |N/A |N/A |\n|T-6| Purchase 2 users in CustomersDot |Select `Add seats`, purchase `2` additional seats|Expect that the purchase will prorate the charge for the remainder of the subscription period. This is not a test, just a required step for the test. |N/A|\n|T-7| Receive purchased users | (1) One tester can use the `Sync` button on the instance to immediately provision the 2 purchased users, (2) One test can wait 24 hours to verify that the 2 users are provisioned after the next sync job|Y| |\n| T-8     | View license/subscription details| Navigate to the Subscription page in the SM instance to verify `Users in License` = `7` \u003cbr\u003e \u003cbr\u003e Billable Users count should be `7`, Max Users count should be `7`, Users in License count should be `7`, Users over License count should be `0`  |Y |N/A |\n| T-9     | Q1 reconciliation occurs| This reconciliation step will need to be simulated/forced by development.| This subscription is eligible for quarterly reconciliation because they are sending us data, but there is no overage, so no add-on is processed.        |Y | |\n| T-10     | Block 2 users in the instance| https://docs.gitlab.com/ee/api/users.html#block-user                                                                                         | This is not a test, just a required step for the test.|N/A |N/A |\n| T-11     | View license/subscription details| Navigate to the Subscription page in the SM instance to verify user counts.| Billable Users count should be `5`, Max Users count should be `7`, Users in License count should be `7`, Users over License count should be `0` \u003cbr\u003e \u003cbr\u003e This is not a test to verify a new feature, just a step to validate your test steps until now are valid.                                                                                                                                                                                                                                                                                                |N/A |N/A |\n| T-12    | Q2 reconciliation occurs| This reconciliation step will need to be simulated/forced by development.                                                                    | This subscription is elgible for quarterly reconciliation because they are sending us data, but there is no overage, so no add-on is processed.|Y| |\n| T-13    | Add 4 new users and assign them to projects with role \"maintainer\"                   | https://docs.gitlab.com/ee/user/profile/account/create_accounts.html https://docs.gitlab.com/ee/user/project/members/#add-users-to-a-project | This is not a test, just a required step for the test.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |N/A |N/A |\n| T-14    | View license/subscription details                                                    | Navigate to the Subscription page in the SM instance to verify user counts.                                                                  | Billable Users count should be `9`, Max Users count should be `9`, Users in License count should be `7`, Users over License count should be `2` \u003cbr\u003e \u003cbr\u003e This is not a test to verify a new feature, just a step to validate your test steps until now are valid.                                                                                                                                                                                                                                                                                                |N/A |N/A |\n| T-15    | Q3 reconciliation occurs                                                             | This reconciliation step will need to be simulated/forced by development.                                                                    | (1) the customer is charged for an overage of `2` Premium user for the remaining 1 quarter of the agreement. \u003cbr\u003e \u003cbr\u003e(2) email sent to customer \u003cbr\u003e \u003cbr\u003e(3) The system records that reconciliation was performed \u003cbr\u003e \u003cbr\u003e(4) Data sent to SFDC - [opp created? details?] | Y| |\n| T-16    | View license/subscription details                                                    | Navigate to the Subscription page in the SM instance to verify user counts.                                                                  | Billable Users count should be `9`, Max Users count should be `9`, Users in License count should be `9`, Users over License count should be `0` \u003cbr\u003e \u003cbr\u003e This is not a test to verify a new feature, just a step to validate your test steps until now are valid.                                                                                                                                                                                                                                                                                               |N/A |N/A|\n| T-17    | Add 4 new users and assign them to projects with role \"guest\"                        | https://docs.gitlab.com/ee/user/profile/account/create_accounts.html \u003cbr\u003e \u003cbr\u003e https://docs.gitlab.com/ee/user/project/members/#add-users-to-a-project | This is not a test, just a required step for the test.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |N/A |N/A|\n| T-18    | View license/subscription details                                                    | Navigate to the Subscription page in the SM instance to verify user counts.                                                                  | Billable Users count should be `13`, Max Users count should be `13`, Users in License count should be `9`, Users over License count should be `4` \u003cbr\u003e \u003cbr\u003e This is not a test to verify a new feature, just a step to validate your test steps until now are valid.                                                                                                                                                                                                                                                                                              |N/A |N/A|\n| T-19   | No Q4 reconciliation occurs.                                                         |                                                                                                                                              | We cannot test this real-world step since we are forcing reconciliations.                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | N/A|N/A|\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eUC-12.b: SaaS subscription\u003c/summary\u003e\n\n| Step ID | Test Step   | Description| Expected Outcome |Testable? | Pass/Fail|\n|---------|--------|----|----------|:---:|:---:|\n|T-1     | Create a group in staging.gitlab.com with 5 users (team members). Just select existing users. | This is not a test, just a required step for the test.|N/A|N/A|\n|T-2| Purchase Premium  | New SaaS Subscription Purchase for created group. SaaS Premium link: https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a00d76f0d5060176f2fb0a5029ff \u003cbr\u003e \u003cbr\u003e This is not a test, just a required step for the test.                                                        | (1) Purchase flow is successful for 5 users. \u003cbr\u003e \u003cbr\u003e (2) Completes with email confirmation.                                                                                                                                                                                                                                                                                                                                                                                                   |N/A | N/A|\n|T-3 | Confirm billing details|This is not a test, just a required step for the test.                                                        |In staging.gitlab.com, navigate to Group \u003e Settings \u003e Billing, Validate Subscription `start date`, `end date`, `Seats in subscription` = `5`|N/A | N/A|\n| T-4 | Add 2 users (team members) to you group with the role of `developer`. Just select existing users. | https://docs.gitlab.com/ee/user/group/#add-users-to-a-group    \u003cbr\u003e \u003cbr\u003e This is not a test, just a required step for the test.                                                                | Expected outcome is to have 7 billable users on the instance.                                                                                                                                                                                                                                                                                                                                                                                                                                    | N/A| N/A|\n| T-5     | View subscription details | This is not a test, just a required step for the test. (note the values are updated every 24 hours).\u003cbr/\u003e\u003cbr/\u003eTo force the refresh, SSH into staging.gitlab.com, open the rails console and run the following steps:\u003cbr/\u003e`ns = Namespace.find \u003cGroup ID\u003e # Find this in the top of group main page (i.e. https://staging.gitlab.com/\u003cGroup Name\u003e)`\u003cbr/\u003e`gs = ns.gitlab_subscription`\u003cbr/\u003e`gs # Verify that it reflects what is shown on the Billing page`\u003cbr/\u003e`gs.refresh_seat_attributes! # This will force the refresh`\u003cbr/\u003e`gs # Verify that it reflects the updated seat numbers`\u003cbr/\u003e`gs.save!`                                                       | Navigate to Group \u003e Settings \u003e Billing. `Seats in subscription` s/b `5`, `Seats currently in use` s/b `7`, `Max seats used` s/b `7`, `Seats owed` s/b `2` (note these values are updated every 24 hours).                                                                                                                                                                                                                                                                                                                                                                                                                                                        |N/A |N/A |\n|T-6 | Make a purchase in CustomersDot |Select `Add seats`, purchase `3` additional seats|Expect that the purchase will prorate the charge for the remainder of the subscription period. This is not a test, just a required step for the test. |N/A|\n| T-7     | Q1 reconciliation occurs| This reconciliation step will need to be simulated/forced by development.\u003cbr/\u003e\u003cbr/\u003eSSH into customers.staging.gitlab.com (requires access), open a fresh rails console and run the following steps:\u003cbr/\u003e`ns_id = \u003cGroup ID\u003e # Find this in the top of group main page (i.e. https://staging.gitlab.com/\u003cGroup Name\u003e)`\u003cbr/\u003e`order = Order.where(gl_namespace_id: ns_id).first # Verify that gl_namespace_name is the name of the group you created`\u003cbr/\u003e`order.reconciliations.count # Verify that one exists for this order`\u003cbr/\u003e`r = order.reconciliations.first # Check that the reconciliation_done_at is nil.`\u003cbr/\u003e `Reconciliations::UpdateSaasUserCountService.new(r).execute`\u003cbr/\u003e`ReconciliationService.new(r).execute`\u003cbr/\u003e`r.reload # Verify that user count is the expected amount and no errors`                                                                    | This subscription is eligible for quarterly reconciliation because they are sending us data, but there is no overage, so no add-on is processed.      |Y | |\n| T-8     | Remove 2 users (team members) from the group| https://docs.gitlab.com/ee/user/group/#remove-a-member-from-the-group                                                                                        | This is not a test, just a required step for the test.|N/A |N/A |\n| T-9     | View subscription details| This is not a test, just a required step for the test.                                                        | Navigate to Group \u003e Settings \u003e Billing. `Seats in subscription` s/b `8`, `Seats currently in use` s/b `5`, `Max seats used` s/b `7`, `Seats owed` s/b `0` (note these values are updated every 24 hours)                   |N/A |N/A |\n| T-10    | Q2 reconciliation occurs                                                             | This reconciliation step will need to be simulated/forced by development.  \u003cbr\u003e \u003cbr\u003eOpen a fresh rails console to avoid any caching problems from the last reconciliation event and follow the steps from the previous reconciliation above.                                                                  | (1) The customer is not charged for any overage \u003cbr\u003e \u003cbr\u003e (2) No email is sent to the customer \u003cbr\u003e \u003cbr\u003e (3)The system records that while usage data was received, there was no overage so no reconciliation was performed.                                                                                                                                                                                                                                                                                                                                                   |Y| |\n| T-11    | Add 4 new users (team members) and assign them to projects with role \"maintainer\". Just select existing users.                   | https://docs.gitlab.com/ee/user/project/members/#add-users-to-a-project | This is not a test, just a required step for the test.|N/A |N/A |\n| T-12     | View subscription details| This is not a test, just a required step for the test.                                                        |Navigate to Group \u003e Settings \u003e Billing. `Seats in subscription` s/b `8`, `Seats currently in use` s/b `9`, `Max seats used` s/b `9`, `Seats owed` s/b `1` (note these values are updated every 24 hours)                   |N/A |N/A |\n| T-13    | Q3 reconciliation occurs| This reconciliation step will need to be simulated/forced by development.  \u003cbr\u003e \u003cbr\u003eOpen a fresh rails console to avoid any caching problems from the last reconciliation event and follow the steps from the previous reconciliation above. \u003cbr\u003e After the `Reconciliations::UpdateSaasUserCountService.new(r).execute` step, run the commands in [this comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3824#note_758028735) | (1a) Where cc on file: the customer is charged for an overage of `1` Premium user for the remaining 1 quarter of the agreement. \u003cbr\u003e - ALTERNATE TEST- \u003cbr\u003e (1b) Where cc not on file: [tbd] \u003cbr\u003e \u003cbr\u003e(2a) Where reconciliation successful + payment successful: email sent to customer \u003cbr\u003e - ALTERNATE TEST- \u003cbr\u003e (2b) Where reconciliation was not successful due to payment error: [tbd] \u003cbr\u003e - ALTERNATE TEST- \u003cbr\u003e (2c) Where reconciliation was success + no cc on file: [tbd] \u003cbr\u003e \u003cbr\u003e(3) The system records that reconciliation was performed \u003cbr\u003e \u003cbr\u003e(4) Data sent to SFDC - [opp created? details?] | Y| |\n| T-14     | View subscription details|This is not a test, just a required step for the test.                                                        | Navigate to Group \u003e Settings \u003e Billing. `Seats in subscription` s/b `9`, `Seats currently in use` s/b `9`, `Max seats used` s/b `9`, `Seats owed` s/b `0` (note these values are updated every 24 hours)                   |N/A |N/A |\n| T-15    | Add 4 new users (team members) and assign them to projects with role \"guest\". Just select existing users.                        | https://docs.gitlab.com/ee/user/project/members/#add-users-to-a-project | This is not a test, just a required step for the test.|N/A |N/A|\n| T-16     | View subscription details| This is not a test, just a required step for the test.                                                        |Navigate to Group \u003e Settings \u003e Billing. `Seats in subscription` s/b `9`, `Seats currently in use` s/b `13`, `Max seats used` s/b `13`, `Seats owed` s/b `4` (note these values are updated every 24 hours)                  |N/A |N/A |\n| T-17   | No Q4 reconciliation occurs. | This reconciliation step will need to be simulated/forced by development.  \u003cbr\u003e \u003cbr\u003eOpen a fresh rails console to avoid any caching problems from the last reconciliation event and follow the steps from the previous reconciliation above.  | The reconciliation should be skipped with a skip reason of `last_quarter`. | N/A |\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eUC-12.c: SaaS subscription with an Add-on \u003c/summary\u003e\n\nFollow the same steps as above, but after purchasing the plan at step T-2, also purchase additional storage. \n\nLink to purchase storage package: https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a00f7279a6f5017279d299d01cf9.\n\n\u003c/details\u003e","state":"closed","created_at":"2021-11-23T20:51:54.240Z","updated_at":"2022-04-04T18:38:30.214Z","closed_at":"2021-12-13T13:46:48.057Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3824","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3824","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3824/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3824/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3824","relative":"#3824","full":"gitlab-org/customers-gitlab-com#3824"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97768252,"iid":3822,"project_id":2670515,"title":"OH Testing: UC-11","description":"## Summary\n\nThis is a specific testing issue for use case 11 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @a_luna | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-11: Sales-assisted subscription cancellation\n\n#### Self-managed subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Purchase SM Premium for 5 users | Navigate to the purchase page for Premium SM 1 year subscription.  To make this easier given the plans page is no longer available in staging, [here is a shortcut to the purchase page](https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a01176f0d50a0176f3043c4d4a53). | Purchase flow is successful. The success modal should have a link to activation instructions and a link to the newly created subscription. | Y | |\n| T-2     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity (5). | Y | |\n| T-3     | View the Order in CustomersDot backend | SSH to the CustomersDot staging server and open a rails console.  Find the order associated with the newly purchased subscription. | The order should have a `subscription_id`, `subscription_name` and `product_rate_plan_id` for this subscription. | Y | |\n| T-4     | Find the Subscription in Zuora | Search for the subscription by subscription name in https://test.zuora.com/platform/webapp. Click on the matching result. | View the subscription detail page in Zuora. | Y | |\n| T-5     | Create an Order | Click the blue \"Create Order\" button from the Subscription detail page in Zuora. Click the \"More Order Actions\" link, then select \"Cancel Subscription\".  Click \"Continue\" on the resulting modal, then \"Activate\" the order to confirm the cancellation. | A completed order that cancels the subscription. | Y | |\n| T-6     | Verify subscription was cancelled | Refresh the \"Manage Subscriptions\" page in CustomersDot. | The subscription should no longer appear in the list. | Y | |\n\n\n#### SaaS subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Purchase SaaS Premium for 5 users | Navigate to the purchase page for Premium SaaS 1 year subscription.  To make this easier given the plans page is no longer available in staging, [here is a shortcut to the purchase page](https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a00d76f0d5060176f2fb0a5029ff). | Purchase flow is successful. The success modal should have a link to activation instructions and a link to the newly created subscription. | Y | |\n| T-2     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity (5). | Y | |\n| T-3     | View the Order in CustomersDot backend | SSH to the CustomersDot staging server and open a rails console.  Find the order associated with the newly purchased subscription. | The order should have a `subscription_id`, `subscription_name` and `product_rate_plan_id` for this subscription. | Y | |\n| T-4     | Find the Subscription in Zuora | Search for the subscription by subscription name in https://test.zuora.com/platform/webapp. Click on the matching result. | View the subscription detail page in Zuora. | Y | |\n| T-5     | Create an Order | Click the blue \"Create Order\" button from the Subscription detail page in Zuora. Click the \"More Order Actions\" link, then select \"Cancel Subscription\".  Click \"Continue\" on the resulting modal, then \"Activate\" the order to confirm the cancellation. | A completed order that cancels the subscription. | Y | |\n| T-6     | Verify subscription was cancelled | Refresh the \"Manage Subscriptions\" page in CustomersDot. | The subscription should no longer appear in the list. | Y | |\n| T-7     | View the Order in CustomersDot backend | SSH to the CustomersDot staging server and open a rails console.  Reload the order from before. | The order should have been updated with these values:\u003cbr\u003e- `subscription_id`: `nil`\u003cbr\u003e- `subscription_name`: `nil`\u003cbr\u003e- `product_rate_plan_id`: `Plan::FREE_PLAN` | Y | |","state":"closed","created_at":"2021-11-22T21:46:53.410Z","updated_at":"2021-12-08T16:15:11.005Z","closed_at":"2021-12-08T16:15:10.987Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3822","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3822","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3822/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3822/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3822","relative":"#3822","full":"gitlab-org/customers-gitlab-com#3822"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97765341,"iid":3821,"project_id":2670515,"title":"OH Testing: UC-10","description":"## Summary\n\nThis is a specific testing issue for use case 10 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-10: Customer renews an existing EoA subscription\n\u003cdetails\u003e\n\u003csummary\u003eUC-10a: Self-managed subscription\u003c/summary\u003e\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Login to Zuora | Login to Zuora Central Sandbox and go to the [Customer Account list](https://test.zuora.com/apps/CustomerAccount.do?menu=Z-Billing). Search for the customer account you use in customers.staging.gitlab.com by email address and click on the Customer Account. | On the Customer Account Page | N | |\n| T-2     | Prep a Zuora Order | From the Customer Account page, click on the \"Create Order\" button from the Customer Account page. Click the \"Create Subscription\" button. Leave the default settings except set the following custom fields in Zuora to `Yes`: `EoA Starter Bronze Offer Accepted?`, `Contract Auto Renew`, `Contract Seat Reconciliation`, `Contract Operational Metrics`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`, `Turn On Operational Metrics`.  Click the \"Continue\" button. | On the screen to pick Products and Charges. | N | |\n| T-3     | Select the Product | From the Products screen, search for \"Self-Managed - Premium\" and expand the list of Charges.  Check the box for \"Self-Managed - Premium - 1 Year\". Click the \"Add Product\" button at the bottom of the page. Click the \"Review Order\" button. If all looks good, click the \"Activate\" button. | A completed Order which created a subscription with the SM Premium 1 yr plan. | Y | |\n| T-4     | Receive email with legacy license and activation code | Receive the activation code and legacy license key via email. | The email should contain an activation code and the legacy license key. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-6     | Process a Bill Run | Process a bill run in Zuora for the customer so future web store pricing is correct. Follow [these instructions](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d537a1c591ca45d56d7029b79bcf4a9d23a3eb78/doc/flows/sales_assisted_subscription_creation_workflow.md). | Verify the renewal price is discounted to be $6 per seat per month ($72 a year). | Y | |\n| T-7     | View the Renewal page | From the \"Manage Subscription\" page in CustomersDot staging, click the \"Renew\" button. | Verify the renewal price is discounted to be $6 per seat per month ($72 a year). | Y | |\n| T-8     | Renew the subscription | Confirm the renewal | (1) Verify the subscription was renewed for the next term and displays correctly in CustomersDot. \u003cbr\u003e\u003cbr\u003e (2) Verify 2 Orders (each with their own amendment) were created in Zuora: one for the renewal and another for the Update Product (price uplift). The price uplift should have the key description `EoA Bronze / Starter Price Uplift`. | Y | |\n| T-9     | View another Renewal | From the \"Manage Subscription\" page in CustomersDot staging, click the \"Renew\" button again. | Verify the renewal price is discounted to be $9 per seat per month ($108 a year). | Y | |\n| T-10    | Renew the subscription | Confirm the renewal | (1) Verify the subscription was renewed for the next term and displays correctly in CustomersDot. \u003cbr\u003e\u003cbr\u003e (2) Verify 2 Orders (each with their own amendment) were created in Zuora: one for the renewal and another for the Update Product (price uplift). The price uplift should have the key description `EoA Bronze / Starter Price Uplift`. | Y | |\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eUC-10b: SaaS subscription\u003c/summary\u003e\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Login to Zuora | Login to Zuora Central Sandbox and go to the [Customer Account list](https://test.zuora.com/apps/CustomerAccount.do?menu=Z-Billing). Search for the customer account you use in customers.staging.gitlab.com by email address and click on the Customer Account. | On the Customer Account Page | N | |\n| T-2     | Prep a Zuora Order | From the Customer Account page, click on the \"Create Order\" button from the Customer Account page. Click the \"Create Subscription\" button. Leave the default settings except set the following custom fields in Zuora to `Yes`: `EoA Starter Bronze Offer Accepted?`, `Contract Auto Renew`, `Contract Seat Reconciliation`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`.  Click the \"Continue\" button. | On the screen to pick Products and Charges. | N | |\n| T-3     | Select the Product | From the Products screen, search for \"SaaS - Premium\" and expand the list of Charges.  Check the box for \"SaaS - Premium - 1 Year\". Click the \"Add Product\" button at the bottom of the page. Click the \"Review Order\" button. If all looks good, click the \"Activate\" button. | A completed Order which created a subscription with the SM Premium 1 yr plan. | Y | |\n| T-4     | Receive email for purchase | Receive an email indicating the purchase was successful and instructions for assigning the namespace for the subscription. | The email should contain instructions for assigning the namespace for the subscription. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-6     | Process a Bill Run | Process a bill run in Zuora for the customer so future web store pricing is correct. Follow [these instructions](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d537a1c591ca45d56d7029b79bcf4a9d23a3eb78/doc/flows/sales_assisted_subscription_creation_workflow.md). | Verify the renewal price is discounted to be $6 per seat per month ($72 a year). | Y | |\n| T-7     | View the Renewal page | From the \"Manage Subscription\" page in CustomersDot staging, click the \"Renew\" button. | Verify the renewal price is discounted to be $6 per seat per month ($72 a year). | Y | |\n| T-8     | Renew the subscription | Confirm the renewal | (1) Verify the subscription was renewed for the next term and displays correctly in CustomersDot. \u003cbr\u003e\u003cbr\u003e (2) Verify 2 Orders (each with their own amendment) were created in Zuora: one for the renewal and another for the Update Product (price uplift). The price uplift should have the key description `EoA Bronze / Starter Price Uplift`. | Y | |\n| T-9     | View another Renewal | From the \"Manage Subscription\" page in CustomersDot staging, click the \"Renew\" button again. | Verify the renewal price is discounted to be $9 per seat per month ($108 a year). | Y | |\n| T-10    | Renew the subscription | Confirm the renewal | (1) Verify the subscription was renewed for the next term and displays correctly in CustomersDot. \u003cbr\u003e\u003cbr\u003e (2) Verify 2 Orders (each with their own amendment) were created in Zuora: one for the renewal and another for the Update Product (price uplift). The price uplift should have the key description `EoA Bronze / Starter Price Uplift`. | Y | |\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\n\u003csummary\u003eUC-10c: SaaS subscription with an Add-on\u003c/summary\u003e\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Login to Zuora | Login to Zuora Central Sandbox and go to the [Customer Account list](https://test.zuora.com/apps/CustomerAccount.do?menu=Z-Billing). Search for the customer account you use in customers.staging.gitlab.com by email address and click on the Customer Account. | On the Customer Account Page | N | |\n| T-2     | Prep a Zuora Order | From the Customer Account page, click on the \"Create Order\" button from the Customer Account page. Click the \"Create Subscription\" button. Leave the default settings except set the following custom fields in Zuora to `Yes`: `EoA Starter Bronze Offer Accepted?`, `Contract Auto Renew`, `Contract Seat Reconciliation`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`.  Click the \"Continue\" button. | On the screen to pick Products and Charges. | N | |\n| T-3     | Select the Product | From the Products screen, search for \"SaaS - Premium\" and expand the list of Charges.  Check the box for \"SaaS - Premium - 1 Year\". Click the \"Add Product\" button at the bottom of the page. Click the \"Review Order\" button. If all looks good, click the \"Activate\" button. | A completed Order which created a subscription with the SM Premium 1 yr plan. | Y | |\n| T-4     | Receive email for purchase | Receive an email indicating the purchase was successful and instructions for assigning the namespace for the subscription. | The email should contain instructions for assigning the namespace for the subscription. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-6     | Process a Bill Run | Process a bill run in Zuora for the customer so future web store pricing is correct. Follow [these instructions](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d537a1c591ca45d56d7029b79bcf4a9d23a3eb78/doc/flows/sales_assisted_subscription_creation_workflow.md). | Verify the renewal price is discounted to be $6 per seat per month ($72 a year). | Y | |\n| T-7     | Purchase a Storage Add-on | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\", then click the link to \"Buy additional storage\". Fill in the form leaving quantity at 1 and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-8     | View the Renewal page | From the \"Manage Subscription\" page in CustomersDot staging, click the \"Renew\" button. | Verify the renewal price is discounted to be $6 per seat per month ($72 a year). | Y | |\n| T-9     | Renew the subscription | Confirm the renewal | (1) Verify the subscription was renewed for the next term and displays correctly in CustomersDot. \u003cbr\u003e\u003cbr\u003e (2) Verify 2 Orders (each with their own amendment) were created in Zuora: one for the renewal and another for the Update Product (price uplift). The price uplift should have the key description `EoA Bronze / Starter Price Uplift`. | Y | |\n| T-10    | View another Renewal | From the \"Manage Subscription\" page in CustomersDot staging, click the \"Renew\" button again. | Verify the renewal price is discounted to be $9 per seat per month ($108 a year). | Y | |\n| T-11    | Renew the subscription | Confirm the renewal | (1) Verify the subscription was renewed for the next term and displays correctly in CustomersDot. \u003cbr\u003e\u003cbr\u003e (2) Verify 2 Orders (each with their own amendment) were created in Zuora: one for the renewal and another for the Update Product (price uplift). The price uplift should have the key description `EoA Bronze / Starter Price Uplift`. | Y | |\n\n\u003c/details\u003e","state":"closed","created_at":"2021-11-22T20:56:12.470Z","updated_at":"2022-02-10T18:27:34.554Z","closed_at":"2021-12-08T16:13:30.530Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3821","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3821","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3821/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3821/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3821","relative":"#3821","full":"gitlab-org/customers-gitlab-com#3821"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97706044,"iid":3813,"project_id":2670515,"title":"Unable to save credit card validation due to name length","description":"## Problem\n\nhttps://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2988223/?referrer=gitlab_plugin\n\nSpecific event: https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2988223/events/58585295/\n\n\n```\nStacktrace (most recent call first):\n\n  lib/gitlab/logger_helpers.rb:24:in `public_send'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:24:in `log'\n    Gitlab::Logger.public_send(log_level, object, options) # rubocop:disable GitlabSecurity/PublicSend\n  lib/gitlab/logger_helpers.rb:13:in `log_error'\n    log(:error, error, extra: extra)\n  app/services/zuora_callbacks/credit_card_validation_service.rb:60:in `mark_valid_cc_for_user'\n    log_error(\n  app/services/zuora_callbacks/credit_card_validation_service.rb:18:in `execute'\n    mark_valid_cc_for_user\n  app/controllers/zuora_callbacks_controller.rb:26:in `credit_card_validation'\n    ).execute\n  lib/middleware/maintenance.rb:25:in `call'\n    @app.call(env)\n  lib/middleware/health_check/health_check_responder.rb:14:in `call'\n    return @app.call(env) if format.nil? || (ip_blocked(env) \u0026\u0026 not_authenticated(env))\n...\n(78 additional frame(s) were not displayed)\n\nunable to save credit card validation\n```\n\nKibana: https://log.gprd.gitlab.net/goto/a59f573cb130fe1b14eee41e521714cf\n\n## Proposal\n\nUpdate character constraint on Credit Card Holder Name from 26 to 50\n\n## Implementation Plan\n\nUpdate this area of code from `26` to `50` https://gitlab.com/gitlab-org/gitlab/-/merge_requests/71032#note_692224348","state":"closed","created_at":"2021-11-22T02:01:16.247Z","updated_at":"2022-03-10T15:22:51.167Z","closed_at":"2022-03-10T08:58:39.469Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","Support Priority","backend","customer","devops::fulfillment","group::purchase","section::fulfillment","severity::2","type::bug","workflow::in dev"],"milestone":null,"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":27,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3813","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3813","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3813/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3813/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3813","relative":"#3813","full":"gitlab-org/customers-gitlab-com#3813"},"severity":"UNKNOWN","moved_to_id":104532335,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97528220,"iid":3808,"project_id":2670515,"title":"Git push fails due to 10GB project size limit even additional storage is available","description":"\u003c!---\nPlease read this!\n\nBefore opening a new issue, make sure to search for keywords in the issues\nfiltered by the \"bug\" label in relevant trackers:\n\n- https://gitlab.com/gitlab-org/gitlab/issues?label_name%5B%5D=bug\n- https://gitlab.com/gitlab-org/customers-gitlab-com/issues?label_name%5B%5D=bug\n\nand verify the issue you're about to submit isn't a duplicate.\n\nDo not include confidential information!\n---\u003e\n\n# Bug\n\n## Summary\n\nA customer pre-purchase Additional storage for their group namespace while none of the project under the namespace has reached the 10GB limit. When the customer try to do git Push which cause the project to go above the 10GB limit, the push is rejected.\n\n## Steps to reproduce\n\n1. Purchase Additional Storage for a namespace when none of the project has reach the limit yet\n1. Do a git push to the project that would cause the project to go above the 10GB limit\n1. Observe the push being rejected\n\n## What is the current *bug* behavior?\n\nGit push is rejected even though there's additional storage available for the group that the project is under.\n\n## What is the expected *correct* behavior?\n\nGit push command should come through when there's additional storage available.\n\n## Relevant logs and/or screenshots\n\n(Paste any relevant logs - please use code blocks (```) to format console output,\nlogs, and code as it's tough to read otherwise.)\n\n```\nbatch response: Your push has been rejected, because this repository has exceeded its size limit of 10 GB by 660 MB. Please contact your GitLab administrator for more information.\nUploading LFS objects: 0% (0/30), 0 B | 0 B/s, done.\n```\n\n## Workarounds\n\nReach out to support so we can manually change the limit as a workaround.\n\n## Reported examples\n\n1. https://gitlab.zendesk.com/agent/tickets/248670\n1. https://gitlab.zendesk.com/agent/tickets/254399\n1.\n\n\u003c!---\nPlease add both severity and priority level according to: https://docs.gitlab.com/ee/development/contributing/issue_workflow.html#severity-labels\n---\u003e","state":"closed","created_at":"2021-11-18T07:49:39.304Z","updated_at":"2022-12-06T00:01:49.709Z","closed_at":"2022-12-06T00:01:49.688Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["SUS::Impacting","UX","[deprecated] Category:Utilization","auto closed","auto updated","backend","customer","devops::fulfillment","group::utilization","missed:15.2","missed:15.3","missed:15.5","priority::3","section::fulfillment","severity::3","type::bug","workflow::ready for development"],"milestone":{"id":1212252,"iid":48,"group_id":9970,"title":"Next 1-3 releases","description":"Issues which are not quite ready to schedule, but should be considered as part of the near-term roadmap.","state":"active","created_at":"2020-03-26T20:39:10.889Z","updated_at":"2020-03-26T20:39:10.889Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/48"},"assignees":[],"author":{"id":786864,"username":"rotanak","name":"Sokunrotanak Srey (Rotanak)","state":"active","avatar_url":"https://secure.gravatar.com/avatar/9e138f6598fa362b95f725febc80087e?s=80\u0026d=identicon","web_url":"https://gitlab.com/rotanak"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3808","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3808","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3808/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3808/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3808","relative":"#3808","full":"gitlab-org/customers-gitlab-com#3808"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97394786,"iid":3800,"project_id":2670515,"title":"Send Future subscription info thru seat link","description":"### Problem\n\nIn https://gitlab.com/gitlab-org/gitlab/-/issues/338657 we need to display future subscription information in self managed instance.\n\n### Proposal\n\nWe pass future subscription information through seat link to the self managed instance.\n\n### Result\n\n### Next steps (if any)\n\nhttps://gitlab.com/gitlab-org/gitlab/-/issues/338657\n\n### How will we measure success?","state":"closed","created_at":"2021-11-16T03:47:27.482Z","updated_at":"2023-03-13T17:23:10.642Z","closed_at":"2022-01-12T08:06:03.716Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["Cloud License Sync - V2","Cloud Licensing","GitLab Premium","GitLab Ultimate","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.6","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2156369,"iid":68,"group_id":9970,"title":"14.7","description":"","state":"active","created_at":"2021-07-21T17:39:41.786Z","updated_at":"2021-07-21T17:39:41.786Z","due_date":"2022-01-17","start_date":"2021-12-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/68"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3800","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3800","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3800/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3800/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3800","relative":"#3800","full":"gitlab-org/customers-gitlab-com#3800"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":97387694,"iid":3799,"project_id":2670515,"title":"OH Testing: UC-9","description":"## Summary\n\nThis is a specific testing issue for use case 9 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: @tyleramos |\n| 2 |  |  |\n\n### UC-9: SaaS Subscription created through sales-assisted order\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Login to Zuora | Login to Zuora Central Sandbox and go to the [Customer Account list](https://test.zuora.com/apps/CustomerAccount.do?menu=Z-Billing). Search for the customer account you use in customers.staging.gitlab.com by email address and click on the Customer Account. | On the Customer Account Page | N | |\n| T-2     | Prep a Zuora Order | From the Customer Account page, click on the \"Create Order\" button from the Customer Account page. Click the \"Create Subscription\" button. Leave the default settings except set the following custom fields in Zuora to `Yes`: `Contract Auto Renew`, `Contract Seat Reconciliation`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`.  Click the \"Continue\" button. | On the screen to pick Products and Charges. | N | |\n| T-3     | Select the Product | From the Products screen, search for \"SaaS - Ultimate\" and expand the list of Charges.  Check the box for \"SaaS - Ultimate - 1 Year\". Click the \"Add Product\" button at the bottom of the page. Click the \"Review Order\" button. If all looks good, click the \"Activate\" button. | A completed Order which created a subscription with the SaaS Ultimate 1 yr plan. | Y | |\n| T-4     | Receive email with setup instructions | Receive an email from CustomersDot with instructions for completing the setup of the subscription by selecting the group to associate with the subscription. | The email should contain instructions for assigning a group to the subscription. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity. | Y | |","state":"closed","created_at":"2021-11-15T22:21:33.826Z","updated_at":"2021-12-08T16:13:17.618Z","closed_at":"2021-12-08T16:13:17.596Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3799","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3799","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3799/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3799/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3799","relative":"#3799","full":"gitlab-org/customers-gitlab-com#3799"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97386009,"iid":3798,"project_id":2670515,"title":"OH Testing: UC-8","description":"## Summary\n\nThis is a specific testing issue for use case 8 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 | @a_luna | :white_check_mark: Completed \u0026 Passed |\n\n### UC-8: SM Subscription created through sales-assisted order\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Login to Zuora | Login to Zuora Central Sandbox and go to the [Customer Account list](https://test.zuora.com/apps/CustomerAccount.do?menu=Z-Billing). Search for the customer account you use in customers.staging.gitlab.com by email address and click on the Customer Account. | On the Customer Account Page | N | |\n| T-2     | Prep a Zuora Order | From the Customer Account page, click on the \"Create Order\" button from the Customer Account page. Click the \"Create Subscription\" button. Leave the default settings except set the following custom fields in Zuora to `Yes`: `Contract Auto Renew`, `Contract Seat Reconciliation`, `Contract Operational Metrics`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`, `Turn On Operational Metrics`.  Click the \"Continue\" button. | On the screen to pick Products and Charges. | N | |\n| T-3     | Select the Product | From the Products screen, search for \"Self-Managed - Ultimate\" and expand the list of Charges.  Check the box for \"Self-Managed - Ultimate - 1 Year\". Click the \"Add Product\" button at the bottom of the page. Click the \"Review Order\" button. If all looks good, click the \"Activate\" button. | A completed Order which created a subscription with the SM Ultimate 1 yr plan. | Y | |\n| T-4     | Receive email with legacy license and activation code | Receive the activation code and legacy license key via email. | The email should contain an activation code and the legacy license key. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  Verify the activation code is shown and can be copied. Verify you can download the license file.  | (1) Subscription details show the correct Start date, Purchase date, Product, and Quantity (1). \u003cbr\u003e\u003cbr\u003e (2) The Activation Code is shown and can be copied to clipboard. \u003cbr\u003e\u003cbr\u003e (3) License file can be downloaded. | Y | |","state":"closed","created_at":"2021-11-15T21:30:06.503Z","updated_at":"2021-12-08T16:13:06.339Z","closed_at":"2021-12-08T16:13:06.285Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},{"id":4717243,"username":"a_luna","name":"Amparo Luna","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4717243/avatar.png","web_url":"https://gitlab.com/a_luna"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3798","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3798","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3798/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3798/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3798","relative":"#3798","full":"gitlab-org/customers-gitlab-com#3798"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97385598,"iid":3796,"project_id":2670515,"title":"OH Testing: UC-6","description":"## Summary\n\nThis is a specific testing issue for use case 6 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-6: Customer upgrades an existing SM subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Purchase SM Premium for 5 users | Navigate to the purchase page for Premium SM 1 year subscription.  To make this easier given the plans page is no longer available in staging, [here is a shortcut to the purchase page](https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a01176f0d50a0176f3043c4d4a53). | Purchase flow is successful. The success modal should have a link to activation instructions and a link to the newly created subscription. | Y | |\n| T-2     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product (Premium), and Quantity (5). | Y | |\n| T-3     | Upgrade the subscription | From the Manage Subscriptions page in CustomersDot staging, click the \"Upgrade\" button. Change the plan to Ultimate and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-4     | Receive the renewal email with legacy license and activation code | Receive the activation code and legacy license key via the email. | The email should contain an Ultimate license with the same activation code as before but the legacy license key should be new. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date (in 2021), Purchase date (in 2021), Product (Ultimate), and Quantity (5). | Y | |","state":"closed","created_at":"2021-11-15T21:17:47.366Z","updated_at":"2021-12-08T16:12:35.794Z","closed_at":"2021-12-08T16:12:35.758Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3796","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3796","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3796/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3796/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3796","relative":"#3796","full":"gitlab-org/customers-gitlab-com#3796"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97381850,"iid":3794,"project_id":2670515,"title":"OH Testing: UC-7","description":"## Summary\n\nThis is a specific testing issue for use case 7 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed  |\n| 2 |  |  |\n\n### UC-7: Customer upgrades an existing SaaS subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Find a group in https://staging.gitlab.com/ with an existing plan subscription | Find a group that already has a plan. If you do not have one, you can follow steps 1-4 of [use case 2](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3790).  You can check the group plan by navigating to Settings -\u003e Billing. | The Billing page shows a Group that is currently on Premium and able to be upgraded to Ultimate.  | Y | |\n| T-2     | Upgrade plan to Ultimate | Click on the Upgrade button for Ultimate. Fill in the form and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-3     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | Subscription details show the correct Start date, Purchase date, Product (Ultimate), and Quantity. | Y | |\n| T-4     | View Billing page | Navigate to Group's Billing page in staging.gitlab.com. | The Group should be shown as \"currently using the Ultimate SaaS Plan (Formerly Gold)\". | Y | |","state":"closed","created_at":"2021-11-15T19:48:31.488Z","updated_at":"2021-12-08T16:12:47.096Z","closed_at":"2021-12-08T16:12:47.065Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3794","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3794","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3794/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3794/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3794","relative":"#3794","full":"gitlab-org/customers-gitlab-com#3794"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97381594,"iid":3793,"project_id":2670515,"title":"OH Testing: UC-5","description":"## Summary\n\nThis is a specific testing issue for use case 5 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-5: Customer renews an existing SaaS subscription\n\n#### UC-5a: SaaS subscription without Add-ons\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Find a group in https://staging.gitlab.com/ with an existing plan subscription | Find a group that already has a plan. If you do not have one, you can follow steps 1-4 of [use case 2](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3790).  You can check the group plan by navigating to Settings -\u003e Billing. | The Billing page shows a Group that is currently on Premium.  | Y | |\n| T-2     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | Subscription details show the correct Start date, Purchase date, Product (Premium), and Quantity. | Y | |\n| T-3     | Renew the subscription | From the Manage Subscriptions page in CustomersDot staging, click the \"Renew\" button. Change the plan to Ultimate, change Active users from 1 (assuming the initial count was 1) to 3, and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-4     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | (1) Subscription details show the correct Start date (in 2022), Purchase date (in 2021), Product (Ultimate), and Quantity (3). \u003cbr\u003e\u003cbr\u003e (2) The next renewal date is in 2023. | Y | |\n| T-5     | View Billing page | Navigate to Group's Billing page in staging.gitlab.com. | Because the renewal should not be active yet, the Group should be shown as \"currently using the Premium SaaS Plan (Formerly Silver)\". The subscription details table should show \"Seats in subscription\" as 1. | Y | |\n\n#### UC-5b: SaaS subscription with Add-ons\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Find a group in https://staging.gitlab.com/ with an existing plan subscription, plus an Add On | Find a group that already has a plan, plus an Add On for Storage or CI minutes. If you do not have one, you can follow steps 1-10 of [use case 2](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3790).  You can check the group plan by navigating to Settings -\u003e Billing. You can check the Storage or CI minutes by navigating to Settings -\u003e Usage Quotas. | The Billing page shows a Group that is currently on Premium. The Usage Quotas page shows a Group with additional minutes or Storage.  | Y | |\n| T-2     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | Subscription details show at least two products (one for Premium and another for the Add On) with correct Start date, Purchase date, Product, and Quantity. | Y | |\n| T-3     | Renew the subscription | From the Manage Subscriptions page in CustomersDot staging, click the \"Renew\" button. Change the plan to Ultimate, change Active users from 1 (assuming the initial count was 1) to 3, and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-4     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | (1) Subscription details shows 2 products (Plan and Add On) with the correct Start date (in 2022), Purchase date (in 2021), Product (Ultimate or Storage/CI Minutes), and Quantity. \u003cbr\u003e\u003cbr\u003e (2) The next renewal date is in 2023. | Y | |\n| T-5     | View Billing page | Navigate to Group's Billing page in staging.gitlab.com. | Because the renewal should not be active yet, the Group should be shown as \"currently using the Premium SaaS Plan (Formerly Silver)\". The subscription details table should show \"Seats in subscription\" as 1. | Y | |","state":"closed","created_at":"2021-11-15T19:40:00.892Z","updated_at":"2021-12-08T16:12:20.451Z","closed_at":"2021-12-08T16:12:20.300Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3793","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3793","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3793/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3793/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3793","relative":"#3793","full":"gitlab-org/customers-gitlab-com#3793"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97380582,"iid":3792,"project_id":2670515,"title":"OH Testing: UC-4","description":"## Summary\n\nThis is a specific testing issue for use case 4 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Successful |\n| 2 |  |  |\n\n### UC-4: Customer renews an existing SM subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Purchase SM Premium for 5 users | Navigate to the purchase page for Premium SM 1 year subscription.  To make this easier given the plans page is no longer available in staging, [here is a shortcut to the purchase page](https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a01176f0d50a0176f3043c4d4a53). | (1) Purchase flow is successful. The success modal should have a link to activation instructions and a link to the newly created subscription. \u003cbr\u003e\u003cbr\u003e (2) The following custom fields in Zuora are set to `Yes`: `Contract Auto Renew`, `Contract Seat Reconciliation`, `Contract Operational Metrics`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`, `Turn On Operational Metrics` \u003cbr\u003e\u003cbr\u003e (3) The following custom fields in Zuora are not set: `Turn On Cloud Licensing` | Y | |\n| T-2     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  Verify the activation code is shown and can be copied. Verify you can download the license file.  | (1) Subscription details show the correct Start date, Purchase date, Product, and Quantity (5). \u003cbr\u003e\u003cbr\u003e (2) The Activation Code is shown and can be copied to clipboard. \u003cbr\u003e\u003cbr\u003e (3) License file can be downloaded. | Y | |\n| T-3     | Renew the subscription | From the Manage Subscriptions page in CustomersDot staging, click the \"Renew\" button. Change the plan to Ultimate, change Active users from 5 to 6, and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-4     | Receive the renewal email with legacy license and activation code | Receive the activation code and legacy license key via the renewal email. | The email should contain the same activation code as before but the legacy license key should be new.  The user limit in the email should now show 6. The now Ultimate license should start in 2022 and expire in 2023. | Y | |\n| T-5     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | (1) Subscription details show the correct Start date (in 2022), Purchase date (in 2021), Product (Ultimate), and Quantity (6). \u003cbr\u003e\u003cbr\u003e (2) The next renewal date is in 2023. | Y | |","state":"closed","created_at":"2021-11-15T19:25:42.818Z","updated_at":"2021-12-08T16:11:49.634Z","closed_at":"2021-12-08T16:11:49.617Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3792","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3792","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3792/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3792/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3792","relative":"#3792","full":"gitlab-org/customers-gitlab-com#3792"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97379608,"iid":3791,"project_id":2670515,"title":"OH Testing: UC-3","description":"## Summary\n\nThis is a specific testing issue for use case 3 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-3: Customer purchases an Add-on subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Find or create a group in https://staging.gitlab.com/ | Either find a group that does not already have a plan or create a new one on https://staging.gitlab.com/.  You can check the group plan by navigating to Settings -\u003e Billing. | The Billing page shows a Group is able to be upgraded to Premium or Ultimate.  | Y | |\n| T-2     | Purchase additional Storage | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\", then click the link to \"Purchase more storage\". Fill in the form leaving quantity at 1 and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-3     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to find a new subscription was created and verify the subscription details are accurate.  | Subscription details shows a single product for \"Gitlab Storage 10GB - 1 Year\" under the subscription, with the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-4     | View Usage Quotas page | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\". | The Group should have additional storage available after the purchase (10 GiB). | Y | |\n| T-5     | Purchase additional Storage | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\", then click the link to \"Purchase more storage\". Fill in the form leaving quantity at 1 and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-6     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to find the subscription from earlier and verify the subscription details are accurate.  | Subscription details now shows 2 products, each for \"Gitlab Storage 10GB - 1 Year\" under the subscription, with the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-7     | View Usage Quotas page | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\". | The Group should have additional storage available after the purchase (20 GiB). | Y | |","state":"closed","created_at":"2021-11-15T19:12:25.917Z","updated_at":"2021-12-08T16:11:40.653Z","closed_at":"2021-12-08T16:11:40.638Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3791","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3791","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3791/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3791/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3791","relative":"#3791","full":"gitlab-org/customers-gitlab-com#3791"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97376774,"iid":3790,"project_id":2670515,"title":"OH Testing: UC-2","description":"## Summary\n\nThis is a specific testing issue for use case 2 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-2: Customer purchases a new SaaS subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Find or create a group in https://staging.gitlab.com/ | Either find a group that does not already have a plan or create a new one on https://staging.gitlab.com/.  You can check the group plan by navigating to Settings -\u003e Billing. | The Billing page shows a Group is able to be upgraded to Premium or Ultimate.  | Y | |\n| T-2     | Purchase a Premium SaaS plan | Click on the Upgrade button for Premium. Fill in the form and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-3     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | Subscription details show the correct Start date, Purchase date, Product, and Quantity (likely 1 unless your groups has more users). | Y | |\n| T-4     | View Billing page | Navigate to Group's Billing page in staging.gitlab.com. | The Group should be shown as \"currently using the Premium SaaS Plan (Formerly Silver)\". The subscription details table should show  \"Seats in subscription\" as 1 (unless you purchased more seats). | Y | |\n| T-5     | Add more seats | From the Manage Subscriptions page in CustomersDot staging, click the \"Add More Seats\" button. Set the additional seats to 2 and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-6     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate. | Subscription details show the correct Start date, Purchase date, Product, and Quantity (likely 3 unless your groups had more users initially). | Y | |\n| T-7     | View Billing page | Navigate to Group's Billing page in staging.gitlab.com. | The Group should be shown as \"currently using the Premium SaaS Plan (Formerly Silver)\". The subscription details table should show  \"Seats in subscription\" as 3 (unless you purchased more seats initially). | Y | |\n| T-8     | Purchase additional Storage | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\", then click the link to \"Purchase more storage\". Fill in the form leaving quantity at 1 and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-9     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | Subscription details shows an additional product for \"Gitlab Storage 10GB - 1 Year\" under the subscription, with the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-10    | View Usage Quotas page | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\". | The Group should have additional storage available after the purchase (10.0 GiB). | Y | |\n| T-11    | Purchase another Storage pack | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\", then click the link to \"Purchase more storage\". Fill in the form leaving quantity at 1 and confirm the purchase. | Purchase flow is successful. | Y | |\n| T-12    | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  | Subscription details shows 2 additional products, each for \"Gitlab Storage 10GB - 1 Year\" under the subscription, with the correct Start date, Purchase date, Product, and Quantity (1). | Y | |\n| T-13    | View Usage Quotas page | Navigate to Settings -\u003e Usage quotas in staging.gitlab.com for your Group. Click on the tab for \"Storage\". | The Group should have additional storage available after the purchase (20 GiB for the 2 additional packs purchased). | Y | |","state":"closed","created_at":"2021-11-15T18:10:48.348Z","updated_at":"2021-12-08T16:11:18.225Z","closed_at":"2021-12-08T16:11:18.211Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3790","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3790","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3790/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3790/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3790","relative":"#3790","full":"gitlab-org/customers-gitlab-com#3790"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97374051,"iid":3789,"project_id":2670515,"title":"OH Testing: UC-1","description":"## Summary\n\nThis is a specific testing issue for use case 1 on https://gitlab.com/groups/gitlab-org/-/epics/6606\n\n### Testing DRIs\n\n|Tester ID | Tester Name | Status |\n|:---:|---|---|\n| 1 | @tyleramos | :white_check_mark: Completed \u0026 Passed |\n| 2 |  |  |\n\n### UC-1: Customer purchases a new SM subscription\n\n| Step ID | Test Step   | Description | Expected Outcome | Testable? | Pass/Fail |\n|---------|--------|----|----------|:---:|:---:|\n| T-1     | Purchase SM Premium for 5 users | Navigate to the purchase page for Premium SM 1 year subscription.  To make this easier given the plans page is no longer available in staging, [here is a shortcut to the purchase page](https://customers.staging.gitlab.com/subscriptions/new?plan_id=2c92a01176f0d50a0176f3043c4d4a53). | (1) Purchase flow is successful. The success modal should have a link to activation instructions and a link to the newly created subscription. \u003cbr\u003e\u003cbr\u003e (2) The following custom fields in Zuora are set to `Yes`: `Contract Auto Renew`, `Contract Seat Reconciliation`, `Contract Operational Metrics`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`, `Turn On Operational Metrics` \u003cbr\u003e\u003cbr\u003e (3) The following custom fields in Zuora are not set: `Turn On Cloud Licensing` | Y | |\n| T-2     | Receive email with legacy license and activation code | Receive the activation code and legacy license key via email. | The email should contain an activation code and the legacy license key. | Y | |\n| T-3     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  Verify the activation code is shown and can be copied. Verify you can download the license file.  | (1) Subscription details show the correct Start date, Purchase date, Product, and Quantity (5). \u003cbr\u003e\u003cbr\u003e (2) The Activation Code is shown and can be copied to clipboard. \u003cbr\u003e\u003cbr\u003e (3) License file can be downloaded. | Y | |\n| T-4     | Add more seats | From the Manage Subscriptions page in CustomersDot staging, click the \"Add More Seats\" button. Set the additional seats to 2 and confirm the purchase. | (1) Purchase flow is successful. \u003cbr\u003e\u003cbr\u003e (2) The following custom fields in Zuora are set to `Yes`: `Contract Auto Renew`, `Contract Seat Reconciliation`, `Contract Operational Metrics`, `Turn On Seat Reconciliation`, `Turn on Auto Renew`, `Turn On Operational Metrics` \u003cbr\u003e\u003cbr\u003e (3) The following custom fields in Zuora are not set: `Turn On Cloud Licensing` | Y | |\n| T-5     | Receive email with legacy license and activation code | Receive the activation code and legacy license key via email. | The email should contain the same activation code as before but the legacy license key should be new.  The user limit in the email should now show 7. | Y | |\n| T-6     | View subscription details | Navigate to the \"Manage Subscription\" page in CustomersDot staging to verify the subscription details are accurate.  Verify the activation code is shown and can be copied. Verify you can download the license file.  | (1) Subscription details show the correct Start date, Purchase date, Product, and Quantity (7). \u003cbr\u003e\u003cbr\u003e (2) The Activation Code is shown and can be copied to clipboard. \u003cbr\u003e\u003cbr\u003e (3) License file can be downloaded. | Y | |","state":"closed","created_at":"2021-11-15T17:12:59.846Z","updated_at":"2021-12-08T16:08:39.300Z","closed_at":"2021-12-08T16:08:39.280Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3789","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3789","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3789/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3789/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3789","relative":"#3789","full":"gitlab-org/customers-gitlab-com#3789"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6606,"epic":{"id":331986,"iid":6606,"title":"License Provisioning Group Testing","url":"/groups/gitlab-org/-/epics/6606","group_id":9970,"human_readable_end_date":"Nov 27, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97186348,"iid":3784,"project_id":2670515,"title":"QSR Amendment.Name Process + Orders API","description":"### Problem\n\nQuarterly Subscription Reconciliation (QSR) and Auto-Renewal amendments are currently being identified in Zuora by by populating Amendment.Name with the following:\n\n1. `Automated seat reconciliation` - for QSR\n2. `AutoRenew by CustomersDot` - for Auto-Renewal\n\nThese Amendment Names are also being used to identify invoices related to QSR and Auto-Renewal.\n\nWith the full transition to Zuora Orders, the Amendment object is being replaced by the Order objects.  As part of this epic https://gitlab.com/groups/gitlab-org/-/epics/8665+, we will stop using Amendments to make subscription changes.  Therefore, we need a way to identify QSR and Auto-Renewal on the Order and Invoice objects.\n\n### Proposal\n\n1. **Transitioning from Amendment.Name:** use the `Order.Description` field when we transition to Orders API. This will be sufficient in identifying Orders that are generated from the QSR/Auto-Renewal processes, even if multiple order actions are utilized in the auto-renewal process. (this issue).\n    - [x] QSR: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3784 (this issue)\n    - [x] Auto renewal: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/5017 \n2. **Traversing from Order to Invoice**: to ensure a completely accurate 1:1 relationship between Order and Invoice, we should stamp the Invoice with a value to identify QSR/Auto-Renewal. (epic: https://gitlab.com/groups/gitlab-org/-/epics/8898)\n\n### Result\n\nOrders and Invoices related to QSR and Auto-Renewal are easy to identify in Zuora.\n\n### Next steps (if any)\n\n\n### How will we measure success?","state":"closed","created_at":"2021-11-11T16:54:09.844Z","updated_at":"2022-11-07T06:35:19.983Z","closed_at":"2022-10-27T12:22:19.360Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","devops::fulfillment","group::fulfillment platform","product work","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2687593,"iid":81,"group_id":9970,"title":"15.6","description":"","state":"active","created_at":"2022-07-06T19:22:27.893Z","updated_at":"2022-07-06T19:22:27.893Z","due_date":"2022-11-17","start_date":"2022-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/81"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":7200051,"username":"mquitevis","name":"Mark Quitevis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7200051/avatar.png","web_url":"https://gitlab.com/mquitevis"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":19,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3784","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3784","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3784/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3784/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3784","relative":"#3784","full":"gitlab-org/customers-gitlab-com#3784"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":9048,"epic":{"id":629651,"iid":9048,"title":"Transition Reconciliation (QSR) workflow to use Orders API","url":"/groups/gitlab-org/-/epics/9048","group_id":9970,"human_readable_end_date":"Jan 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97110941,"iid":3778,"project_id":2670515,"title":"Use constants for amendment types consistently","description":"## Proposal\n\nAmendment types are referenced inconsistently throughout the CustomersDot code.  There is an `Amendment::Types` module where type constants are defined and these constants are used in some places.  There are different constants defined in `AmendGenerator`.  In many other places, strings are used instead of constants.  Let's update CustomersDot to reference one set of constants if possible.  It probably makes sense to define all the possible constants in `Amendment::Types`.\n\n## Original discussion\n\nThe following discussion from !4063 should be addressed:\n\n- [ ] @cwiesner started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4063#note_729757014):  (+1 comment)\n\n    \u003e **thought (non-blocking):** I wonder if it makes sense to move these strings into constants :thinking: If I understand it correctly, these are similar to the ones defined in `Zuora::Order` ([here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/3a3804e1fc1aa8d74a3c4b12d4c509fc82232af0/lib/zuora/order.rb#L13)), right?\n    \u003e \n    \u003e Here's also the usage of `Amendment::Types::NEW_SUBSCRIPTION`. So do you think there's a single place to define all of these? :thinking:","state":"closed","created_at":"2021-11-10T15:41:31.871Z","updated_at":"2022-09-27T21:33:00.665Z","closed_at":"2022-09-06T05:50:07.673Z","closed_by":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","maintenance::refactor","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453026,"iid":76,"group_id":9970,"title":"15.4","description":"[GitLab 15.4 Release](https://gitlab.com/gitlab-org/gitlab/-/releases/v15.4.0-ee)","state":"active","created_at":"2022-02-03T22:29:22.015Z","updated_at":"2022-09-29T02:21:26.561Z","due_date":"2022-09-17","start_date":"2022-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/76"},"assignees":[{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":11217480,"username":"tvellishetty","name":"Tarun Vellishetty","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11217480/avatar.png","web_url":"https://gitlab.com/tvellishetty"},"user_notes_count":7,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3778","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3778","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3778/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3778/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3778","relative":"#3778","full":"gitlab-org/customers-gitlab-com#3778"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8665,"epic":{"id":594036,"iid":8665,"title":"Transition Amend() to the Zuora Orders API for subscription amendments","url":"/groups/gitlab-org/-/epics/8665","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":100161491,"iid":3913,"project_id":2670515,"title":"Allow Support team to create Starter temporary licenses in CustomersDot","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nAfter the implementation of [[BE, FE] Improve trial license generation user experience in CustomersDot (#101)](https://gitlab.com/gitlab-org/license-gitlab-com/-/issues/101) it is no longer possible to create Starter trial licenses. \\\nThis makes sense for (potential) customers as the Starter plan is being phased out, and no longer available as a new subscription. \\\nThe L\u0026R Support team however has to create temporary Starter licenses on a very regular basis, to help out customers that are still on Starter and experiencing problems during renewal. At the request of the Sales team or by L\u0026R Support's own initiative a temporary license is provided to ensure continuity.\n\n### Proposal\n\nRe-instate the ability to generate a trial starter plan in Customers Portal app for the L\u0026R Support team.\n\nNote: Teresa: I'm thinking it's a simple rollback but please let me know if not.\n\n### Result\nThe L\u0026R Support team can create Starter temporary licenses again.\n\n### Next steps (if any)\n\n### How will we measure success?\nHappy customers, happy L\u0026R Support team, happy Sales team.\n\n### Reported examples\n\n1. gitlab-com/support/internal-requests#10827\n1. gitlab-com/support/internal-requests#11084\n1. gitlab-com/support/internal-requests#11581\n1. https://gitlab-federal-support.zendesk.com/agent/tickets/2051\n1. gitlab-com/support/internal-requests#11851\n1. gitlab-com/support/internal-requests#11943\n1. gitlab-com/support/internal-requests#11944\n1. https://gitlab-federal-support.zendesk.com/agent/tickets/2106\n1. https://gitlab.zendesk.com/agent/tickets/260553","state":"closed","created_at":"2021-11-10T15:04:08.888Z","updated_at":"2022-04-27T17:07:30.780Z","closed_at":"2022-01-21T17:33:55.233Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Maintenance and Support","Support Priority","[deprecated] Category:Provision","[deprecated] ðŸŽ","backend","customer","devops::fulfillment","group::provision","section::fulfillment","workflow::in review"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":4015010,"username":"rverschoor","name":"Rene Verschoor","state":"active","avatar_url":"https://secure.gravatar.com/avatar/34ff23f73913372d0b5c5e5ff4e92819?s=80\u0026d=identicon","web_url":"https://gitlab.com/rverschoor"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":14,"merge_requests_count":0,"upvotes":4,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3913","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3913","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3913/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3913/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3913","relative":"#3913","full":"gitlab-org/customers-gitlab-com#3913"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97031347,"iid":3769,"project_id":2670515,"title":"[Feature flag] Rollout redirect for /plans page","description":"# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout [Remove the CustomersDot plans page and direct users to the marketing pricing page](https://gitlab.com/groups/gitlab-org/-/epics/6806) on CustomersDot production,\nthat is currently behind the [`redirect_plans_page`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/108/edit) feature flag.\n\n## Owners\n\n- Team: Purchase\n- Most appropriate Slack channel to reach out to: `#g_purchase`\n- Best individual to reach out to: @dzubova\n- PM: @tgolubeva \n\n## Stakeholders\n\n\u003c!--\nAre there any other stages or teams involved that need to be kept in the loop?\n\n- GITLAB_HANDLE of a PM\n- The Support Team\n- The Delivery Team\n--\u003e\n\n## The Rollout Plan\n\n- Rollout Feature for everyone as soon as it's ready\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? Sentry errors reports can also be useful to review --\u003e\n\n## Expectations\n\n### What are we expecting to happen?\n\nWhat happens when user reaches [https://customers.gitlab.com/plans](https://ustomers.gitlab.com/plans)?\n\nIndependently from login status users will be redirected to [https://customers.gitlab.com/](https://customers.gitlab.com/)\n\nWhat happens when user reaches [https://customers.gitlab.com/](https://customers.gitlab.com/)?\n\n| x | Before | After |\n| ------ | ------ | ------ |\n| Case 1: User is logged in | Redirect to `/subscription` page | Render subscription list on the root page (no redirect) |\n| Case 2: User is not logged in | Redirect to `/plans` page | Redirect to `/customer/sign_in`, when credentials provided - see above :arrow_up: |\n| Case 3: Admin is logged in and impersonating user | Redirect to `/subscription` page (for impersonated user) | Render subscription list on the root page (for impersonated user) |\n| Case 4: Admin is logged in | Redirect to `/plans` page | Redirect to `/customer/sign_in` |\n| Case 5: New user is logged in (no subscriptions before) | Redirect to `/plans` page | Sees empty state  with 2 buttons on root page |\n\n### What might happen if this goes wrong?\n\nIf we receive a feedback about problems with log in or redirect problems we should immediately rollback the FF\n\n### What can we monitor to detect problems with this?\n\n\u003c!-- Which dashboards from https://dashboards.gitlab.net are most relevant? --\u003e\n\n- [#s_fulfillment_status](https://gitlab.slack.com/archives/CL7SX4N86)\n- [Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/?query=is%3Aunresolved)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Consider announcing that the flag will be enabled to potentially impacted groups, e.g. `#s_fulfillment_engineering`\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [x] Announce on [the feature issue](ISSUE LINK) an estimated time this will be enabled on production if applicable\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment \n- [x] Announce on [the feature epic](https://gitlab.com/groups/gitlab-org/-/epics/6806) that the feature has been globally enabled.\n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `redirect_plans_page` feature flag https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4124\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the Unleash feature flag from the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](LINK TO THE FEATURE FLAG EDIT PAGE)","state":"closed","created_at":"2021-11-09T17:38:03.900Z","updated_at":"2021-12-18T07:02:49.489Z","closed_at":"2021-12-13T14:44:41.726Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Deliverable","devops::fulfillment","feature flag","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3769","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":26,"completed_count":21},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3769","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3769/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3769/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3769","relative":"#3769","full":"gitlab-org/customers-gitlab-com#3769"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":97007078,"iid":3766,"project_id":2670515,"title":"Generate API specs with running requests test traffic through Optic","description":"We can automate REST API documentation by running our requests tests and documenting the resulted diff with Optic.\n\n@jameslopez has a fork of the middleware that could get handy for proxying test traffic https://github.com/bluegod/ruby-rack-fixture/tree/fix-readme\n\nDev notes:\n\nTo add a gem\n\n```\ngem 'optic-middleware', git: 'git@github.com:bluegod/ruby-rack-fixture.git', branch: 'fix-readme'\n```\n\nand follow https://github.com/bluegod/ruby-rack-fixture/tree/fix-readme documentation","state":"closed","created_at":"2021-11-09T12:37:27.121Z","updated_at":"2022-05-04T16:05:49.407Z","closed_at":"2022-05-04T16:05:49.354Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","maintenance::refactor","missed:14.8","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":8,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3766","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3766","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3766/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3766/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3766","relative":"#3766","full":"gitlab-org/customers-gitlab-com#3766"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6898,"epic":{"id":367040,"iid":6898,"title":"Promote the Fulfillment API","url":"/groups/gitlab-org/-/epics/6898","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":96972080,"iid":3760,"project_id":2670515,"title":"Follow-up from \"Update Staging documentation with relevant user\"","description":"The following discussion from !4050 should be addressed:\n\n- [ ] @ebaque started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4050#note_724226215):  (+1 comment)\n\n    \u003e @cmcfarland As part of user provisioning process, would it be possible to add `/home/fulansdep/.rbenv/shims` to `fulansdep`'s `PATH` please? Or should I just simply add that in `fulansdep`'s dotfiles manually on the server?\n    \u003e \n    \u003e That would make running rake tasks on Staging a bit more easier.","state":"closed","created_at":"2021-11-08T22:41:30.239Z","updated_at":"2021-12-20T19:21:22.006Z","closed_at":"2021-12-20T19:21:22.001Z","closed_by":{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"labels":["[deprecated] Category:Provision","[deprecated] Category:Utilization","devops::fulfillment","group::utilization","section::fulfillment"],"milestone":null,"assignees":[{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"}],"author":{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"type":"ISSUE","assignee":{"id":4192493,"username":"ebaque","name":"Etienne BaquÃ©","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4192493/avatar.png","web_url":"https://gitlab.com/ebaque"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3760","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3760","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3760/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3760/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3760","relative":"#3760","full":"gitlab-org/customers-gitlab-com#3760"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96954185,"iid":3754,"project_id":2670515,"title":"Ramps Discovery: Review Ramp subscription data in Zuora to inform provisioning plan","description":"### Problem\n\nThe overall goal of this issue is to learn how CustomersDot supports ramps (multi-year subscriptions) once Orders Harmonization is live in Zuora Central Sandbox and the `orders_harmonization` feature is enabled in customers.staging.gitlab.com.  Orders Harmonization will be tested as part of https://gitlab.com/gitlab-org/gitlab/-/issues/343474 so that issue is a blocker for this.\n\n~\"Enterprise Applications\" will be creating use cases as part of an investigative spike issue, https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/385#investigative-spike.  \n\n### Proposal\n\nOnce [Orders Harmonization](https://gitlab.com/groups/gitlab-org/-/epics/6641) dev work is complete and the feature has been enabled in CustomersDot staging, ~\"Enterprise Applications\" will create Ramp use cases in Zuora API Sandbox and Zuora Central Sandbox as documented in [this issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/129).  This is estimated to start 2021-11-15, and completed by 2021-11-19.\n\nThe Fulfillment team will observe and document behavior in CustomersDot.  We should be able to start this effort by 2021-11-22.\n\nHere's a list of this we should check:\n- Were callouts received and processed as expected for ramp subscriptions?\n  - Emails delivered?\n  - Offline license generated for 1st year of subscription?\n- Are ramp subscriptions displayed correctly in the \"Manage Subscriptions\" page for customers?\n  - Does the download/copy License function as expected?  It should have created the license for the first year of the subscription's multi-year term.\n- Is support able to manually create licenses effectively for the 2nd year or later of the multi year subscription?\n\nIf anything is found that requires Fulfillment work, we should note it in this issue and notify @teresatison as it could impact the delivery date for Ramps.\n\n### Test Data\nRamps data has been generated in the dev environment (via Zuora API SB 1) for Fulfillment review. Test scenarios are listed out [here](https://docs.google.com/spreadsheets/d/1iCOjbZySCKxtLpjab8pBAP_1w440AyiaS30nAiLSifM/edit#gid=1534882502).","state":"closed","created_at":"2021-11-08T16:45:58.374Z","updated_at":"2022-09-15T14:37:06.748Z","closed_at":"2022-02-05T00:21:44.817Z","closed_by":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"labels":["Ramps Provisioning","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:14.7","section::fulfillment","spike","workflow::in dev"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":65,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3754","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3754","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3754/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3754/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3754","relative":"#3754","full":"gitlab-org/customers-gitlab-com#3754"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":7506,"epic":{"id":435838,"iid":7506,"title":"Discovery for Ramps","url":"/groups/gitlab-org/-/epics/7506","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":96817014,"iid":3751,"project_id":2670515,"title":"Update usages of /plans page on GitLab","description":"We are migrating from https://customers.gitlab.com/plans to https://about.gitlab.com/pricing/ and need to update links to /plans page that present in GitLab.\n\n| Case | Screenshot | Should lead to |\n| ------ | ------ | ------ |\n| For free accounts we have a link in the navigation | ![Screenshot_2021-11-05_at_17.09.42](/uploads/aeb608177e528ef59254745390e99ae7/Screenshot_2021-11-05_at_17.09.42.png) | https://about.gitlab.com/pricing/ |\n| For feature promotions we have a link in the sidebar | ![Screenshot_2021-11-05_at_17.24.41](/uploads/4a1a66b670e8d291110948e7834e94c9/Screenshot_2021-11-05_at_17.24.41.png) | https://about.gitlab.com/pricing/ |\n| For feature promotions if the license has expired we have a link in the sidebar| ![Screenshot_2021-11-05_at_17.28.44](/uploads/165657bc8c825af02f434cafe0c6ec83/Screenshot_2021-11-05_at_17.28.44.png) | https://about.gitlab.com/pricing/ |\n| On admin subscription page when no license applied | ![Screenshot_2021-11-05_at_17.33.57](/uploads/b58aa0eb240ffbc51aff3dd02f2150a6/Screenshot_2021-11-05_at_17.33.57.png) | https://about.gitlab.com/pricing/ |\n\nDevelopers note: To release a feature simultaneously we could use a feature flag to set condition for these links. Lag between two releases is tolerable as we will have /plans redirect to root in place, the flow won't be completely broken - means no 404s.","state":"closed","created_at":"2021-11-05T16:58:24.716Z","updated_at":"2021-11-16T17:34:47.847Z","closed_at":"2021-11-12T13:58:48.495Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3751","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3751","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3751/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3751/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3751","relative":"#3751","full":"gitlab-org/customers-gitlab-com#3751"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":96805587,"iid":3749,"project_id":2670515,"title":"Make Fulfillment projects M1 compatible","description":"We have new teammate starting end of November.\n\nSince Apple has discontinued Intel based laptops our new teammember will get a M1 laptop.\n\nIt's difficult enough to start in a new company with a new tech stack without running into problems that only occur on your machine.\n\nWe should make sure our projects are M1 compatible.","state":"closed","created_at":"2021-11-05T15:10:29.769Z","updated_at":"2022-03-16T11:30:45.628Z","closed_at":"2021-11-23T09:49:32.927Z","closed_by":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"labels":["Unplanned","[deprecated] Category:Provision","devops::fulfillment","frontend","group::provision","maintenance::workflow","section::fulfillment","type::maintenance"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4430316,"username":"rhardarson","name":"Ragnar Hardarson","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4430316/avatar.png","web_url":"https://gitlab.com/rhardarson"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-29","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3749","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3749","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3749/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3749/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3749","relative":"#3749","full":"gitlab-org/customers-gitlab-com#3749"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96617264,"iid":3738,"project_id":2670515,"title":"Follow-up from \"Add Feature Flag to removing CDot Plans page\"","description":"The following discussion from !3967 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3967#note_721389363): \n\n    \u003e **suggestion:** We can create a small follow up ticket to address the remaining case when `:zuora_application_down` is enabled.","state":"closed","created_at":"2021-11-02T19:14:02.217Z","updated_at":"2021-11-04T13:43:20.236Z","closed_at":"2021-11-04T13:43:20.220Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","maintenance::refactor","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3738","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3738","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3738/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3738/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3738","relative":"#3738","full":"gitlab-org/customers-gitlab-com#3738"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96268929,"iid":3717,"project_id":2670515,"title":"Missing :access_token authentication option","description":"Errors::PlatypusAppAuthSidekiq/Platypus::CreateLeadWorker\nMissing :access_token authentication option\n\nWe get the following errors today on Sentry.\n- https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2916270/events/\n\n\n### Steps\n- [x] Identify the root cause of the error\n- [x] Check if the leads got transferred thanks to 3 retries.\n\n\n\n### Corrective actions\n- [x] Improve the error handling\n- [x] 56 leads are stuck at CustomersDot. Build the job to fix it.\n- [x] Log the sending issues in the leads table","state":"closed","created_at":"2021-10-27T15:57:41.184Z","updated_at":"2021-12-06T15:41:59.477Z","closed_at":"2021-12-03T17:22:10.895Z","closed_by":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"labels":["devops::growth","feature::enhancement","group::acquisition","section::growth","type::feature"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"}],"author":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"type":"ISSUE","assignee":{"id":4409816,"username":"a_akgun","name":"Alper Akgun","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4409816/avatar.png","web_url":"https://gitlab.com/a_akgun"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3717","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3717","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3717/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3717/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3717","relative":"#3717","full":"gitlab-org/customers-gitlab-com#3717"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96273916,"iid":3720,"project_id":2670515,"title":"Licensing Email to Partner","description":"## Summary\n\nToday, licensing emails are sent to the End User: Sold To contact. Given the 3-tier model of these orders, the Partner Contact facilitating the purchase of GitLab needs to receive the licensing email in addition to the End User.  For detailed requirements about licensing email updates, see [this issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/132).\n\n## Requirements\n\nCustomize the existing license email for e-marketplace orders to send a courtesy cop (cc) the Reseller Contact.\n\n## Scope\n\n- https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/445\n\n## Proposal\n\n- CustomersDot does have some logic already for resellers.\n  - If a subscription is considered to be managed by a reseller (e.g. `invoice_owner_id != account_id`), then the customer account associated with the subscription will not be allowed to login to CustomersDot.\n  - When the license email is sent to the customer and the subscription is managed by a reseller, a reseller notification email is sent to the reseller. The email used for the reseller is pulled from the work_email of the subscription invoice_owner contact account.\n- The [issue description](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/132#details) states the \"contact is different from the Sell To, Invoice Owner, or Bill To contacts and will most likely not be stored in Zuora\". Given that, it sounds like we would have to fetch this information from SFDC which would be new work. However, the step to create data in SFDC is after this step, so I'm not sure where we should get this information.\n- I'm curious what this means for the existing reseller logic. Would this need to be modified or disabled for E-Disty subscriptions?\n- Would the Partner Contact email address be added to the existing email, or would it require a new email with specialized copy? The former would likely be less effort.\n- Weight: 3-5 (This one is difficult to say with certainty based on the questions above)\n\n_* proposal and weight extracted from Tyler's analysis [here](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/132#note_713339231)_","state":"closed","created_at":"2021-10-25T19:27:26.442Z","updated_at":"2022-03-29T00:01:37.870Z","closed_at":"2022-03-29T00:01:36.971Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["[deprecated] Category:Provision","auto closed","auto updated","backend","devops::fulfillment","eDisty","group::provision","section::fulfillment","type::feature","workflow::problem validation"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":7964536,"username":"courtmeddaugh","name":"Courtney Meddaugh","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7964536/avatar.png","web_url":"https://gitlab.com/courtmeddaugh"},"user_notes_count":13,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3720","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3720","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3720/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3720/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3720","relative":"#3720","full":"gitlab-org/customers-gitlab-com#3720"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":96273949,"iid":3721,"project_id":2670515,"title":"[Purchase] SubscribeService: CustomersDot Data","description":"## Summary\n\nAfter Zuora has received all the necessary information, the SubscribeService API should create the customer account with all related info in CustomersDot. The customer then needs to be provisioned a license(s).  For detailed requirements for what records and data need to be created in Customers Dot, see [this issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/134).\n\n## Requirements\n\nEnsure all customer, subscription and license records are created in CustomersDot.\n\n## Proposal\n\n- The [issue description here](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/129#cdot-data-creation) mentions \"After Zuora has received all necessary information, the SubscribeService API should create the customer account\". I'm wondering if this is a hard requirement for the customer account to be created after. The `SubscribeService` in CDot currently requires a customer object so it would likely be easier to reuse this service if we created the customer before sending the information to Zuora.\n- I have some questions about the [list of fields here](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/134#customersdot-data-requirements), but I don't think we have to work through these now as they probably wouldn't impact the LOE significantly.\n- Weight: 3\n\n_* proposal and weight extracted from Tyler's analysis [here](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/134#note_713337543)_","state":"closed","created_at":"2021-10-25T19:17:31.820Z","updated_at":"2022-05-05T21:36:30.227Z","closed_at":"2022-02-28T17:05:17.147Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Purchase","Duplicate","auto closed","auto updated","devops::fulfillment","eDisty","group::purchase","section::fulfillment","type::feature","won't do"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":null,"user_notes_count":10,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3721","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3721","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3721/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3721/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3721","relative":"#3721","full":"gitlab-org/customers-gitlab-com#3721"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96273702,"iid":3718,"project_id":2670515,"title":"[Purchase] SubscribeService: Zuora Data","description":"## Summary\n\nOnce compliance has passed, the SubscribeService API should create the customer account and related subscription information in Zuora. For detailed requirements for what records and data need to be created in Zuora, see [this issue](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/127).\n\n## Requirement\n\nEnsure all customer and subscription records are created in Zuora.\n\n## Proposal\n\n- Based on the current requirements in the [issue description](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/127#zuora-requirements), I think Fulfillment engineers would have a difficult task knowing what's expected of the new subscribe API endpoint right now. This might be my confusion, but I thought the purpose of this issue was to define the transaction from CustomersDot into Zuora. However, the description includes information about Quote-related objects, which I thought were SFDC-related, and that this information would be fed into SFDC after successful entry into Zuora (as part of https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/128).\n- What would be helpful to assess LOE for this issue might be to understand what exactly needs to be sent in the subscribe API request to Zuora. Or another way to think about it might be to understand how this the Zuora subscribe request differs from the current request from a web direct purchase.\n- Just to confirm, the new CustomersDot API will only handling new subscription purchases, correct? Or does it also need to handle subscription updates from Arrow.\n- Weight:8 (based on the unknowns so far)\n\n_* proposal and weight extracted from Tyler's analysis [here](https://gitlab.com/gitlab-com/business-technology/enterprise-apps/bsa/business-systems-analysts/-/issues/127#note_713335446)_","state":"closed","created_at":"2021-10-25T19:07:13.044Z","updated_at":"2022-05-05T21:35:54.327Z","closed_at":"2022-02-28T00:01:42.518Z","closed_by":{"id":1786152,"username":"gitlab-bot","name":"ðŸ¤– GitLab Bot ðŸ¤–","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1786152/avatar.png","web_url":"https://gitlab.com/gitlab-bot"},"labels":["Category:Purchase","Duplicate","auto closed","auto updated","devops::fulfillment","eDisty","group::purchase","section::fulfillment","type::feature","won't do"],"milestone":null,"assignees":[],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3718","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3718","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3718/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3718/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3718","relative":"#3718","full":"gitlab-org/customers-gitlab-com#3718"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":96106871,"iid":3710,"project_id":2670515,"title":"Visual Compliance Check for E-Disty","description":"## Summary\n\nWhen an order is first submitted, received by Platypus and by Customers API, a callout to Visual Compliance must be made to validate that the End User information is on a denied parties list. [This document](https://docs.google.com/presentation/d/1hD1xgEyJL1U1eyvTci6NNlCdIur4PkB16GO52wjZRgk/edit#slide=id.g5d8fd53174_0_44) provides more information on how Visual Compliance works today for sales assisted deals.\n\nIf compliance check fails, Arrow needs to be notified of order rejection. If compliance check passes, the order should proceed and data should continue to flow through GitLab's internal systems.\n\n## Requirement\n\nEnsure all Arrowsphere Orders are submitted through Visual Compliance prior to booking.\n\n## Potential Options\n\n### Option 1: Use CDot Existing API\n\n- A pre-requisite to this step will be to [enable VC in CustomersDot](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3393), date TBD.\n- The `ComplianceCheckService` can likely be re-used for the new subscribe API endpoint to be used by Platypus.\n  * Currently the `ComplianceCheckService` is utilized in a `before_action` filter for a few controller actions: customer registration and subscriptions controller actions (new, edit, renew, autorenew).\n- The tricky part will be making sure the input from Arrow matches the expectation for the visual compliance API. It expects 3 parameters: `company`, `country`, `state`. It's difficult to say because we don't have access to docs, but I believe it uses [the ISO_3166 standard](https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes).\n- The other piece to sort out is what to do when compliance fails. The requirements say \"Arrow needs to be notified of order rejection\". Are there any more specifics known for this requirement? Is Arrow looking for a specific HTTP code? I'm not sure we need to know all the specifics at this point for estimation, as long as the expected response isn't too involved.\n\n\n### Option 2: Create Platypus Callout\n* The original decision for e-disty implementation was for Platypus to own the compliance check\n* After meeting with Visual Compliance, API setup does seem straightforward \u0026 doable, however there will be an additional cost to proceeding this way\n\n##### Pricing Info\n* Annual price of approximately 12,000 USD given standard 3 year term and leveraging of existing Gitlab/Descartes Visual Compliance master terms\n* One-time $2,500 integration service and activation setup fee for the initial implementation effort which covers a dedicated implementation consultant, sandbox/test environment, and concierge service to ensure solution is up and running as efficiently as possible\n\n## Proposal\n\nAs of June 2 2022, we are leaning towards implementing Option 1, with some alterations.  The original plan for Option 1 was to first enable existing VC solution (as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3393).  The existing VC solution was disabled in production because of a discrepancy between the countries that VC was blocking and the countries that GitLab wanted to block.  However, with v1 of the Distributor e-Marketplace solution with Arrowsphere, we only need to account for US-based orders, making the existing VC API a possibility at least in the short-term.\n\nThe current proposal is to implement and enable VC just for the marketplace API as a short-term solution to be able to release v1.  Long-term, the VC solution in CDot will be replaced with RiskRate.","state":"closed","created_at":"2021-10-25T18:52:38.758Z","updated_at":"2023-02-06T19:17:39.694Z","closed_at":"2022-06-17T07:07:37.807Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","eDisty","group::fulfillment platform","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":7971452,"username":"teresatison","name":"Teresa Tison","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7971452/avatar.png","web_url":"https://gitlab.com/teresatison"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3710","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3710","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3710/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3710/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3710","relative":"#3710","full":"gitlab-org/customers-gitlab-com#3710"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6873,"epic":{"id":365061,"iid":6873,"title":"Integrate with Distributor e-Marketplace (Arrowsphere) to create and provision orders","url":"/groups/gitlab-org/-/epics/6873","group_id":9970,"human_readable_end_date":"Nov 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95692923,"iid":3695,"project_id":2670515,"title":"Backend: Update orders table to set product_rate_plan_id of new OSS plan (for existing orders)","description":"### Problem to solve\n\nWe need to update GL.com database to set GitLab subscription hosted_plan_id of `opensource` after the CustomersDot is able to sync `opensource` for Order having a subscription `Plan::ULTIMATE_SAAS_OSS_1_YEAR`.\n\n### Proposal\n\n- [x] Write a rake task to do the following \n     1. Find the Orders within CustomersDot having product_rate_plan_id = Plan::ULTIMATE_SAAS_OSS_1_YEAR\n     1. Sync changes to the gl_namespace_id within order to GL.com to update gitlab_subscriptions as `opensource`\n- [x] Get the MR merged into main branch.\n- [x] Verify the rake command on staging.  \n- [x] Turn on the flag `opensource_plans` for production. \n- [x] Run the rake task and verify that the data is updated correctly\n\nIn case there is an unexpected error\n\n1. Turn off the [flag `opensource_plan`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n2. Invoke OnCall duty person to run the following on GL.com console. \n\n```ruby\nGitlabSubscription.where(hosted_plan_id: 135).update_all(hosted_plan_id: 101)\n```","state":"closed","created_at":"2021-10-19T12:28:14.371Z","updated_at":"2022-06-14T11:58:05.700Z","closed_at":"2022-06-09T14:08:59.360Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["CI minutes","Category:Continuous Integration","FY23::Q2","Stretch","Verify::P2","[deprecated] Category:Utilization","backend","devops::fulfillment","group::pipeline execution","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":28,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3695","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":5,"completed_count":5},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3695","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3695/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3695/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3695","relative":"#3695","full":"gitlab-org/customers-gitlab-com#3695"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6895,"epic":{"id":366730,"iid":6895,"title":"Distinguish Free plan from OpenSource program","url":"/groups/gitlab-org/-/epics/6895","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95679216,"iid":3694,"project_id":2670515,"title":"Sync opensource plan code to GL when order is created","description":"### Description\n\nZuora issues a callback when a Zuora admin/sales creates a `opensource` subscription for a customer. \n\nThe customer receives an email about the new subscription and steps to assign a namespace to the new subscription. \n\nThe CustomersDot need to [sync `opensource` plan id](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/services/gitlab/namespaces/update_plan_info_service.rb#L124) to GL.com. This would notify the GL.com to use the `opensource` plan for the namespace.  \n\n### Proposal\n\nUpdate method [PlansFinder find](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/61b2dead60696ac0a9bddbbbc69890f217f2ea75/app/models/plans_finder.rb#L53) method to return plan_id as opensource for the OSS product_rate_plan_i\n\n### Result\n\nThe new plan synced to GL.com is not `ultimate` but `opensource`\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nThe unit test for `find` should be created/updated to accommodate the behavior.","state":"closed","created_at":"2021-10-19T10:33:53.124Z","updated_at":"2022-05-06T21:19:40.148Z","closed_at":"2022-05-06T13:40:43.108Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Continuous Integration","Category:Purchase","Verify::P3","backend","devops::fulfillment","group::purchase","quad-planning::complete-action","section::fulfillment","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3694","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3694","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3694/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3694/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3694","relative":"#3694","full":"gitlab-org/customers-gitlab-com#3694"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6895,"epic":{"id":366730,"iid":6895,"title":"Distinguish Free plan from OpenSource program","url":"/groups/gitlab-org/-/epics/6895","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95620770,"iid":3692,"project_id":2670515,"title":"Validate presence of zuora_subscription_id in LicenseSeatLink model","description":"The following discussion from !3949 should be addressed:\n\n- [ ] @ebaque started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3949#note_703493550):  (+1 comment)\n\n    \u003e **Nitpick**: A bit unrelated to this MR: I just noticed that while we have `validates: zuora_subscription_name, presence: true` in `LicenseSeatLink`, we don't have the same for `zuora_subscription_id`. And there's no `null: false` for the related column at the DB level.\n    \u003e \n    \u003e Not a big deal, as `LicenseSeatLink.where(zuora_subscription_id: nil).count` returns `0` in prod. But maybe worth having a follow-up MR to add a validation for `zuora_subscription_id`? WDYT?","state":"closed","created_at":"2021-10-18T14:57:05.558Z","updated_at":"2022-09-21T12:05:41.356Z","closed_at":"2022-09-20T08:26:37.633Z","closed_by":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","missed:15.4","priority::4","section::fulfillment","type::maintenance","workflow::production"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":12246302,"username":"paulobarros","name":"Paulo Barros","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/12246302/avatar.png","web_url":"https://gitlab.com/paulobarros"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3692","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3692","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3692/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3692/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3692","relative":"#3692","full":"gitlab-org/customers-gitlab-com#3692"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95533154,"iid":3690,"project_id":2670515,"title":"Instrument Customer Portal Subscription management flows (SaaS and Self-Managed)","description":"## Summary\n\nAs we begin to improve the measurement of our full e-commerce funnel we need to ensure we have proper instrumentation across all purchase flows so we can measure each step of the funnel. \n\nThis issue will focus on subscription management flows in Customer Portal.\n\n* Collection tool: Snowplow\n* Release behind the feature flag (separate from https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3689): `tracking_subscription_management`\n\n### Information to track (Self-Managed)\n\n| Type | Description | Location | Event Category | Event Action | Event Label |\n| ------ | ------ | ----- | ----- | ----- | ------ |\n| Event | User clicks `Upgrade` | */subscriptions/A-* | Webstore | Click | Upgrade subscription | \n| Event | User clicks `Add more seats` | */subscriptions/A-* | Webstore | Click | Add seats |\n| Event | User clicks `Cancel subscription` | */subscriptions/A-* | Webstore | Click | Cancel subscription |\n| Event | User clicks `Renew` | */subscriptions/A-* | Webstore | Click | Renew subscription |\n\n\n### Information to track (SaaS)\n\n| Type | Description | Location | Event Category | Event Action | Event Label |\n| ------ | ------ | ----- | ----- | ----- | ------ |\n| Event | User clicks `Upgrade` | */subscriptions/A-* | Webstore | Click | Upgrade | \n| Event | User clicks `Add more seats` | */subscriptions/A-* | Webstore | Click | Add seats |\n| Event | User clicks `Cancel subscription` | */subscriptions/A-* | Webstore | Click | Cancel subscription |\n| Event | User clicks `Renew` | */subscriptions/A-* | Webstore | Click | Renew subscription |\n| Event | User clicks `Buy more CI minutes` | */subscriptions/A-* | Webstore | Click | Buy CI minutes |\n| Event | User clicks `Buy more storage` | */subscriptions/A-* | Webstore | Click | Buy Storage |\n| Event | User clicks `Change linked namespace` | */subscriptions/A-* | Webstore | Click | Change namespace |\n\nAny other information we should be tracking as part of the subscription management? For example:\n\n* `Add more seats` - track full transaction\n* `Upgrade` - track full transaction\n* `Renew` - track full transaction\n* `Buy more CI minutes`/Buy more storage` - track full transaction\n* `Change linked namespace` - track full transaction\n* `Cancel` - is already tracked\n```\nEvent Category : subscription_card\nEvent Action : subscription_auto_renew\nEvent Label : cancelled\nEvent Property : experiment\n```\n\n### Implementation plan\n\n|||\n|-|-|\n| Add [`tracking_subscription_management`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/114/edit) Feature Flag | gitlab-org/customers-gitlab-com!4126 |\n| Add tracking events for SM/SaaS Subscription management flow | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4787  |\n| Add tracking events for SaaS **specific** Subscription management flow | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4838  |\n| Add BE tracking for full transactions | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4825  |\n| Extra: split SubscriptionButtons into 3 smaller compoents | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4788  |\n\n## Dashboard\n\nRequest for a dashboard from the Product Analytics team: https://gitlab.com/gitlab-data/product-analytics/-/issues/539","state":"closed","created_at":"2021-10-16T17:55:51.451Z","updated_at":"2023-03-07T14:00:06.824Z","closed_at":"2022-07-13T23:57:37.760Z","closed_by":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"labels":["[deprecated] Category:Billing and Subscription Management","devops::fulfillment","frontend","group::billing and subscription management","missed:15.1","section::fulfillment","type::feature","workflow::verification"],"milestone":{"id":2453024,"iid":74,"group_id":9970,"title":"15.2","description":"","state":"active","created_at":"2022-02-03T22:24:46.818Z","updated_at":"2022-02-03T22:26:32.010Z","due_date":"2022-07-17","start_date":"2022-06-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/74"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3690","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3690","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3690/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3690/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3690","relative":"#3690","full":"gitlab-org/customers-gitlab-com#3690"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6527,"epic":{"id":321108,"iid":6527,"title":"Webstore Instrumentation","url":"/groups/gitlab-org/-/epics/6527","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95533083,"iid":3689,"project_id":2670515,"title":"Instrument Customer Portal New Subscription Purchase flow (Self-Managed)","description":"## Summary\n\nAs we begin to improve the measurement of our full e-commerce funnel we need to ensure we have proper instrumentation across all purchase flows so we can measure each step of the funnel. \n\n* Collection tool: Snowplow\n* Release behind the feature flag ([`tracking_new_ee_subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/113/edit))\n\n## Information to track\n\n| Type | Description | Location | Event Category | Event Action | Event Label |\n| ------ | ------ | ----- | ----- | ----- | ------ |\n| Pageview | Records pageviews for each page in the purchasing flow | */subscriptions/new* |\n| Event | User changes active users count | */subscriptions/new* | Webstore | Click | Active users | \n| Event | User adds new credit card | */subscriptions/new* | Webstore | Click | Add new card |\n| Event | User clicks \"buy subscription\" | */subscriptions/new* | Webstore | Click | Purchase subscriptoin |\n| Event | User clicks on \"activate your license\" | */subscriptions/new* | Webstore | Click | Activate your license | \n| Event | User views their subscription | */subscriptions/new* | Webstore | Click | View your subscription | \n| Event | User copies cloud license activation code | */subscriptions/A-* | Webstore | Click | Copy cloud license code |\n\n\nAny other information we should be tracking as part of the new subscription purchase flow?\n\n### Implementation plan\n\n|||\n|-|-|\n| Add [`tracking_new_ee_subscription`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/113/edit) Feature Flag | gitlab-org/customers-gitlab-com!4114 |\n| Add Tracking helper fro FE tracking |https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4446|\n| Add tracking events for Self-Managed New Subscription flow | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4448  |\n| Add `google_analytics_id` and `customer_id` to snowplow events | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4438  |\n| Add backend events at the start and end of the subscription flow | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4466  |\n| Add new customerDot standard schema as default | https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/4505 |\n| Add a new iglu schema for customerDot | https://gitlab.com/gitlab-org/iglu/-/merge_requests/76 |\n\n## Dashboards\n\nPlease note these funnels track first-time (net new) purchases for SaaS and SM:\n\n* [SaaS Purchase Funnel (via /billings page)](https://app.periscopedata.com/app/gitlab:safe-dashboard/985319/SaaS-Purchase-Flow-Funnel)\n* [SaaS Purchase Funnel (All views to checkout page)](https://app.periscopedata.com/app/gitlab:safe-dashboard/1022191/Saas-purchase-flow-funnel-(all-views-to-checkout-page))\n* [WIP: Self-Managed Purchase Flow Funnel (via Customer Portal)](https://app.periscopedata.com/app/gitlab:safe-dashboard/1019118/WIP:Subscription-purchase-flow-for-Customer-Portal)","state":"closed","created_at":"2021-10-16T17:49:42.368Z","updated_at":"2022-12-12T01:24:44.864Z","closed_at":"2022-04-07T12:24:21.364Z","closed_by":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","devops::growth","frontend","group::acquisition","missed:14.6","section::growth","snowplow tracking events","workflow::verification"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":3509693,"username":"nicolasdular","name":"Nicolas Dular","state":"active","avatar_url":"https://secure.gravatar.com/avatar/c4a21f15150c12ddf13fd848597cddd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/nicolasdular"},"user_notes_count":91,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3689","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3689","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3689/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3689/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3689","relative":"#3689","full":"gitlab-org/customers-gitlab-com#3689"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6527,"epic":{"id":321108,"iid":6527,"title":"Webstore Instrumentation","url":"/groups/gitlab-org/-/epics/6527","group_id":9970,"human_readable_end_date":"Jul 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95527637,"iid":3688,"project_id":2670515,"title":"Sync 50_000 minutes for OpenSource plans","description":"### Description\n\nA customer when buys a paid subscription via CustomerDot, [CI minutes are synced](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/lib/namespace_params_generator.rb#L50) from CustomersDot to GitLab.com.\n\nAs per the new requirements, the CI minutes for new opesource program should be 50_000 as [noted here](https://gitlab.com/groups/gitlab-org/-/epics/6895#note_706068096). \n\n### Proposal\n\nUpdate [method `gitlab_pipeline_minutes`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/app/models/plan.rb#L463) to sync 50_000 minutes for an opensource plan. \n\n### Result\n\nCustomer when subscribes to opensource plans have 50_000 CI minutes.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nUnit tests should be updated to ensure the new minute count is reflected.\n\nWe should also consider an integration test to validate the behavior between CustomersDot -\u003e GitLab","state":"closed","created_at":"2021-10-16T12:37:20.996Z","updated_at":"2022-05-06T20:45:07.416Z","closed_at":"2022-05-06T13:37:29.953Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["CI minutes","Category:Continuous Integration","Verify::P3","[deprecated] Category:Utilization","backend","devops::fulfillment","group::pipeline execution","quad-planning::complete-action","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3688","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3688","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3688/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3688/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3688","relative":"#3688","full":"gitlab-org/customers-gitlab-com#3688"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6895,"epic":{"id":366730,"iid":6895,"title":"Distinguish Free plan from OpenSource program","url":"/groups/gitlab-org/-/epics/6895","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95489790,"iid":3687,"project_id":2670515,"title":"Add opensource plan information in Plans API","description":"### Description\n\nOn the billings page of a namespace, [plans information](https://gitlab.com/gitlab-org/gitlab/-/blob/master/ee/app/controllers/groups/billings_controller.rb#L20) is fetched via API by making call to CustomersDot. \n\nThe information received via API is then used by the billings page to display what an admin can upgrade their plans to. For example - If the namespace is on Premium plan then they can upgrade to Ultimate plan and disable the upgrade option for Premium plan. \n\n### Proposal\n\n1. Create new OSS plan id `opensource` within the plans model in CustomersDot\n1. Modify the plans controller to send opensource plan to GL.com.\n1. Create a new feature flag `opensource_plan` within CustomersDot.\n1. Display `[OSS] Ultimate SaaS Plan` on the billings page of GitLab.com","state":"closed","created_at":"2021-10-15T13:18:08.594Z","updated_at":"2022-05-06T21:19:40.209Z","closed_at":"2022-05-06T13:33:33.830Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Continuous Integration","Stretch","Verify::P3","[deprecated] Category:Utilization","backend","devops::fulfillment","group::pipeline execution","missed:14.10","missed:14.6","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":40,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3687","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3687","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3687/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3687/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3687","relative":"#3687","full":"gitlab-org/customers-gitlab-com#3687"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6895,"epic":{"id":366730,"iid":6895,"title":"Distinguish Free plan from OpenSource program","url":"/groups/gitlab-org/-/epics/6895","group_id":9970,"human_readable_end_date":"Sep 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95441098,"iid":3684,"project_id":2670515,"title":"Check display of credit card errors","description":"### Problem\n\nWhen entering an invalid credit card number, the error message is not correctly display (noticed in this [merge request](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3953#note_704042847)):\n\n| System | Screenshot |\n| ------ | ------ |\n| GitLab | ![Screen_Shot_2021-10-14_at_5.43.52_PM](/uploads/0235d2d4f203a3637b8ef69d1c9fb9b4/Screen_Shot_2021-10-14_at_5.43.52_PM.png) |\n| CustomersDot | ![Screen_Shot_2021-10-14_at_6.12.34_PM](/uploads/6611812234f4e82f0330ebcda5d05a45/Screen_Shot_2021-10-14_at_6.12.34_PM.png) |\n\nThe GitLab screenshot was taken in a project's `setting` -\u003e `CI/CD` under the `Runners` section, e.g.: http://localhost:3000/foo1/bar1/-/settings/ci_cd#js-runners-settings\n\nFor comparison, when entering an invalid expiration date the error message is displayed differently:\n\n![Screen_Shot_2021-10-14_at_5.47.43_PM](/uploads/e59a1eb650ece1a880ff4b6af00d9d19/Screen_Shot_2021-10-14_at_5.47.43_PM.png)\n\n### Proposal\n\nCheck if this styling can be changed to display errors better.\n\n### Result\n\nErrors are properly displayed.","state":"closed","created_at":"2021-10-14T16:15:51.931Z","updated_at":"2021-12-06T09:26:34.037Z","closed_at":"2021-12-06T09:25:05.461Z","closed_by":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.5","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":447038,"username":"vitallium","name":"Vitaly Slobodin","state":"active","avatar_url":"https://secure.gravatar.com/avatar/74b3243cfcfbfac1f022b78ab505e8d8?s=80\u0026d=identicon","web_url":"https://gitlab.com/vitallium"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3684","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3684","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3684/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3684/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3684","relative":"#3684","full":"gitlab-org/customers-gitlab-com#3684"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":95305446,"iid":3677,"project_id":2670515,"title":"Improve performance of `/gitlab_plans` endpoint","description":"### Problem\nWhen investigating Purchase error spend (https://gitlab.com/gitlab-org/gitlab/-/issues/342844), it was observed that the `/gitlab_plans` endpoint is slow to respond. It seems to average locally around 2 seconds with spikes to 5 or more seconds. The latency in this endpoint causes the Billing page in GitLab to frequently take over 5 seconds to load.\n\n### Proposal\n\nSince this endpoint is static and appears to be CPU bound, we should target 500ms or less response time. We should investigate the speed of JSON serialization, etc.\n\nBased on Tyler's assessment [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3677#note_702863713), with him having [fixed](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3677#note_705168537) one of the use cases, we just have this one remaining to address:\n\n\u003e If `namespace_id` is provided, it will be used to lookup the related order for that namespace and find the associated subscription in Zuora ([code reference](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/2c3cd06d36ec0a1535fca0ee96b7bfee2b36b052/app/controllers/plans_controller.rb#L34)). Later, the products are also fetched from Zuora and this is a slow process (\\~1.3s on my local machine). This is necessary to determine which plan the namespace is already using, price for upgrades, etc. We will likely need to focus our efforts on ways to improve this lookup.\n\n### Next steps (if any)\n\n\n### How will we measure success?\nEndpoint responds in 500ms or less","state":"closed","created_at":"2021-10-12T18:28:46.993Z","updated_at":"2021-11-16T21:06:19.576Z","closed_at":"2021-10-18T20:53:20.729Z","closed_by":{"id":4708570,"username":"wayne","name":"Wayne Haber","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4708570/avatar.png","web_url":"https://gitlab.com/wayne"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::ready for development"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4415228,"username":"chris_baus","name":"Chris Baus","state":"blocked","avatar_url":"https://secure.gravatar.com/avatar/59e5568c2f6bb8bb7818b22cc5cd15b1?s=80\u0026d=identicon","web_url":"https://gitlab.com/chris_baus"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":26,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3677","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3677","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3677/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3677/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3677","relative":"#3677","full":"gitlab-org/customers-gitlab-com#3677"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6678,"epic":{"id":342168,"iid":6678,"title":"Investigate and Improve Fulfillment Error Budgets","url":"/groups/gitlab-org/-/epics/6678","group_id":9970,"human_readable_end_date":"Apr 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":95043882,"iid":3667,"project_id":2670515,"title":"Write docs for /subscription routes","description":"Write yaml files to describe endpoints under /subscriptions\n\nIn the best case you should be able to send/receive requests in the already setup docs\n\n#### Implementation plan\n| Step | Issue |\n| ------ | ------ |\n| Setup documentation | https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3509 |\n| Write docs for /subscription | ðŸ‘‰ you are here |","state":"closed","created_at":"2021-10-07T13:27:15.985Z","updated_at":"2021-11-10T15:01:13.328Z","closed_at":"2021-11-10T15:01:13.312Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","maintenance::refactor","section::fulfillment","workflow::staging"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3667","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3667","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3667/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3667/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3667","relative":"#3667","full":"gitlab-org/customers-gitlab-com#3667"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6898,"epic":{"id":367040,"iid":6898,"title":"Promote the Fulfillment API","url":"/groups/gitlab-org/-/epics/6898","group_id":9970,"human_readable_end_date":"May 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94826252,"iid":3661,"project_id":2670515,"title":"[UX] User flows for CustomersDot Support Admin Tool","description":"This issue is to track efforts documenting top-level user flows across the CustomersDot Support Admin Tool. The goal is to use the defined JTBD in the parent epic and map user flows across the pages required to achieve the job.\n\n_An example of previous user flow documentation work can be found in the [[UX] Document all flows between GitLab.com \u003c\u003e Customers, License, Zuora](https://gitlab.com/groups/gitlab-org/-/epics/3603) epic_\n\n## :dart: Tasks (WIP)\n- [x] Document user flows \n  - [x] Generate an Offline license\n  - [x] Resend a license\n  - [x] Find customers by email\n\n## :art: Documentation\n\n**[Mural Board](https://app.mural.co/t/gitlab2474/m/gitlab2474/1636995607862/095e896771fc71dad28d7ec5d185537cb5c12f0c?sender=tnoah8818)**","state":"closed","created_at":"2021-10-04T19:23:35.316Z","updated_at":"2022-11-03T15:09:02.444Z","closed_at":"2021-11-17T10:07:45.162Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["UX","[deprecated] Category:Provision","devops::fulfillment","section::fulfillment"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":5,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3661","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":4,"completed_count":4},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3661","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3661/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3661/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3661","relative":"#3661","full":"gitlab-org/customers-gitlab-com#3661"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6837,"epic":{"id":359930,"iid":6837,"title":"[UX] Heuristic evaluation for CustomersDot Support Admin Tool","url":"/groups/gitlab-org/-/epics/6837","group_id":9970},"iteration":null,"health_status":null},{"id":94826110,"iid":3660,"project_id":2670515,"title":"[UX] IA Documentation for CustomersDot Support Admin Tool","description":"This issue is to track efforts mapping the information hierarchy evaluation for the CustomersDot Support Admin Tool.\n\n## :dart: Tasks\n\n- [x] List all top-level navigation pages\n- [x] Perform a high-level content inventory across each top-level page\n- [x] Track themes and patterns of information across pages\n\n## :art: Documentation\n\n**[Mural Board](https://app.mural.co/t/gitlab2474/m/gitlab2474/1636995607862/095e896771fc71dad28d7ec5d185537cb5c12f0c?sender=tnoah8818)**","state":"closed","created_at":"2021-10-04T19:20:08.232Z","updated_at":"2022-11-03T15:08:58.246Z","closed_at":"2021-11-17T10:08:05.497Z","closed_by":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"labels":["UX","[deprecated] Category:Provision","devops::fulfillment","section::fulfillment"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"}],"author":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"type":"ISSUE","assignee":{"id":3354144,"username":"timnoah","name":"Tim Noah","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/3354144/avatar.png","web_url":"https://gitlab.com/timnoah"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":3,"completed_count":3},"weight":3,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3660","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3660/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3660/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3660","relative":"#3660","full":"gitlab-org/customers-gitlab-com#3660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6837,"epic":{"id":359930,"iid":6837,"title":"[UX] Heuristic evaluation for CustomersDot Support Admin Tool","url":"/groups/gitlab-org/-/epics/6837","group_id":9970},"iteration":null,"health_status":null},{"id":94785821,"iid":3659,"project_id":2670515,"title":"Provide an alternative to using ngrok in local environments","description":"### Problem\n\nRelated to https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2466 - after configuring Gitpod, we realised that `ngrok` was also needed for callout configuration.\n\nAccording to https://about.gitlab.com/handbook/security/#other-servicesdevices\n\n\u003e Do not use tools designed to circumvent network firewalls for the purpose of exposing your laptop to the public Internet. An example of this would be using ngrok to generate a public URL for accessing a local development environment. \n\n### Proposal\n\nReplace ngrok with an indirect proxy that forwards callouts from Zuora without the need to open a port in your computer. A few alternatives I thought of:\n\n- Use https://gitlab.com/jameslopez/zsim to simulate the callouts API by querying the Zuora notifications API\n- Create a proxy server that receives all dev callouts from Zuora and displays a copy \u0026 paste `curl` URL+payload we could replay in our local environment (Okta log in needed into the tool)\n\n### Result\n\nSafe local environments","state":"closed","created_at":"2021-10-04T09:38:51.024Z","updated_at":"2022-07-27T14:50:22.009Z","closed_at":"2022-06-16T23:01:09.917Z","closed_by":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"labels":["[deprecated] Category:Fulfillment Platform","backend","devops::fulfillment","group::fulfillment platform","section::fulfillment","workflow::in review"],"milestone":{"id":2453022,"iid":73,"group_id":9970,"title":"15.1","description":"","state":"active","created_at":"2022-02-03T22:23:29.335Z","updated_at":"2022-02-03T22:23:29.335Z","due_date":"2022-06-17","start_date":"2022-05-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/73"},"assignees":[{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"}],"author":{"id":273486,"username":"jameslopez","name":"James Lopez","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/273486/avatar.png","web_url":"https://gitlab.com/jameslopez"},"type":"ISSUE","assignee":{"id":11167007,"username":"aish.sub","name":"Aishwarya Subramanian","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/11167007/avatar.png","web_url":"https://gitlab.com/aish.sub"},"user_notes_count":10,"merge_requests_count":0,"upvotes":2,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3659","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3659","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3659/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3659/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3659","relative":"#3659","full":"gitlab-org/customers-gitlab-com#3659"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8458,"epic":{"id":574239,"iid":8458,"title":"Containerized version of CustomersDot","url":"/groups/gitlab-org/-/epics/8458","group_id":9970,"human_readable_end_date":"Apr 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94705541,"iid":3658,"project_id":2670515,"title":"Replace references to created_at in displaying Purchase Date","description":"### Problem\n\nAs described in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556, in order to support Zuora Orders Harmonization in CustomersDot, we need to remove dependencies to Amendments in the `Product` class.  Amendments are currently used by `Product` objects to fetch `created_date` from the amendment used by [the `Product#created_at` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L52).  This is used in CustomersDot [in various places for various reasons](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_690684649).\n\nThis issue in particular focuses on the usage of `created_at` for displaying the Purchase Date for a Subscription.\n\n![purchases_after](/uploads/1d56c2a1e860a67ca4ddbb31fdd2895b/purchases_after.png)\n\n[`ProductPresenter`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/94af84f55889ecbe0cbed93e38ac707fb96bce9a/app/presenters/product_presenter.rb#L23) - `created_at` is included in the set of product attributes. It was added in https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/1733, to show the purchase date of a product on the FE.\n\n### Proposal\n\n[To Be Determined]\n\nIn [this thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_692789137) we discussed a couple of ways to approach this.\n\n* Proposed solution A: Remove purchased date from the display on subscription card in the FE, then remove reference from the presenter\n* Proposed solution B: If solution A does not work, we could replace `created_at` with the original RPC created_date (same as the solution for CI minutes)\n\nUpdate: As of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_692928087, we decided to keep purchase date information for now (unless it turns out to be a big problem to implement).  We'll go with proposed solution B.\n\n### Result\n\nA few less dependencies on `Product#created_at` which allows us to eventually remove amendment as a dependency altogether.","state":"closed","created_at":"2021-10-01T19:54:08.880Z","updated_at":"2021-10-20T12:18:08.071Z","closed_at":"2021-10-20T12:18:08.053Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","won't do","workflow::solution validation"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3658","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":0,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3658","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3658/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3658/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3658","relative":"#3658","full":"gitlab-org/customers-gitlab-com#3658"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94703643,"iid":3657,"project_id":2670515,"title":"Replace references to created_at in sorting products","description":"### Problem\n\nAs described in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556, in order to support Zuora Orders Harmonization in CustomersDot, we need to remove dependencies to Amendments in the `Product` class.  Amendments are currently used by `Product` objects to fetch `created_date` from the amendment used by [the `Product#created_at` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L52).  This is used in CustomersDot [in various places for various reasons](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_690684649).\n\nThis issue in particular focuses on removing the usage of `created_at` in product sorting logic.\n\n1. ~~[`Subscription#filtered_add_on_products`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/c7cc2593ba6b692acf619e603bec6d6124ef504e/app/models/subscription.rb#L581) - `created_at` is used to sort the array of products by the created date.~~  \u003c-- This will be handled as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3656.\n1. [`StorageService#purchased_storage_packs`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/5e9d586c623cf67708b5b22ba15fc2f329d6f725/app/services/gitlab/hosted_plans/purchased_add_ons/storage_service.rb#L33) - `created_at` is used to sort an array of storage products by the created date.\n\n### Proposal\n\nIt was determined in [this thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_691793880) that a sufficient replacement for `created_at` would be to use the `effective_start_date` of the Rate Plan Charge on the Product.\n\n### Result\n\nA few less dependencies on `Product#created_at` which allows us to eventually remove amendment as a dependency altogether.","state":"closed","created_at":"2021-10-01T18:46:55.900Z","updated_at":"2021-10-10T23:35:17.383Z","closed_at":"2021-10-08T21:57:20.717Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3657","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3657","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3657/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3657/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3657","relative":"#3657","full":"gitlab-org/customers-gitlab-com#3657"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94703468,"iid":3656,"project_id":2670515,"title":"Replace references to created_at from CI Minutes related logic","description":"### Problem\n\nAs described in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556, in order to support Zuora Orders Harmonization in CustomersDot, we need to remove dependencies to Amendments in the `Product` class.  Amendments are currently used by `Product` objects to fetch `created_date` from the amendment used by [the `Product#created_at` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L52).  This is used in CustomersDot [in various places for various reasons](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_690684649).\n\nThis issue in particular focuses on removing the usage of `created_at` in code that relates to CI minutes usage and syncing.\n\n1. [`Subscription#recently_purchased_ci_minutes`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/c7cc2593ba6b692acf619e603bec6d6124ef504e/app/models/subscription.rb#L531) - `created_at` is used to filter the CI minute pack products to those created/new since the last sync with GL.com.\n1. [`CiMinutesService#execute`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d871eb5b8f66de492890bdef5854ea53fa978890/app/services/gitlab/hosted_plans/purchased_add_ons/ci_minutes_service.rb#L34) - `created_at` is used to determine the time of the last ci minute purchase.\n1. [`CiMinutesParamsGenerator#run`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/36d636f03b4d5ff1ba527ba4d559fc6e8e5b8785/lib/add_ons/ci_minutes_params_generator.rb#L19) - `created_at` is used to sync CI minutes info to GL.com. Specifically, for each CI minute product on the subscription, the expiration date is sent using the `created_at` date + 1 year.\n1. [`Subscription#ci_minutes_packs`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/6abfda2cd85cca9af735b0f51b82bac3a7f75cd3/app/models/subscription.rb#L240) - `created_at` is used to sort the array of products by the created date.\n\n### Proposal\n\nIt was determined in [this thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_691673940) that a sufficient replacement for `created_at` would be to use the `created_date` of the Original Rate Plan Charge on the Product.  [This comment](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_692693889) gives nice code examples and justification.\n\n```\n\u003e ci_minute_packs.map { |p| p.rate_plan_charge.original.created_date }\n=\u003e [\"2021-09-29T12:50:53.000-07:00\", \"2021-09-29T12:55:45.000-07:00\", \"2021-10-01T07:46:33.000-07:00\"]\n```\n\n### Result\n\nA few less dependencies on `Product#created_at` which allows us to eventually remove amendment as a dependency altogether.","state":"closed","created_at":"2021-10-01T18:41:45.426Z","updated_at":"2021-10-21T16:36:29.710Z","closed_at":"2021-10-21T16:36:29.693Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3656","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3656","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3656/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3656/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3656","relative":"#3656","full":"gitlab-org/customers-gitlab-com#3656"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94703168,"iid":3655,"project_id":2670515,"title":"Replace references to created_at in Subscription#trueup_products","description":"### Problem\n\nAs described in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556, in order to support Zuora Orders Harmonization in CustomersDot, we need to remove dependencies to Amendments in the `Product` class.  Amendments are currently used by `Product` objects to fetch `created_date` from the amendment used by [the `Product#created_at` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/ac33b9df3ddfd21f27eaad5e452d86394ecb7384/app/models/product.rb#L52).  This is used in CustomersDot [in various places for various reasons](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_690684649).\n\nThis issue in particular focuses on removing the usage of `created_at` in [the `Subscription#trueup_products` method](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/eadc95bbcf3256171bd5da0dfe521aa92465b086/app/models/subscription.rb#L210).\n\n### Proposal\n\nIt was determined in [this thread](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3556#note_691640374) that a sufficient replacement for `created_at` would be to use the `effective_start_date` of the Rate Plan Charge on the Product.\n\n### Result\n\nA few less dependencies on `Product#created_at` which allows us to eventually remove amendment as a dependency altogether.","state":"closed","created_at":"2021-10-01T18:30:19.280Z","updated_at":"2021-10-06T01:52:57.481Z","closed_at":"2021-10-06T01:52:57.468Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3655","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3655","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3655/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3655/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3655","relative":"#3655","full":"gitlab-org/customers-gitlab-com#3655"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94688369,"iid":3654,"project_id":2670515,"title":"Improve maintenance mode coverage","description":"## Problem\n\nAs we've been preparing for an upcoming planned Zuora outage in https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3538, we performed some testing of our own [maintenance mode feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/48/edit), `:zuora_application_down`.  We want to turn this feature on to show the maintenance page throughout the duration of the planned outage because without Zuora, CustomersDot will not function properly.\n\nDuring testing of the maintenance mode, it was discovered that when the feature is enabled, the maintenance page/message is only covered for [the `VisitorsController`](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d671030532e737bbb15669861d259f01c2a48875/app/controllers/visitors_controller.rb#L5).  However, if users are already logged into CustomersDot, they will not see the maintenance mode.  For instance, if they are on the subscriptions page or making a purchase, no message will be shown.\n\n## Proposal\n\nShow the maintenance mode message across more of the application, especially when logged in.  \n\nWe could also improve the look of the maintenance mode message, but this would just be a nice-to-have. :smile:","state":"closed","created_at":"2021-10-01T14:02:31.089Z","updated_at":"2021-11-09T09:22:03.902Z","closed_at":"2021-11-09T09:22:03.887Z","closed_by":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::verification"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":10,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":"2021-11-08","confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3654","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3654","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3654/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3654/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3654","relative":"#3654","full":"gitlab-org/customers-gitlab-com#3654"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6383,"epic":{"id":310864,"iid":6383,"title":"THEME: Maintenance and Support","url":"/groups/gitlab-org/-/epics/6383","group_id":9970,"human_readable_end_date":"Nov 16, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94433254,"iid":3645,"project_id":2670515,"title":"Update docs for CustomersDot plans page","description":"### Documentation\n\nWe will need to update all references to the CustomersDot plans page in the docs.\n\nIs there a way to search the docs for all instances of links to `customers.gitlab.com/plans`? I found a couple and listed them below, but I am sure there are more.\n\n#### Should be updated with how to purchase CI Minutes\n* âœ”ï¸ [Purchase additional CI minutes](https://docs.gitlab.com/ee/subscriptions/gitlab_com/#purchase-additional-ci-minutes) - ~~will be updated with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/68359~~ updated with https://gitlab.com/gitlab-org/gitlab/-/merge_requests/74115 to decouple from CI Minutes release\n* [Handling CI minutes](https://about.gitlab.com/handbook/support/license-and-renewals/workflows/saas/ci_minutes.html) - no link detected\n* âœ”ï¸ [Pricing FAQ](https://about.gitlab.com/pricing/faq/)\n* âœ”ï¸ [Shared runners blog post](https://about.gitlab.com/blog/2020/01/21/windows-shared-runner-beta/)\n* âœ”ï¸ [Customer FAQ CI/CD](https://about.gitlab.com/pricing/faq-consumption-cicd/)\n\n#### This is linked by mistake, should be admin\nâœ”ï¸ https://about.gitlab.com/handbook/sales/commercial/smb/#tools\n\n#### Should be safe exchange https://customers.gitlab.com/plans with https://customers.gitlab.com\n* âœ”ï¸ [Get Started](https://about.gitlab.com/get-started/)\n* âœ”ï¸ [Marketing Bizible](https://about.gitlab.com/handbook/marketing/marketing-operations/bizible/#bizible-channel-and-sub-channel-mapping)\n* âœ”ï¸ [Data sources for data team](https://about.gitlab.com/handbook/business-technology/data-team/platform/#data-sources)","state":"closed","created_at":"2021-09-28T09:15:03.416Z","updated_at":"2021-11-10T20:37:43.459Z","closed_at":"2021-11-10T20:37:43.428Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","documentation","group::purchase","missed:14.4","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":13,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3645","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3645/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3645/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3645","relative":"#3645","full":"gitlab-org/customers-gitlab-com#3645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94433082,"iid":3644,"project_id":2670515,"title":"Create empty state for \"Manage Subscriptions\"","description":"Create a component for empty state \"Manage subscriptions\" page\n\n* For \"Manage subscription\" page conditionally show empty state component or subscriptions list, see [subscription_list.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a7bee5cb82383a5af196385ed75fb110d9651229/app/frontend/javascripts/subscription/components/subscription_list.vue#L30-32)\n* Update link on the \"Buy new subscription\" button\n\nAll changes should be behind Feature Flag","state":"closed","created_at":"2021-09-28T09:11:46.824Z","updated_at":"2021-11-02T10:41:40.355Z","closed_at":"2021-11-02T10:41:40.341Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","devops::fulfillment","feature flag","feature::addition","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3644","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3644","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3644/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3644/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3644","relative":"#3644","full":"gitlab-org/customers-gitlab-com#3644"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94432891,"iid":3643,"project_id":2670515,"title":"Add a redirect for /plans","description":"For the plans controller redirect /plans to root /. Use `redirect_plans_page` Feature Flag","state":"closed","created_at":"2021-09-28T09:09:05.119Z","updated_at":"2021-11-05T12:35:11.052Z","closed_at":"2021-11-05T12:35:11.016Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","devops::fulfillment","feature::addition","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3643","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3643/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3643/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3643","relative":"#3643","full":"gitlab-org/customers-gitlab-com#3643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94432741,"iid":3642,"project_id":2670515,"title":"Remove /plans redirect under Feature Flag","description":"Add `redirect_plans_page` FF and use to update root controller to \n\n- remove redirect to /plans page \n- show sign_in page to not logged in users \n- show subscription list to logged in users","state":"closed","created_at":"2021-09-28T09:06:14.659Z","updated_at":"2021-11-09T19:18:19.614Z","closed_at":"2021-11-05T12:33:49.340Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["Category:Purchase","devops::fulfillment","feature::addition","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3642","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3642/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3642/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3642","relative":"#3642","full":"gitlab-org/customers-gitlab-com#3642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94353815,"iid":3637,"project_id":2670515,"title":"Clean up /plans code","description":"After rolling out FF `redirect_plans_page`, we need to do a following clean up\n\n- Find usages of plans url in CustomersDot code and replace it with https://about.gitlab.com/pricing/ (for example [subscription_buttons.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fbb6cb8a0dc1e6e417078585262737a4ddb74b1e/app/frontend/javascripts/subscription/components/subscription_buttons.vue#L241), or root / for [community_program_controller.rb](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/85de06517abbf06e2e53fc73594bb0136bcff1d5/app/controllers/subscriptions/community_program_controller.rb#20), update diagrams, docs, deploy [const](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fae5f8fbe9435a15e981fbbb3dc605239c467236/bin/deploy) \n- Find usages of plans url in GitLab code and replace it with https://about.gitlab.com/pricing/ for [_promote_issue_weights.html.haml](https://gitlab.com/gitlab-org/gitlab/blob/master/ee/app/views/shared/promotions/_promote_issue_weights.html.haml#L27). Replace it with https://customer.gitlab.com/ for [subscription_portal.rb](https://gitlab.com/gitlab-org/gitlab/blob/master/lib/gitlab/subscription_portal.rb#L37) and [docs](https://gitlab.com/gitlab-org/gitlab/blob/master/doc/subscriptions/gitlab_com/index.md#L359)\n- There might be more, please check during implementation\n- Remove obsolete views [index.html.haml](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/0c56a7b766ad4805a3025a0bd436f5dbcb0318d6/app/views/plans/index.html.haml) and [_addon_card.html.haml](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/1e344ed954437a1cad3f78594ab1ed9de5ddfcf9/app/views/plans/_addon_card.html.haml)","state":"closed","created_at":"2021-09-27T09:44:16.432Z","updated_at":"2022-01-26T21:05:26.948Z","closed_at":"2022-01-26T21:05:26.877Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","onboarding","section::fulfillment","workflow::verification"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3637","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3637/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3637/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3637","relative":"#3637","full":"gitlab-org/customers-gitlab-com#3637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6806,"epic":{"id":354607,"iid":6806,"title":"Remove the CustomersDot plans page and direct users to the marketing pricing page","url":"/groups/gitlab-org/-/epics/6806","group_id":9970,"human_readable_end_date":"Nov 29, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94258408,"iid":3634,"project_id":2670515,"title":"SubscriptionTermStartWorker should only process Active subscriptions","description":"## Problem\n\nI noticed when working on #2565, [this specific error in Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2449665/events/3f4c992fc07d45d8a234f4ca3938182a/) where the `SubscriptionTermStartWorker` is processing a callout and does not find the Subscription in Zuora leading to the error.  This error is due to 2 things:\n\n1. The Subscription from the callout was already cancelled so it is not found in the Zuora query because we only find Active Subscriptions [here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/8cd4b49bb71c00887b5c3dd99bd07b339743d186/app/workers/zuora_callout/base_worker.rb#L32).\n1. The SubscriptionTermStart callout must be defined incorrectly in Zuora production.  I noticed the `subscription_id` actually contains a leading space in the XML body which you can see in the Sentry error (see below).  This causes [the fallback query here](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/8cd4b49bb71c00887b5c3dd99bd07b339743d186/app/workers/zuora_callout/base_worker.rb#L33) not to find the subscription either.\n\n    ```\n    \u003cparameter name=\" subscription_id\"\u003e2c92a00e7bde360b017be47e5a335732\u003c/parameter\u003e\n    ```  \n## Proposal\n\nThe `SubscriptionTermStartWorker` can be adjusted to only process subscriptions with a status of \"Active\".  This should solve item 1 from above.\n\nFor item 2, I will reach out to someone in ~\"Enterprise Applications\" to assist in updating the callout definition.","state":"closed","created_at":"2021-09-24T13:55:20.140Z","updated_at":"2021-09-29T01:33:47.440Z","closed_at":"2021-09-29T01:33:47.424Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3634","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3634/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3634/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3634","relative":"#3634","full":"gitlab-org/customers-gitlab-com#3634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":94127341,"iid":3626,"project_id":2670515,"title":"CDot Subscription Owner Association/Creation for Amendment and Renewal","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\nIn the sales process, salespeople are required to provide information on a Quote about the CDot User that is managing the particular purchase.  For sales-engaged new biz, the contact that is ultimately passed to Zuora as the Zuora Sold To associated with the Zuora Account and Subscription is used to create or associate a CDot User with a Zuora Account/Subscription.  For Amendment and Renewal sales-engaged deals, no User management takes place in CDot to associate any new contacts with a namespace.  This causes provisioning lags that impact revenue recognition because license emails may not be sent to the appropriate use (that is not represented in CDot or not associated with a namespace/Zuora Subscription).\n\n### Proposal\nhttps://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/319#note_676389738\n\nUpdate [the `FindOrCreateCustomersService`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/a370c2b4b1a4fec50a6be2291c7b0ec7c73e0cd7/app/services/find_or_create_customer_service.rb#L34) to only find Customers using email address.  This means avoid the fallback find logic using `zuora_account_id`.  If new sold to contact information is received in a callout and the email address does not exist, CDot should create a new customer and associate it to the order and account.\n\n### Result\nAll sales-engaged deals have Zuora Sold-To contact created and/or associated with a Zuora Subscription/Account/Namespace.\n\n### Next steps (if any)\nFulfillment (@tgolubeva) and EntApps (@mquitevis) have already brainstormed a high-level solution.  Next steps are Fulfillment prioritization and working on a detailed solution.\n\n### How will we measure success?\nThe Zuora Sold To Contact received licensing emails for all deal types (New business, Amendments, Renewals)\n\n### Communication Plan\n- [x] When problem/solution validation begins, re-engage cross-functional team members: Mark, Jessica, Sarah, Jesse and Tatyana.\n- [~] If and when user design work is deemed necessary and design work starts, communicate the beginning of this development phase.\n- [x] When development work begins, communicate status.","state":"closed","created_at":"2021-09-22T15:27:46.532Z","updated_at":"2023-02-02T10:36:44.537Z","closed_at":"2022-10-12T22:18:35.717Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Fulfillment Platform","auto updated","automation:prevent-auto-close","customer","devops::fulfillment","feature::addition","group::fulfillment platform","missed:14.6","missed:14.7","section::fulfillment","type::feature","workflow::in review"],"milestone":{"id":2453027,"iid":77,"group_id":9970,"title":"15.5","description":"","state":"active","created_at":"2022-02-03T22:29:56.909Z","updated_at":"2022-02-03T22:29:56.909Z","due_date":"2022-10-17","start_date":"2022-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/77"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":7200051,"username":"mquitevis","name":"Mark Quitevis","state":"blocked","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/7200051/avatar.png","web_url":"https://gitlab.com/mquitevis"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":20,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":2,"completed_count":2},"weight":2,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3626","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3626/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3626/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3626","relative":"#3626","full":"gitlab-org/customers-gitlab-com#3626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":8950,"epic":{"id":621714,"iid":8950,"title":"Iteration 1A: Align CustomersDot BillingAccounts and Users to Zuora objects","url":"/groups/gitlab-org/-/epics/8950","group_id":9970,"human_readable_end_date":"Mar 17, 2023","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":94028966,"iid":3622,"project_id":2670515,"title":"List of add-ons scenarios and proposal for subscription creation and amendment","description":"In light of the discussions that arose from [this](https://gitlab.com/gitlab-org/gitlab/-/issues/338546#note_674633581) and [this](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3620) and with the aim of\n\n- have clarity on how add-on purchases are supposed to behave (in CDot, GitLab and Zuora)\n- have clear test scenarios we can use when manually probing the feature\n\nhere you find a table of the different scenarios that will need to be covered while completing the [CI Minutes](https://gitlab.com/groups/gitlab-org/-/epics/5391) and [Storage](https://gitlab.com/groups/gitlab-org/-/epics/5789) Epics.\n\nAll here refers to Saas.\n\n### CI Minutes current scenarios\n\nThe following scenarios describe _how it currently_ works (IOW, CI Minutes are purchased via CDot and Plan via GitLab.com).\n\nIt is assumed that\n\n- a **different** Group is created for each scenario\n- Storage will behave the same as CI Minutes\n\n| Scenario | Description | Current CDot | Current Zuora | Current GitLab |\n|-|-|-|-|-|\n| TC-1 | Buy `CI Minutes x 1` once from CDot, assign to Group (Free) | ![Screenshot_2021-09-21_at_14.59.24](/uploads/037c4d1b1c66a7051588126cc2e3b4e8/Screenshot_2021-09-21_at_14.59.24.png) | ![Screenshot_2021-09-21_at_15.00.55](/uploads/357530ed5c5d088b875b8a713aa90fd3/Screenshot_2021-09-21_at_15.00.55.png) | ![Screenshot_2021-09-21_at_15.00.19](/uploads/1fde429d295f25aee7bb41ecd9579560/Screenshot_2021-09-21_at_15.00.19.png) |\n| TC-2 | Buy `CI Minutes x 1` twice, assign to the same Group (Free) | ![Screenshot_2021-09-21_at_15.08.38](/uploads/f9571830906bc58607d9e1988b1e4213/Screenshot_2021-09-21_at_15.08.38.png) | ![Screenshot_2021-09-21_at_15.09.41](/uploads/2aebdde4734e6a814a6e2c2053c73fe9/Screenshot_2021-09-21_at_15.09.41.png) | ![Screenshot_2021-09-21_at_15.08.53](/uploads/5b35d694d54abfa70937bd0024f91aa4/Screenshot_2021-09-21_at_15.08.53.png) |\n| TC-3 | Buy `CI Minutes x 1` once, assign to Group and **after** buy a Premium Sub and assign it to Group | ![Screenshot_2021-09-21_at_15.15.45](/uploads/2c6e16269eb79bd3ddea1dcc6282d4a3/Screenshot_2021-09-21_at_15.15.45.png) | ![Screenshot_2021-09-21_at_15.16.30](/uploads/21df9514fbf85c87cfae81777db269cb/Screenshot_2021-09-21_at_15.16.30.png) | ![Screenshot_2021-09-21_at_15.14.11](/uploads/006f87fec01e891ee9c47fd6001bd4d5/Screenshot_2021-09-21_at_15.14.11.png) |\n| TC-4 | Buy a Premium Plan and **after** buy `CI Minutes x 1` once and assign it to Group | ![Screenshot_2021-09-21_at_15.26.42](/uploads/5dc6327006ecfabc8a4101be57f72b39/Screenshot_2021-09-21_at_15.26.42.png) | ![Screenshot_2021-09-21_at_15.27.07](/uploads/69a1edb434744a6eb21499935b800bd6/Screenshot_2021-09-21_at_15.27.07.png) | ![Screenshot_2021-09-21_at_15.27.54](/uploads/13e5aa87e6d6c7da8ac207fd92217b8b/Screenshot_2021-09-21_at_15.27.54.png) |\n| TC-5 | Buy a Premium Plan and **after** buy `CI Minutes x 1` from 'Buy more CI minutes' in the sub card | ![Screenshot_2021-09-21_at_15.33.29](/uploads/302ad5c2ba144f7f76d6006eb6bba7cb/Screenshot_2021-09-21_at_15.33.29.png) | ![Screenshot_2021-09-21_at_15.34.05](/uploads/3aad08f4a92dc7386a1b1a9cc3c7da1e/Screenshot_2021-09-21_at_15.34.05.png) | ![Screenshot_2021-09-21_at_15.34.39](/uploads/f7cab4e71f37a94e21be55ce71d74704/Screenshot_2021-09-21_at_15.34.39.png) |\n| TC-6 | Buy `CI Minutes x 1` from CDot, assign to Group. Than buy  `CI Minutes x 1`from GitLab flow and assign it to the same group | ![](https://gitlab.com/gitlab-org/gitlab/uploads/cab81de4665e92360ed79ee375460aa6/Screenshot_2021-11-17_at_16.28.40.png) |N/A | ![](https://gitlab.com/gitlab-org/gitlab/uploads/1dfe7c19293665b4f0a50b80cd548f51/Screenshot_2021-11-17_at_16.28.54.png) |","state":"closed","created_at":"2021-09-21T10:40:58.006Z","updated_at":"2021-12-06T10:22:43.458Z","closed_at":"2021-11-30T10:18:15.905Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["CI minutes","Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment"],"milestone":{"id":2114820,"iid":67,"group_id":9970,"title":"14.6","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T05:00:52.094Z","updated_at":"2022-04-21T07:26:38.271Z","due_date":"2021-12-17","start_date":"2021-11-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/67"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3622","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3622/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3622/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3622","relative":"#3622","full":"gitlab-org/customers-gitlab-com#3622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6574,"epic":{"id":327000,"iid":6574,"title":"Move CI Minutes purchase flows to GitLab.com UI (Group namespaces only)","url":"/groups/gitlab-org/-/epics/6574","group_id":9970,"human_readable_end_date":"Dec 10, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93938053,"iid":3619,"project_id":2670515,"title":"Community Programs - update the login/register flow to reflect UX design","description":"### Problem\n\nRelated to this bug discovered during testing https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/311#note_677677051\n\nWhen going through the Community Program signup flow, a customer is asked to register/login first, then select the plan type (SaaS or Self-Manage). If they select SaaS, they are dropped into the checkout page without a way to create a group.  This video shows the current experience https://gitlab.com/gitlab-org/fulfillment-meta/-/issues/311#note_678467160\n\nThe original design asked for a different flow.\n\nThe SaaS or SM selection should be prior to sign in, and [here's the reasoning](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2677/designs/User_flow.png#note_531957098). A SaaS customer should never see the option to Sign in or Register, only the `Continue with Gitlab.com account` button. If we don't do it this way and the SaaS customer registers a new CustomersDot account, it won't be connected to their GitLab.com account and they won't be able to complete the flow. \n\n\n### Proposal\n\nUpdate the flow to reflect the UX design.\n\n* exclude the landing page from requiring a user login\n* when accessing the claim page:\n  * if no login: redirect to either register page (for self-managed) or to log in with GitLab page (for SaaS) based on `edition` query string variable\n  * if the user is logged in, continue the flow to the claim page without any redirect\n\n\n### Result\n\n### Next steps (if any)\n\n### How will we measure success?","state":"closed","created_at":"2021-09-20T00:35:00.386Z","updated_at":"2021-10-18T07:02:32.965Z","closed_at":"2021-09-28T06:15:58.523Z","closed_by":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"labels":["Category:Purchase","Deliverable","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":127064,"username":"aalakkad","name":"Ammar Alakkad","state":"active","avatar_url":"https://secure.gravatar.com/avatar/ecc1130ce340f5080afd8f2c9962948a?s=80\u0026d=identicon","web_url":"https://gitlab.com/aalakkad"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3619","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3619","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3619/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3619/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3619","relative":"#3619","full":"gitlab-org/customers-gitlab-com#3619"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5712,"epic":{"id":244558,"iid":5712,"title":"Community Programs - New Subscription","url":"/groups/gitlab-org/-/epics/5712","group_id":9970,"human_readable_end_date":"Mar 22, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93883151,"iid":3616,"project_id":2670515,"title":"Group address fields together on the Customer info page","description":"## Problem\n\nWhen looking at the customer info page (i.e. https://customers.gitlab.com/admin/customer/xxxx), it is difficult to see the full address, as the address fields are randomly ordered on the page.\n\n## Proposal\n\nMove `Address 1` and `Address 2` fields to be near `Country`, `State`, `City` and `Zip code`.","state":"closed","created_at":"2021-09-17T19:17:28.621Z","updated_at":"2022-04-26T19:11:52.173Z","closed_at":"2022-04-26T19:11:52.142Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["Cloud Licensing Delightful UX","[deprecated] Category:Provision","backend","devops::fulfillment","feature::enhancement","group::provision","quad-planning::complete-no-action","section::fulfillment","type::feature","workflow::ready for development"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"}],"author":{"id":8110789,"username":"tgolubeva","name":"Tatyana Golubeva","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/8110789/avatar.png","web_url":"https://gitlab.com/tgolubeva"},"type":"ISSUE","assignee":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3616","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3616/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3616/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3616","relative":"#3616","full":"gitlab-org/customers-gitlab-com#3616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6580,"epic":{"id":327648,"iid":6580,"title":"CustomersDot Admin usability feedback","url":"/groups/gitlab-org/-/epics/6580","group_id":9970,"human_readable_end_date":"Oct 17, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93821802,"iid":3609,"project_id":2670515,"title":"[Engineering]: Pitch a paid plan when users click to purchase CI minutes","description":"# Experiment summary\nWe believe we can increase paid conversion by informing users of their paid plan options when they go to purchase CI minutes.\n\n# Hypothesis\nUsers who purchase CI minutes may not know that CI minutes are included with a paid plan. A paid plan may be a better fit for users who are so engaged as to use all of the free minutes allocated to them.\n\nCurrently, the experience gives users no information around the free CI minutes included in the paid plans.\n| Current Purchase Page | \n| ------ | \n| ![Screen_Shot_2021-09-13_at_3.12.42_PM](/uploads/183308a897b9e059b0e32d48a34c9688/Screen_Shot_2021-09-13_at_3.12.42_PM.png) |\n\n# Business problem\nAt times, the features of our paid plans are not easily found when initially/casually using the platform.\n\n# Proposed Solution\n\nInform users of the paid plan options on the purchase page.\n- For all free users, we present them with information in the form of a banner about upgrading to GitLab Premium. We then link them to the new subscription purchase flow.\n- For premium users who are subscription owners, we present them with information in the form of a banner about upgrading to GitLab Ultimate. We then link them to the CustomersDot Upgrade flow.\n\n| What GitLab Free Users See: | What GitLab Premium Subscription Owners See: |\n| ------ | ------ |\n| ![Screen_Shot_2021-09-23_at_1.30.55_PM](/uploads/a742da2e783c3427326fae152bb8d035/Screen_Shot_2021-09-23_at_1.30.55_PM.png) | ![Screen_Shot_2021-09-23_at_1.31.06_PM](/uploads/6c48448e806ae7be3afec17ad7ddbb47/Screen_Shot_2021-09-23_at_1.31.06_PM.png) |\n\n#### [Design File](https://www.figma.com/file/ND2SnuptLEBZRtLx5QTMXK/UX-Pitch-a-paid-plan-when-users-click-to-purchase-CI-minutes?node-id=3%3A22)","state":"closed","created_at":"2021-09-17T00:43:44.223Z","updated_at":"2021-11-18T07:03:42.122Z","closed_at":"2021-11-16T16:09:01.376Z","closed_by":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"labels":["DEPRECATED Growth-Deliverable","Deliverable","devops::growth","group::activation","section::growth","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"}],"author":{"id":4234774,"username":"pcalder","name":"Phil Calder","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4234774/avatar.png","web_url":"https://gitlab.com/pcalder"},"type":"ISSUE","assignee":{"id":4018056,"username":"alexbuijs","name":"Alex Buijs","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4018056/avatar.png","web_url":"https://gitlab.com/alexbuijs"},"user_notes_count":27,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3609","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3609","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3609/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3609/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3609","relative":"#3609","full":"gitlab-org/customers-gitlab-com#3609"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93800768,"iid":3608,"project_id":2670515,"title":"Allow Admins to set Zuora Subscription Super Sonics flags to NULL in the Admin UI","description":"### Problem\n\nAdmins are able to check boxes on the Zuora Subscriptions Admin page in CustomersDot which can set a few custom fields in Zuora.  Checking the box sets the field to \"Yes\".  Later if you uncheck a box, it sets the field to \"No\".  This was fine when the initial design assumed all these fields would either be \"Yes\" or \"No\" but NULL is also a valid state, especially in the dual licensing approach.  \n\n![Screen_Shot_2021-09-16_at_10.36.23_AM](/uploads/c19b85d7aba596cb99f3bd9584af22c4/Screen_Shot_2021-09-16_at_10.36.23_AM.png)\n\nAdmins should have the ability set the fields to NULL as well.  It's also unclear if an unchecked box means \"No\" or NULL.\n\n### Proposal\n\nUpdate the Zuora Subscriptions Admin page from using checkboxes to dropdowns that contain all three options: \"Yes\", \"No\", and NULL.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nFeature specs should be added to accompany this change in addition to any related unit specs.\n\n- Tests that ensure that the various data types (boolean, nil) behave appropriately","state":"closed","created_at":"2021-09-16T14:49:33.460Z","updated_at":"2023-03-13T17:23:08.517Z","closed_at":"2022-02-04T19:33:59.239Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-action","section::fulfillment","workflow::production"],"milestone":{"id":2161849,"iid":70,"group_id":9970,"title":"14.8","description":"","state":"active","created_at":"2021-07-26T16:51:47.677Z","updated_at":"2021-07-26T16:51:47.677Z","due_date":"2022-02-17","start_date":"2022-01-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/70"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":4,"merge_requests_count":0,"upvotes":1,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3608","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3608/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3608/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3608","relative":"#3608","full":"gitlab-org/customers-gitlab-com#3608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93780933,"iid":3607,"project_id":2670515,"title":"[Feature Flag] Enable `new_ci_provisioning` flag","description":"\u003c!-- Title suggestion: [Feature flag] Enable description of feature --\u003e\n\n# Summary\n\n\u003c!-- Short description of what the feature is about and link to relevant other issues. --\u003e\n\nThis issue is to rollout the new [CI minutes provisioning](https://gitlab.com/groups/gitlab-org/-/epics/5715) on CustomersDot production,\nthat is currently behind the [`new_ci_provisioning`](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/102/edit) feature flag.\n\n## Owners\n\n- Team: ~\"group::utilization\" \n- Most appropriate Slack channel to reach out to: `#g_utilization`\n- Best individual to reach out to: `@vij`\n- PM: `@amandarueda` \n\n## The Rollout Plan\n\n- Rollout Feature for everyone as soon as it's ready\n\nThis feature is running in parallel with existing provisioning and as such is as yet unused on GitLab.com so it can roll out to everyone whilst we monitor and validate the data being created.\n\n## Expectations\n\n### What are we expecting to happen?\n\nWe will expect to start seeing API requests in the Kibana logs, between CustomersDot and GitLab.\n\nThis will result in the creation of `Ci::Minutes::AdditionalPack` records on GitLab when minutes are purchased, and updates to those packs when linked namespaces are changed.\n\n### What might happen if this goes wrong?\n\nWe may see an increase in errors if an unforeseen scenario occurs.\n\nThe result of this would be incorrect data being applied in GitLab.com, the severity of which is low because the data is as yet unused and we have a separate rake task for re-syncing the same data which can always run if/when the problem is resolved.\n\nWe can disable the feature flag safely if this occurs, which will prevent further data creation.\n\n### What can we monitor to detect problems with this?\n\nWe can/should monitor the following after enabling:\n\n**Staging:**\n\n- [#s_fulfillment_status](https://gitlab.slack.com/archives/CL7SX4N86)\n- [Kibana logs for API endpoints](https://nonprod-log.gitlab.net/goto/2b4f611b3e6c912061b19e1502722cf5)\n- [Create packs Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/?query=is%3Aunresolved+syncminutesjob)\n- [Transfer packs Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/?query=is%3Aunresolved+transfer)\n\n\n**Production:**\n\n- [#s_fulfillment_status](https://gitlab.slack.com/archives/CL7SX4N86)\n- [Kibana logs for API endpoints](https://log.gprd.gitlab.net/goto/dad196f12169b034bd809671da17fb2b)\n- [Create packs Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/?query=is%3Aunresolved+syncminutesjob)\n- [Transfer packs Sentry](https://sentry.gitlab.net/gitlab/customersgitlabcom/?query=is%3Aunresolved+transfer)\n\n## Rollout Steps\n\n### Rollout on non-production environments\n\n- [x] Ensure that the feature MRs have been deployed to non-production environments, i.e. `customers-staging`.\n- [x] Enable the feature globally on non-production environments by applying the appropriate environment, e.g. `customers-staging` and `customers-development`.\n- [x] Verify that the feature works as expected. Posting the QA result in this issue is preferable.\n\n### Preparation before production rollout\n\n- [x] Ensure that the feature MRs have been deployed to production\n- [x] Check if the feature flag change needs to be accompanied with a\n  [change management issue](https://about.gitlab.com/handbook/engineering/infrastructure/change-management/#feature-flags-and-the-change-management-process).\n  Cross link the issue here if it does.\n- [x] Ensure that you or a representative in Fulfillment can be available for at least 2 hours after feature flag updates in production.\n  If a different developer will be covering, or an exception is needed, please inform the Fulfillment team in #s_fulfillment_engineering\n- [x] Ensure any documentation has been updated\n- [x] If the feature might impact the user experience, notify `#s_fulfillment` and potentially `#support_gitlab-com`, as well as your team channel ([more guidance when this is necessary in the dev docs](https://docs.gitlab.com/ee/development/feature_flags/controls.html#communicate-the-change)).\n\n### Global rollout on CustomersDot production\n\n- [x] Confirm the feature flag is enabled on `staging` without incident\n- [ ] Roll out the feature to targeted testing users first (if applicable)\n- [ ] If applicable, [incrementally roll out](https://docs.gitlab.com/ee/operations/feature_flags.html#percent-rollout) the feature.\n- [ ] Verify the change has the desired outcome with the limited rollout before enabling the feature globally on production.\n- [x] Enable the feature globally on production environment \n- [x] Wait for [at least one day for the verification term](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release).\n\n### Release the feature\n\nAfter the feature has been [deemed stable](https://about.gitlab.com/handbook/product-development-flow/feature-flag-lifecycle/#including-a-feature-behind-feature-flag-in-the-final-release),\nthe clean up should be done as soon as possible to permanently enable the feature and reduce complexity in the codebase.\n\n\u003c!-- The checklist here is to help stakeholders keep track of the feature flag status --\u003e\n- [x] Create a merge request to remove `new_ci_provisioning` feature flag\n  - [x] Remove all references to the feature flag from the codebase\n- [x] Ensure that the cleanup MR has been deployed to both staging and production\n- [x] Disable the feature flag via the [CustomersDot dashboard](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags)\n- [x] Ensure production environment is still working as expected\n- [x] Remove the [Unleash feature flag](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/102/edit)\n- [x] Close this rollout issue.\n\n## Rollback Steps\n\n- [ ] This feature can be disabled by performing the following actions:\n  - [ ] Disable the Unleash flag on the [feature flag page](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags/102/edit)","state":"closed","created_at":"2021-09-16T09:54:52.318Z","updated_at":"2021-10-13T08:50:20.162Z","closed_at":"2021-10-13T08:50:20.141Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["Unplanned","[deprecated] Category:Utilization","backend","devops::fulfillment","feature flag","group::utilization","missed:14.3","section::fulfillment","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3607","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":23,"completed_count":18},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3607","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3607/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3607/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3607","relative":"#3607","full":"gitlab-org/customers-gitlab-com#3607"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5715,"epic":{"id":244743,"iid":5715,"title":"CI Minutes provisioning API Updates","url":"/groups/gitlab-org/-/epics/5715","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93738657,"iid":3605,"project_id":2670515,"title":"Show activation information in the Admin UI","description":"### Problem\n\nAdmins are able to view Cloud Activation data in the Admin UI currently, but the information shown is very basic.  The fields include subscription name, activation code, created date, and super sonics aware.\n\n![Screen_Shot_2021-09-15_at_1.45.05_PM](/uploads/ad0ab422252f8721095a91d91b449b56/Screen_Shot_2021-09-15_at_1.45.05_PM.png)\n\nIt would be useful for Admins to be able to tell if a customer has activated any instances with a particular code, and when that might have occurred.\n\n### Proposal\n\nFor a particular `CloudActivation` record, we should add a link to another page listing all of the `SelfManagedInstanceActivations`.  We would need to join information from the `SelfManagedInstances` table as well\n\nThis page could be a simple table with the following columns:\n\n- `self_managed_instances.instance_identifier`\n- `self_managed_instance_activations.activated_at`\n\n### Result\n\nAn Admin could easily tell if/when instances have been activated with a particular activation code.\n\n### Availability \u0026 Testing\n\n\u003c!-- This section needs to be retained and filled in during the workflow planning breakdown phase of this feature proposal, if not earlier.\n\nWhat risks does this change pose to our availability? How might it affect the quality of the product? What additional test coverage or changes to tests will be needed? Will it require cross-browser testing?\n\nPlease list the test areas (unit, integration and end-to-end) that needs to be added or updated to ensure that this feature will work as intended. Please use the list below as guidance.\n* Unit test changes\n* Integration test changes\n* End-to-end test change\n\nSee the test engineering planning process and reach out to your counterpart Software Engineer in Test for assistance: https://about.gitlab.com/handbook/engineering/quality/test-engineering/#test-planning --\u003e\n\nThis change would require a new model and associated specs with appropriate associations.  This also applies to the new controller.","state":"closed","created_at":"2021-09-15T18:02:42.297Z","updated_at":"2023-03-13T17:23:08.307Z","closed_at":"2022-04-08T09:17:37.996Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["Cloud License Sync - V2","Cloud Licensing","[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","quad-planning::complete-action","section::fulfillment","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3605","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3605/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3605/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3605","relative":"#3605","full":"gitlab-org/customers-gitlab-com#3605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":4628,"epic":{"id":127229,"iid":4628,"title":"Cloud Licensing V2","url":"/groups/gitlab-org/-/epics/4628","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93735174,"iid":3604,"project_id":2670515,"title":"[Community Programs Renewal] Add success modal to renewal page","description":"Show modal window if transaction was successful [modal](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/75adc85589a351f9aa523a4ca2f1bd46e7c3d09a/app/frontend/javascripts/purchase/components/purchase_success_modal.vue)\n\nWe need two versions of this component: SaaS and SelfManaged\n\nButtons link to https://gitlab.com/ for SaaS and https://customers.gitlab.com/subscriptions for SelfManaged\n\n| SaaS | SelfManaged |\n| ------ | ------ |\n| ![Screenshot_2021-09-15_at_18.39.35](/uploads/7ef0cef40c371a66abc6d5590a2d7045/Screenshot_2021-09-15_at_18.39.35.png)| ![Screenshot_2021-09-15_at_18.39.47](/uploads/ed4fe1e3e317c90dccc67282ef5934f6/Screenshot_2021-09-15_at_18.39.47.png)|\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-15T16:43:24.907Z","updated_at":"2022-05-05T02:20:02.706Z","closed_at":"2022-05-05T02:20:02.688Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.10","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3604","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3604/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3604/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3604","relative":"#3604","full":"gitlab-org/customers-gitlab-com#3604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93734696,"iid":3603,"project_id":2670515,"title":"[Community Programs Renewal] Add purchase confirmation to renew page","description":"Add purchase confirmation [component](\nhttps://gitlab.com/gitlab-org/customers-gitlab-com/blob/f86054a4cb83d5536a2f5093830b4b47d7a55ff0/app/frontend/javascripts/purchase/components/purchase_confirmation_card.vue)\n\n![Screenshot_2021-09-15_at_18.35.49](/uploads/db3fab2d140b1dba01402d0d9874b8a0/Screenshot_2021-09-15_at_18.35.49.png)\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-15T16:37:00.575Z","updated_at":"2022-04-26T23:01:49.050Z","closed_at":"2022-04-26T23:01:48.841Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.10","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3603","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3603","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3603/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3603/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3603","relative":"#3603","full":"gitlab-org/customers-gitlab-com#3603"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93734111,"iid":3602,"project_id":2670515,"title":"[Community Programs Renewal] Add coupon input to renew page","description":"Add [component](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/fa85e92d41afbdd97d324d6a4a37f0cba16529e5/app/frontend/javascripts/subscription/components/coupon_code_input.vue) to the renew page\n\n![Screenshot_2021-09-15_at_18.29.50](/uploads/6cc47e0206b955b0089e98f915393734/Screenshot_2021-09-15_at_18.29.50.png)\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-15T16:33:48.903Z","updated_at":"2022-03-30T07:43:56.966Z","closed_at":"2022-03-30T07:43:56.949Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","missed:14.9","section::fulfillment","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3602","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3602/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3602/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3602","relative":"#3602","full":"gitlab-org/customers-gitlab-com#3602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93732395,"iid":3601,"project_id":2670515,"title":"[Community Programs Renewal] Add a renew landing page","description":"* add a new route `/subscriptions/community_program/renew`\n* re-use templates that we build for CE subscription `community_subscription_landing_page.vue`\n\nButtons link to `/subscriptions/community_program/my_renewal`\n* add a new route `/subscriptions/community_program/my_renewal`\nsimilar to https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/3dcda9b79ed975fc0b18f5f01941de4d38bff91b/app/controllers/subscriptions_controller.rb#L117\n\nIf user has only one subscription -\u003e redirect directly to `/subscriptions/community_program/A-SXXXXX/renew`, if more than one -\u003e to `/subscriptions`\n\n![Screenshot_2021-09-15_at_18.07.09](/uploads/84a0f3e7cdb5624b0540f4c69a083798/Screenshot_2021-09-15_at_18.07.09.png)\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-15T16:28:11.748Z","updated_at":"2022-04-12T07:40:41.894Z","closed_at":"2022-04-06T22:28:04.910Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.9","section::fulfillment","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":23,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3601","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3601/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3601/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3601","relative":"#3601","full":"gitlab-org/customers-gitlab-com#3601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93654648,"iid":3598,"project_id":2670515,"title":"[CI Minutes Provisioning] AdditionalPack testing plan","description":"### Summary\n\nWe have introduced a new concept of an `Ci::Minutes::AdditionalPack` model on GitLab for handling the new provisioning of CI minutes purchases from CustomersDot.\n\nThis new model has API endpoints that allow us to (re-)sync purchased packs as well as transfer them between namespaces (currently, only when subscriptions are moved).\n\nFurther information is available in the proposal document, [here](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/staging/doc/ci_minutes/provisioning_proposal.md).\n\nThe current status of this work is that creation and transferring of packs is implemented, but currently un-used on the GitLab side (see the [epic](https://gitlab.com/groups/gitlab-org/-/epics/5715) for more detail).\n\nThis means that CI minutes balance and consumption is still using the old `namespace#extra_shared_runners_minutes_limit`, so although the individual parts are tested at a unit level, we can't easily write E2E tests for this _new_ provisioning yet (someone please correct me if there's a simple way of doing this without UI changes to test against).\n\nSo for now, in order to test the current work end to end, I've created a test plan that I've been working against which I'll document here.\n\nWe can use this plan for checking off scenarios during our manual testing, and eventually using it as a basis for writing automated QA tests.\n\n\n### Setup\n\nAs mentioned above, given there's no UI you can use to verify changes on the GitLab side, we'll need to use a rails console to do it manually, so firstly, here are some (hopefully) useful console snippets for verifying each step:\n\n**Ensure feature flag enabled:\u2028**\n\n```ruby\nUnleash.enabled?(:new_ci_provisioning)\n```\n\nThis is currently [toggled on](https://gitlab.com/gitlab-org/customers-gitlab-com/-/feature_flags?scope=featureFlags\u0026page=1) for `customers-development` and `customers-staging` environments.\n\n**Check purchased pack counts on GitLab:**\n\n```ruby\n# Total packs count:\nCi::Minutes::AdditionalPack.count\n\n# a User's packs and count:\nuser.reload\nuser.namespace.ci_minutes_additional_packs\nuser.namespace.ci_minutes_additional_packs.count\nuser.namespace.ci_minutes_additional_packs.sum(\u0026:number_of_minutes)\n\n# a Group's packs and count:\ngroup.reload\ngroup.ci_minutes_additional_packs\ngroup.ci_minutes_additional_packs.count\ngroup.ci_minutes_additional_packs.sum(\u0026:number_of_minutes)\n```\n\n### The Tests:\n\n#### Buying packs:\n\n- **Buy minutes for user**\n    - [ ] Check additional packs count\n    - [ ] Check additional packs number of minutes\n        - **Buy more minutes for User**\n            - [ ] Check additional packs count\n            - [ ] Check additional packs number of minutes\n- **Buy minutes for group**\n    - [ ] Check additional packs count\n    - [ ] Check additional packs number of minutes\n        - **Buy more minutes for group**\n            - [ ] Check additional packs\n            - [ ] Check additional packs number of minutes\n- **Buy subscription for user**\n    - **Buy minutes for user**\n        - [ ] Check additional packs count\n        - [ ] Check additional packs number of minutes\n        - **Buy more minutes for user**\n            - [ ] Check additional packs\n- **Buy subscription for Group**\n    - **Buy minutes for group**\n        - [ ] Check additional packs count\n        - [ ] Check additional packs number of minutes\n        - **Buy more minutes for group**\n            - [ ] Check additional packs count\n            - [ ] Check additional packs number of minutes\n- **Buy minutes for a trial** (`/-/trials/new`)\n  - [ ] Check additional packs count\n  - [ ] Check additional packs number of minutes\n\n#### Transferring packs (`Change linked namespace`):\n\n- **User to Group**\n  - [ ] Check additional packs count on User is zero\n  - [ ] Check additional packs count and number of minutes on Group\n  - **Buy more minutes for Group**\n    - [ ] Check additional packs count\n    - [ ] Check additional packs number of minutes\n- **Group to User**\n  - [ ] Check additional packs on Group is zero\n  - [ ] Check additional packs count and number of minutes on User\n  - **Buy more minutes for User**\n    - [ ] Check additional packs count\n    - [ ] Check additional packs number of minutes\n- **Group to Group**\n  - [ ] Check additional packs on originating Group is zero\n  - [ ] Check additional packs count and number of minutes on target Group\n  - **Buy more minutes for Group**\n    - [ ] Check additional packs count\n    - [ ] Check additional packs number of minutes\n\n\n#### Notes\n\nThe syncing of packs happens asynchronously, so updates may take a few seconds whilst waiting for the Zuora callbacks to be processed.\n\nThere is a [known issue](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3597) when buying additional minutes for a subscription that has a future dated renewal - these tests will **not currently work** with those subscriptions","state":"closed","created_at":"2021-09-14T16:05:57.137Z","updated_at":"2021-09-29T10:34:32.378Z","closed_at":"2021-09-29T10:02:38.482Z","closed_by":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","missed:14.3","section::fulfillment","workflow::in dev"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"}],"author":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"type":"ISSUE","assignee":{"id":5249152,"username":"vij","name":"Vijay Hawoldar","state":"active","avatar_url":"https://secure.gravatar.com/avatar/14567a8b4af4374011c43778878de399?s=80\u0026d=identicon","web_url":"https://gitlab.com/vij"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":29,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3598","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3598/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3598/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3598","relative":"#3598","full":"gitlab-org/customers-gitlab-com#3598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5715,"epic":{"id":244743,"iid":5715,"title":"CI Minutes provisioning API Updates","url":"/groups/gitlab-org/-/epics/5715","group_id":9970,"human_readable_end_date":"Oct 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93461574,"iid":3588,"project_id":2670515,"title":"Add name field to GraphQL Subscription Type","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nSystems other than CDot might need to be aware of a Subscription name.\n\n### Proposal\n\nIt would be useful on some occasions (such as the one born from this [issue](https://gitlab.com/gitlab-org/gitlab/-/issues/338546#note_674033407)) to retrieve the name of a Subscription.\n\nThis is [how it can be done](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3720#note_674681374).","state":"closed","created_at":"2021-09-10T13:24:56.318Z","updated_at":"2021-09-14T09:31:48.343Z","closed_at":"2021-09-14T09:31:48.327Z","closed_by":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"labels":["CI minutes","Category:Purchase","GraphQL","Unplanned","devops::fulfillment","feature::enhancement","frontend","group::purchase","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3588","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3588","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3588/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3588/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3588","relative":"#3588","full":"gitlab-org/customers-gitlab-com#3588"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5391,"epic":{"id":202570,"iid":5391,"title":"FE: Move CI Minutes purchase flows to GitLab.com UI","url":"/groups/gitlab-org/-/epics/5391","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93443323,"iid":3585,"project_id":2670515,"title":"CloudActivation returning empty subscription instead of nil","description":"https://sentry.gitlab.net/gitlab/customersgitlabcom/issues/2801577\n\nSome cloud activation were triggered but the current subscription cannot be found.\n\n## `A-S00019212`\n\nThere are no current or future versions. The last one ended in Sat, 12 Sep 2021.\n\nActivation code was created in Thu, 09 Sep 2021 22:21:04.\n\nWe will need to investigate why activation code was created for this customer who does not have a subscription.","state":"closed","created_at":"2021-09-10T08:08:06.861Z","updated_at":"2021-09-17T21:15:42.978Z","closed_at":"2021-09-16T20:32:20.462Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","section::fulfillment","type::bug","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":402401,"username":"jobbot","name":"Bot","state":"active","avatar_url":"https://secure.gravatar.com/avatar/aaa6738f1ebf25404010884af511b0e7?s=80\u0026d=identicon","web_url":"https://gitlab.com/jobbot"},"type":"ISSUE","assignee":{"id":1986039,"username":"lulalala","name":"Mark Chao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/1986039/avatar.png","web_url":"https://gitlab.com/lulalala"},"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3585","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3585/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3585/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3585","relative":"#3585","full":"gitlab-org/customers-gitlab-com#3585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93435690,"iid":3583,"project_id":2670515,"title":"Zuora iFrame is not always aware of the current customer","description":"\u003c!-- Please complete the template below as best as you can. Make sure to check if this issue has already been raised by someone else first to avoid duplication. \n\nFor each section below, please add screenshots or links or anything that may help visual learners understand the problem better, even if this takes you an extra minute or two this is a great help to some folks.\n\nhttps://www.learning-styles-online.com/style/visual-spatial/\n\n--\u003e\n\n### Problem\n\nWhen used in different a context than CDot, the Zuora iframe does not seem to always be aware of who's the current customer. This leads to the rejection of some actions to amend existing subscriptions (for more details, [here](https://gitlab.com/gitlab-org/gitlab/-/issues/338546#note_674033407)).\n\n### Proposal\n\nUse the already implemented `user_id` to retrieve the customer that has sent the request and its Zuora account.","state":"closed","created_at":"2021-09-10T05:37:37.988Z","updated_at":"2021-10-28T13:52:37.458Z","closed_at":"2021-09-14T10:03:27.835Z","closed_by":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"labels":["CI minutes","Category:Purchase","Unplanned","backend","devops::fulfillment","group::purchase","section::fulfillment","type::maintenance","workflow::verification"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"}],"author":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"type":"ISSUE","assignee":{"id":6348276,"username":"agulina","name":"Angelo Gulina","state":"active","avatar_url":"https://secure.gravatar.com/avatar/b28693a558066993ea93b7272208d285?s=80\u0026d=identicon","web_url":"https://gitlab.com/agulina"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3583","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3583/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3583/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3583","relative":"#3583","full":"gitlab-org/customers-gitlab-com#3583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6574,"epic":{"id":327000,"iid":6574,"title":"Move CI Minutes purchase flows to GitLab.com UI (Group namespaces only)","url":"/groups/gitlab-org/-/epics/6574","group_id":9970,"human_readable_end_date":"Dec 10, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93405959,"iid":3578,"project_id":2670515,"title":"[Community Programs Renewal] Add customer information to the renew page","description":"Add customer information [component](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/76db4040e6294daa2da5ae813f667c54d34781a5/app/frontend/javascripts/subscription/components/customer_information.vue)\n\n![Screenshot_2021-09-09_at_17.06.58_copy](/uploads/8b319c4312394cfee1f36791225561a5/Screenshot_2021-09-09_at_17.06.58_copy.png)\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-09T15:08:35.886Z","updated_at":"2022-03-18T04:13:22.836Z","closed_at":"2022-03-18T04:13:22.818Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","Unplanned","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3578","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3578/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3578/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3578","relative":"#3578","full":"gitlab-org/customers-gitlab-com#3578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93399931,"iid":3577,"project_id":2670515,"title":"[Community Programs Renewal] Add description to renew page","description":"Add description component to Community Program renew page\n\nWe need two versions of this component: SaaS and SelfManaged\n\n* for SelfManaged version add a collapsible element with a hint text from [subscription_renew.vue](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/a8d38ed9bd91be182e6288ff341a0c736713788f/app/frontend/javascripts/subscription/components/subscription_renew.vue#L337). We already have this element glued in the `subscripton_renew` component so it is a good time to extract it and use in two places\n\n| SaaS | SelfManaged |\n| ------ | ------ |\n| ![Screenshot_2021-09-09_at_15.36.57](/uploads/4577a476190ea4407650bbd330d39b26/Screenshot_2021-09-09_at_15.36.57.png) | ![Screenshot_2021-09-09_at_15.37.28](/uploads/7d8437a9e0773765a20d911556004062/Screenshot_2021-09-09_at_15.37.28.png) |\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-09T13:39:10.645Z","updated_at":"2022-03-14T07:30:07.814Z","closed_at":"2022-03-14T07:30:07.769Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::in review"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3577","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3577/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3577/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3577","relative":"#3577","full":"gitlab-org/customers-gitlab-com#3577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93396410,"iid":3576,"project_id":2670515,"title":"[Community Programs Renewal] Add a renew page","description":"* Add a new route `/subscriptions/community_program/A-SXXXXXX/renew`\n* Add basic titles to the page \n\n![Screenshot_2021-09-09_at_14.55.48](/uploads/c484be56dcf75482e446973c2a04f694/Screenshot_2021-09-09_at_14.55.48.png)\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/","state":"closed","created_at":"2021-09-09T12:56:43.098Z","updated_at":"2022-03-10T05:30:26.233Z","closed_at":"2022-03-10T05:25:40.107Z","closed_by":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2204140,"iid":71,"group_id":9970,"title":"14.9","description":"","state":"active","created_at":"2021-08-26T19:11:46.841Z","updated_at":"2022-03-22T13:29:17.028Z","due_date":"2022-03-17","start_date":"2022-02-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/71"},"assignees":[{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10325315,"username":"vvempati","name":"Vamsi Vempati","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10325315/avatar.png","web_url":"https://gitlab.com/vvempati"},"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3576","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3576/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3576/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3576","relative":"#3576","full":"gitlab-org/customers-gitlab-com#3576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93395426,"iid":3575,"project_id":2670515,"title":"[Community Programs Renewal] Enable renew buttons for subscription card","description":"Show \"renew\" buttons on `/subscriptions` page for Community Program card\n\nLink for the button should lead to `/subscriptions/community_program/A-SXXXXXX/renew`\n\nButton should only show up when `community_program_renewals` feature flag is turned on (and when its up for renewal)\n \n[Community Program Subscription Renewal Setup instructions](https://gitlab.com/groups/gitlab-org/-/epics/5711#steps-to-setup)","state":"closed","created_at":"2021-09-09T12:42:25.034Z","updated_at":"2022-04-18T13:05:25.926Z","closed_at":"2022-04-18T05:01:45.877Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2204142,"iid":72,"group_id":9970,"title":"14.10","description":"","state":"active","created_at":"2021-08-26T19:12:33.701Z","updated_at":"2021-08-26T19:12:33.701Z","due_date":"2022-04-17","start_date":"2022-03-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/72"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":20,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3575","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3575","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3575/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3575/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3575","relative":"#3575","full":"gitlab-org/customers-gitlab-com#3575"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93394764,"iid":3574,"project_id":2670515,"title":"[Community Programs Renewal] Add renewal info banner","description":"Add a renewal info banner to Community Program card on `/subscriptions` page. The banner should show up 3 months before the expiration.\n\n[Related implementation conversation](https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3575#note_886396335)\n\nBanner should only show up when `community_program_renewals` FF is turned on.\n\n[Edge case] If customer has more than one community program subscription under an account, we should display an alert for each community program subscription subscription that is up for renewal with `Renew` CTA in a list at the top\n\n`application` leads to:\n\n* GitLab for Education link: https://about.gitlab.com/solutions/education/join/#application\n* GitLab for Open Source link: https://about.gitlab.com/solutions/open-source/join/#application\n* GitLab for Start-ups is not relevant, because that program is only a single-year subscription (no renewals)\n\n\n\n![Screenshot_2021-09-09_at_14.28.23](/uploads/4fdf553f6c3d548f11e4f34d79cf6ead/Screenshot_2021-09-09_at_14.28.23.png)\n\nDesign issue: https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/2747/\n\n[Community Program Subscription Renewal Setup instructions](https://gitlab.com/groups/gitlab-org/-/epics/5711#steps-to-setup)","state":"closed","created_at":"2021-09-09T12:31:30.773Z","updated_at":"2022-08-24T21:45:34.101Z","closed_at":"2022-04-26T07:14:29.417Z","closed_by":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"labels":["Category:Purchase","devops::fulfillment","frontend","group::purchase","missed:14.10","section::fulfillment","workflow::production"],"milestone":{"id":2095271,"iid":65,"group_id":9970,"title":"15.0","description":"","state":"active","created_at":"2021-06-08T15:35:34.814Z","updated_at":"2021-11-02T18:23:35.115Z","due_date":"2022-05-17","start_date":"2022-04-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/65"},"assignees":[{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"}],"author":{"id":9299375,"username":"dzubova","name":"Diana Zubova","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/9299375/avatar.png","web_url":"https://gitlab.com/dzubova"},"type":"ISSUE","assignee":{"id":10590518,"username":"snachnolkar","name":"Sharmad Nachnolkar","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/10590518/avatar.png","web_url":"https://gitlab.com/snachnolkar"},"user_notes_count":32,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":2,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3574","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3574/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3574/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3574","relative":"#3574","full":"gitlab-org/customers-gitlab-com#3574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":5711,"epic":{"id":244557,"iid":5711,"title":"[Community Programs] Renewals","url":"/groups/gitlab-org/-/epics/5711","group_id":9970,"human_readable_end_date":"Nov 4, 2022","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93387344,"iid":3573,"project_id":2670515,"title":"Do not repeat quote_invoice if quoted_invoice_amount is present","description":"The following discussion from !3751 should be addressed:\n\n- [ ] @shreyasagarwal started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3751#note_673204753): \n\n    \u003e @qzhaogitlab Thank you for the call and clearing my doubts. Do you think we can call to quote the invoice only once and not call if the `quoted_invoice_amount` is already filled ?\n\nIf after quote_invoice succeed, the `email_notification` failed, the job will retry. During the retry, it will `quote_invoice` again. In this case, we do not need to repeat the quote_invoice.","state":"closed","created_at":"2021-09-09T10:30:14.357Z","updated_at":"2021-11-12T12:29:52.768Z","closed_at":"2021-11-12T12:29:46.646Z","closed_by":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"labels":["Category:Purchase","devops::fulfillment","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"}],"author":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"type":"ISSUE","assignee":{"id":4098809,"username":"qzhaogitlab","name":"Qingyu Zhao","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4098809/avatar.png","web_url":"https://gitlab.com/qzhaogitlab"},"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3573","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3573/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3573/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3573","relative":"#3573","full":"gitlab-org/customers-gitlab-com#3573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93355364,"iid":3569,"project_id":2670515,"title":"Modify the subscription_update endpoint to support an Order Processed callout","description":"### Background\n\nAs discussed in https://gitlab.com/gitlab-com/business-technology/enterprise-apps/intake/-/issues/322#note_666782612, Order action callouts are triggered for each order action (add product, remove product, etc) added to a processed order.  This is similar to amendment callouts, however there is one big difference.  With Amendments, each Amendment processed yields a new version of the subscription.  This isn't necessarily the case with Order Actions.\n\nWhen processing Amendment callouts in CustomersDot, CustomersDot will only consider a callout if the subscription status is Active in order to avoid provisioning a subscription multiple times.  For instance, if a subscription was upgraded from premium to ultimate, a `RemoveProduct` amendment and `NewProduct` Amendment would be created but only the last Amendment (e.g. NewProduct) would have an \"Active\" subscription status, as that is the latest subscription.\n\nIf we use Order Action callouts, we would need a way to determine the last callout to process and skip the others.  Otherwise, CustomersDot would provision a subscription multiple times.  \n\n### Proposal\n\nInstead of configuring Order Action processed callouts, we should use Order processed callouts.  This would yield only one callout, no matter how many Order Actions were processed, eliminating the step of determining which callout to process.\n\nWe'd have to make some adjustments in callout processing code where `amendment_type` is currently referenced.  Callout params would not contain this parameter.  This would have to be queried from the Order Actions types associated with the Order in Zuora.\n\nFYI, it doesn't look like Orders are supported by IronBank, the gem used in CustomersDot.  This will be added as part of https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3568.","state":"closed","created_at":"2021-09-08T20:47:19.603Z","updated_at":"2021-11-10T16:34:37.773Z","closed_at":"2021-11-10T16:34:37.746Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","feature::addition","group::provision","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":2114817,"iid":66,"group_id":9970,"title":"14.5","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-06-23T04:59:45.082Z","updated_at":"2022-04-21T07:25:45.431Z","due_date":"2021-11-17","start_date":"2021-10-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/66"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3569","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":5,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3569","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3569/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3569/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3569","relative":"#3569","full":"gitlab-org/customers-gitlab-com#3569"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93355169,"iid":3568,"project_id":2670515,"title":"Update IronBank to support Orders","description":"### Background\n\nAs part of updating CustomersDot to work with the Orders Harmonization feature in Zuora, CustomersDot needs to be able to query Orders and Orders Actions.  This will be helpful in processing \"Order Processed\" callouts sent by Zuora for Order related transactions.\n\nIt does not appear that [IronBank](https://github.com/zendesk/iron_bank), the gem used by CustomersDot to interact with Zuora, supports Order related resources.\n\n### Proposal\n\nLet's investigate whether we can update the IronBank gem to add resources for `Order` and `OrderAction`.  We could also submit a merge request to the IronBank project to contribute to the open source project.\n\n[Here's the Orders object model](https://knowledgecenter.zuora.com/Billing/Subscriptions/Orders/BA_Orders_Object_Model) from the Zuora docs for reference.","state":"closed","created_at":"2021-09-08T20:41:34.627Z","updated_at":"2021-09-21T14:46:52.298Z","closed_at":"2021-09-21T14:46:52.215Z","closed_by":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"labels":["Zuora Orders Harmonization","[deprecated] Category:Provision","backend","devops::fulfillment","feature::addition","group::provision","missed:14.3","section::fulfillment","type::feature","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3568","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":3,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3568","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3568/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3568/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3568","relative":"#3568","full":"gitlab-org/customers-gitlab-com#3568"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":6641,"epic":{"id":336961,"iid":6641,"title":"[License Group] Order Harmonization","url":"/groups/gitlab-org/-/epics/6641","group_id":9970,"human_readable_end_date":"Nov 17, 2021","human_readable_timestamp":"\u003cstrong\u003ePast due\u003c/strong\u003e"},"iteration":null,"health_status":null},{"id":93281482,"iid":3565,"project_id":2670515,"title":"Follow-up from \"Introduce a flag to stop reconciliations\"","description":"The following discussion from !3812 should be addressed:\n\n- [ ] @rpereira2 started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3812#note_671518810): \n\n    \u003e **suggestion (non-blocking)**: We can add a spec showing that it returns `eligible_for_reconciliation: false` if the feature flag is off.","state":"closed","created_at":"2021-09-07T18:34:04.187Z","updated_at":"2021-09-20T21:00:47.153Z","closed_at":"2021-09-20T10:11:50.054Z","closed_by":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"labels":["Category:Purchase","backend","devops::fulfillment","group::purchase","section::fulfillment","workflow::production"],"milestone":{"id":1948708,"iid":64,"group_id":9970,"title":"14.4","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:44:55.682Z","updated_at":"2022-04-21T07:25:38.537Z","due_date":"2021-10-17","start_date":"2021-09-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/64"},"assignees":[{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"}],"author":{"id":4159190,"username":"tyleramos","name":"Tyler Amos","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4159190/avatar.png","web_url":"https://gitlab.com/tyleramos"},"type":"ISSUE","assignee":{"id":4903695,"username":"shreyasagarwal","name":"Shreyas Agarwal","state":"active","avatar_url":"https://secure.gravatar.com/avatar/d5b09dfe06a10d119c1b2043c43de680?s=80\u0026d=identicon","web_url":"https://gitlab.com/shreyasagarwal"},"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3565","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3565","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3565/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3565/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3565","relative":"#3565","full":"gitlab-org/customers-gitlab-com#3565"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93277666,"iid":3564,"project_id":2670515,"title":"Follow-up from \"Remove storage_plan Feature Flag\"","description":"The following discussion from !3784 should be addressed:\n\n- [ ] @vshumilo started a [discussion](https://gitlab.com/gitlab-org/customers-gitlab-com/-/merge_requests/3784#note_669109888):  (+1 comment)\n\n    \u003e **suggestion (non-blocking):** Looks like there is an opportunity here for further clean up - follow up.\n    \u003e \n    \u003e I think one easy win will be to remove these `enabled:` key/values + get rid of `enabled_add_ons` and start using `add_ons` directly.\n\n### Acceptance Criteria\n\nConsolidate the `PlansHelper`: `enabled_add_ons` and `add_ons` methods by removing the `enabled` attribute now that is `true` for all cases. Depending on the approach, update the [usage](https://gitlab.com/gitlab-org/customers-gitlab-com/-/blob/2373988852a2bd1e3441fc63a11c37bc58161f53/app/views/plans/index.html.haml#L54) of the `enabled_add_ons` with the final method name.","state":"closed","created_at":"2021-09-07T17:15:28.396Z","updated_at":"2022-09-07T04:40:57.295Z","closed_at":"2022-09-07T04:40:57.268Z","closed_by":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"labels":["[deprecated] Category:Utilization","backend","devops::fulfillment","group::utilization","maintenance::refactor","section::fulfillment","type::maintenance"],"milestone":{"id":490705,"iid":14,"group_id":9970,"title":"Backlog","description":"Issues that we want to do but are not planned right now. Open for contribution from the community.","state":"active","created_at":"2018-03-22T13:09:23.767Z","updated_at":"2018-10-30T14:56:54.069Z","due_date":null,"start_date":null,"expired":false,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/14"},"assignees":[],"author":{"id":5667561,"username":"vshumilo","name":"Vladlena Shumilo","state":"active","avatar_url":"https://secure.gravatar.com/avatar/08dfa82785d130c151ab9e21caeab4e3?s=80\u0026d=identicon","web_url":"https://gitlab.com/vshumilo"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":1,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":false,"_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3564","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3564/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3564/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3564","relative":"#3564","full":"gitlab-org/customers-gitlab-com#3564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":93247248,"iid":3560,"project_id":2670515,"title":"Unlink subscription job sends email for existing namespaces","description":"### Problem\nI noticed a few emails to unlink a .com subscription locally that didn't seem right. They were sent despite of the namespace existing on my local GitLab instance. The reason for this was that my local GitLab instance wasn't ready to run yet and returned a 502 error.\n\n### Proposal\nModify [UnlinkedComSubscriptionNotificationJob](https://gitlab.com/gitlab-org/customers-gitlab-com/blob/d72d861f03fcfe394b0320d48f9ae23bc55d3372/app/jobs/unlinked_com_subscription_notification_job.rb) to not try to unlink a subscription if the error code of the GitLab request returns a 50x error. Alternatively, only execute the logic to unlink when the error code is 404.\n\n### Result\nNot sending emails for existing namespaces when the GitLab request results in a 50x error.","state":"closed","created_at":"2021-09-07T09:28:47.319Z","updated_at":"2021-09-08T20:59:42.295Z","closed_at":"2021-09-08T09:52:08.781Z","closed_by":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"labels":["[deprecated] Category:Provision","backend","devops::fulfillment","group::provision","maintenance::refactor","section::fulfillment","type::bug","workflow::production"],"milestone":{"id":1948702,"iid":63,"group_id":9970,"title":"14.3","description":"https://about.gitlab.com/releases/archives.html","state":"closed","created_at":"2021-03-17T21:43:36.613Z","updated_at":"2022-04-21T07:25:29.231Z","due_date":"2021-09-17","start_date":"2021-08-18","expired":true,"web_url":"https://gitlab.com/groups/gitlab-org/-/milestones/63"},"assignees":[{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"}],"author":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"type":"ISSUE","assignee":{"id":4799322,"username":"cwiesner","name":"Corinna Gogolok","state":"active","avatar_url":"https://gitlab.com/uploads/-/system/user/avatar/4799322/avatar.png","web_url":"https://gitlab.com/cwiesner"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/gitlab-org/customers-gitlab-com/-/issues/3560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":1,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/2670515/issues/3560","notes":"https://gitlab.com/api/v4/projects/2670515/issues/3560/notes","award_emoji":"https://gitlab.com/api/v4/projects/2670515/issues/3560/award_emoji","project":"https://gitlab.com/api/v4/projects/2670515","closed_as_duplicate_of":null},"references":{"short":"#3560","relative":"#3560","full":"gitlab-org/customers-gitlab-com#3560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]