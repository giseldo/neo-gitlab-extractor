[{"id":118022251,"iid":637,"project_id":12450835,"title":"duplicity does NOT close properly (lp:#1980908)","description":"[Original report](https://bugs.launchpad.net/bugs/1980908) created by **Kenneth Loafman (kenneth-loafman)**\n```\nDuplicity process stays running after closing deja-dup backups app from\nUbuntu desktop. Openning up deja-dup again, go to Restore tab, error\nmessage shows \"Another duplicity instance is already running with this\narchive directory\". `ps -ef | grep duplicity` shows the process still\nrunning.\n```","state":"closed","created_at":"2022-07-07T05:42:14.767Z","updated_at":"2022-11-02T16:50:37.893Z","closed_at":"2022-11-02T16:50:37.879Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::need-info"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/637","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/637","notes":"https://gitlab.com/api/v4/projects/12450835/issues/637/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/637/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#637","relative":"#637","full":"duplicity/duplicity#637"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118018349,"iid":256,"project_id":12450835,"title":"snap contains python 3.8 and 3.9 libs (lp:#1965814)","description":"[Original report](https://bugs.launchpad.net/bugs/1965814) created by **Kenneth Loafman (kenneth-loafman)**\n```\nUsing the attached snapcraft.yaml, snap builds with conflicting libs:\n\n$ find /snap/duplicity/current/ -type d -name 'python3*'\n\u003csnip\u003e\n/snap/duplicity/current/usr/lib/python3\n/snap/duplicity/current/usr/lib/python3.8     \u003c-- this should be here ****\n/snap/duplicity/current/usr/lib/python3.9     \u003c-- this one causes confusion\n****\n\u003csnip\u003e\n\nSince duplicity uses _librsync*.so and that's only installed in python3.8,\nit fails when python 3.9 is used, as is done on Debian 10.  It's only one\nexecutable and should only have one version of python supplied in the snap.\n```","state":"closed","created_at":"2022-03-21T19:18:39.611Z","updated_at":"2022-11-02T16:51:06.089Z","closed_at":"2022-11-02T16:51:06.063Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::high","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/256","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/256","notes":"https://gitlab.com/api/v4/projects/12450835/issues/256/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/256/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#256","relative":"#256","full":"duplicity/duplicity#256"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022236,"iid":636,"project_id":12450835,"title":"SMB Mount to backup directory prevents mounting parent directories of share (lp:#1962593)","description":"[Original report](https://bugs.launchpad.net/bugs/1962593) created by **Dan Sorak (dsorak)**\n```\nMay also apply to the \"duplicity\" package and is related to network\n\"mount\"s:\n\nTo reproduce:\n* Set up a writeable SMB share: smb://1.2.3.4/backup\n* Create a subdir: smb://1.2.3.4/backup/UbuntuBackup\n* Using \"deja-dup\" -\u003e \"Storage location\" set:\nÂ Â Â Â Storage location: Network Server\nÂ Â Â Â Network Location: smb://1.2.3.4/backup/UbuntuBackup\nÂ Â Â Â Folder: MyMachineBackup\n* REBOOT THE MACHINE (or clear any cached mounts to \"smb://1.2.3.4/backup\")\n* Select \"deja-dup\" -\u003e \"Overview\" -\u003e \"Back Up Now...\"\n* Allow the backup to start, but not finish\n* Go to Nautilus (file browser) -\u003e \"+ Other Locations\"\nÂ Â - At the bottom set \"Connect to server\" to: smb://1.2.3.4/backup\n\nResult:\n* The parent SMB directory \"smb://1.2.3.4/backup\" is inaccessible because\nthe \"UbuntuBackup\" subdir is currently mounted\n* Can happen at semi-random times if the backup is on a schedule\n* This is especially a problem when backing up remotely over a VPN which\ncan take a long time\n* Prevents access to all parent folders of the backup folder\n* Nautilus will hang, unable to mount the \"backup\" parent directory\n* Also a problem if the \"smb://1.2.3.4/backup\" folder is bookmarked in\nnautilus\n* This problem is persistent throughout backup process and for a period of\ntime afterwards until the mount to \"UbuntuBackup\" times out or the backup\nprocess exits\n\nPossible solutions:\n* Add a configuration option to deja-dup/duplicity to specify the \"Share\nroot\" and mount that first before accessing the configured \"Network\nLocation\"\n* Have deja-dup or duplicity attempt to mount the parent\ndirectory/directories first by starting at the root of the SMB share and\nwalking down the directory tree until a successful mount is made. In the\nabove example, start by attempting to mount \"smb://1.2.3.4/backup\" first\nand then \"smb://1.2.3.4/backup/UbuntuBackup\" (in the case of deeper folder\nstructures, try each one successively)\n\nProblemType: Bug\nDistroRelease: Ubuntu 20.04\nPackage: deja-dup 40.7-0ubuntu1\nProcVersionSignature: Ubuntu 5.13.0-30.33~20.04.1-generic 5.13.19\nUname: Linux 5.13.0-30-generic x86_64\nNonfreeKernelModules: nvidia_modeset nvidia\nApportVersion: 2.20.11-0ubuntu27.21\nArchitecture: amd64\nCasperMD5CheckResult: skip\nCurrentDesktop: ubuntu:GNOME\nDate: Tue Mar  1 08:51:47 2022\nExecutablePath: /usr/bin/deja-dup\nInstallationDate: Installed on 2021-09-13 (168 days ago)\nInstallationMedia: Ubuntu 20.04.3 LTS \"Focal Fossa\" - Release amd64\n(20210819)\nProcEnviron:\nÂ XDG_RUNTIME_DIR=\u003cset\u003e\nÂ SHELL=/bin/bash\nÂ PATH=(custom, user)\nÂ LANG=en_US.UTF-8\nSourcePackage: deja-dup\nUpgradeStatus: No upgrade log present (probably fresh install)\n```\nOriginal tags: amd64 apport-bug backup focal network smb","state":"closed","created_at":"2022-03-01T15:58:23.479Z","updated_at":"2022-11-02T16:51:50.432Z","closed_at":"2022-11-02T16:51:50.416Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::low","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/636","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/636","notes":"https://gitlab.com/api/v4/projects/12450835/issues/636/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/636/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#636","relative":"#636","full":"duplicity/duplicity#636"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022232,"iid":635,"project_id":12450835,"title":"Deja-dup has stopped working since upgrade to Ubuntu-21.04 (lp:#1946528)","description":"[Original report](https://bugs.launchpad.net/bugs/1946528) created by **sTiVo (stevecoh1)**\n```\n I upgraded to Ubuntu-21.04 (from 20.04-\u003e20.10-\u003e21.04) and now I find that\nmy deja-dup backup is failing with the following obscure error message:\n\nFailed to read /tmp/duplicity-6k2ojcdb-tempdir/mktemp-s39ei7up-2: (\u003cclass\n'EOFError'\u003e, EOFError('Compressed file ended before the end-of-stream\nmarker was reached'), \u003ctraceback object at 0x7f80484aaa00\u003e)\n\nA search on this error message produced a similar issue:\nhttps://answers.launchpad.net/duplic...uestion/693039 from 2020 which died\nfor a lack of response.\n\nCan someone provide me some help on how to proceed here to get my backups\nworking again? Thanks.\n\nOS: Ubuntu 21.04\n```","state":"closed","created_at":"2021-10-08T21:05:32.071Z","updated_at":"2022-11-02T16:52:07.013Z","closed_at":"2022-11-02T16:52:06.993Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/635","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/635","notes":"https://gitlab.com/api/v4/projects/12450835/issues/635/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/635/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#635","relative":"#635","full":"duplicity/duplicity#635"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022221,"iid":634,"project_id":12450835,"title":"duplicity falsely reports B2 python SDK not installed, fails backup to B2 (lp:#1933540)","description":"[Original report](https://bugs.launchpad.net/bugs/1933540) created by **Kenneth Loafman (kenneth-loafman)**\n```\nDescription:    Ubuntu 21.04\nRelease:        21.04\n\nduplicity:\n  Installed: 0.8.17-1build1\n  Candidate: 0.8.17-1build1\n  Version table:\n *** 0.8.17-1build1 500\n        500 http://us.archive.ubuntu.com/ubuntu hirsute/main amd64 Packages\n        100 /var/lib/dpkg/status\n\nWhat I expected to happen: duplicity successfully backs up to B2 when I run\n`duplicity ~ b2://\u003credacted\u003e@\u003credacted\u003e`\n\nWhat happened instead: duplicity immediately fails with the error\n\"BackendException: B2 backend requires B2 Python SDK (pip install b2sdk)\".\n\n\nduplicity was working fine for me backing up my local machine to BackBlaze\nB2, when I was running 20.10. After upgrading to 21.04, now I get this\nproblem.\n\nBoth b2 and b2sdk are installed by pip and pip3, with and without sudo. I\ndo use pyenv to manage different Python versions but pyenv global is set to\nsystem when I use pip to try to troubleshoot this, so this should not be\ninterfering\n\nProblemType: Bug\nDistroRelease: Ubuntu 21.04\nPackage: duplicity 0.8.17-1build1\nProcVersionSignature: Ubuntu 5.11.0-22.23-generic 5.11.21\nUname: Linux 5.11.0-22-generic x86_64\nApportVersion: 2.20.11-0ubuntu65.1\nArchitecture: amd64\nCasperMD5CheckResult: unknown\nCurrentDesktop: Regolith:GNOME-Flashback:GNOME\nDate: Thu Jun 24 12:28:50 2021\nInstallationDate: Installed on 2020-11-20 (215 days ago)\nInstallationMedia: Ubuntu 20.10 \"Groovy Gorilla\" - Release amd64 (20201022)\nProcEnviron:\n TERM=alacritty\n PATH=(custom, no user)\n XDG_RUNTIME_DIR=\u003cset\u003e\n LANG=en_US.UTF-8\n SHELL=/bin/bash\nSourcePackage: duplicity\nUpgradeStatus: Upgraded to hirsute on 2021-06-15 (8 days ago)\n```\nOriginal tags: amd64 apport-bug hirsute","state":"closed","created_at":"2021-06-24T19:36:00.284Z","updated_at":"2022-11-02T16:53:29.659Z","closed_at":"2022-11-02T16:53:29.643Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/634","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/634","notes":"https://gitlab.com/api/v4/projects/12450835/issues/634/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/634/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#634","relative":"#634","full":"duplicity/duplicity#634"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022218,"iid":633,"project_id":12450835,"title":"too many files open (lp:#1933261)","description":"[Original report](https://bugs.launchpad.net/bugs/1933261) created by **Heiner Kuhlmann (heiner-k)**\n```\nSystem: openSUSE Leep 15.2 / duplicity 0.8.11\n\nTo prevent useless hints, I am aware that my problem with the mounted\ndav directory can easily be solved by\n\nduplicity / webdavs://....\n\nBut webdav is not the problem, it is a shortcoming in duplicity.\n\nThis problem occurs only in special cases:\n\n  duplicity / file:///Save/DAV_mount\n\n/Save/DAV_mount is mounted via davf2.\n\nThe system log reports the error\n\n  open files exceed max cache size by ...\n\nIn the directory /var/cache/davfs2/webdav.magentacloud.de+Save-Cloud+root/\nthere are many files like\nduplicity-inc.20210622T104338Z.to.20210622T142854Z.vol17.difftar.gpg-kIVuGX\n...\nduplicity-\ninc.20210622T104338Z.to.20210622T142854Z.vol140.difftar.gpg-2FrxIW\n\nAlmost all of the files have already been transferred to the webdav\ndirectory and could be deleted in the dav cache. dav cannot delete because\nthese files are still open.\n\nThe cause is probably that duplicity keeps a lot of files open even though\nthey have already been completed.\n\nPresumably, duplicity does not close files immediately after they have been\ncompletely written.\n\nIn the spirit of good programming practice, every resource - including open\nfiles - should be released as soon as possible.\n```","state":"closed","created_at":"2021-06-22T17:26:27.131Z","updated_at":"2022-11-02T16:53:52.585Z","closed_at":"2022-11-02T16:53:52.570Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/633","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/633","notes":"https://gitlab.com/api/v4/projects/12450835/issues/633/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/633/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#633","relative":"#633","full":"duplicity/duplicity#633"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019117,"iid":281,"project_id":12450835,"title":"Certain files aren't restored, despite being in the repository (lp:#1919054)","description":"[Original report](https://bugs.launchpad.net/bugs/1919054) created by **Xenon Fiber System (xenonfiber)**\n```\nI'm running a restore operation on a local repository, and I'm able to get\nthe vast majority of the files extracted, but there are a couple that have\na fatal error.\n\npython2: ERROR: (rs_file_copy_cb) unexpected eof on fd494\npython2: ERROR: (rs_job_complete) patch job failed: unexpected end of input\nError 'librsync error 103 while in patch cycle' patching [FILE]\n\nIn case it's relevant, all the successfully extracted files still throw\nanother error, but from what I've read, it's just due to the ownership\npermissions not being successfully restored, but otherwise extracting just\nfine:\n\nError '[Errno 1] Operation not permitted: '/[FILE]'' processing [FILE]\n\n\nDuplicity 0.7.17\nPython 2.7.17\nLinux Mint 19.3\next4 Filesystem\n```","state":"closed","created_at":"2021-03-14T01:43:29.877Z","updated_at":"2022-11-02T16:54:18.551Z","closed_at":"2022-11-02T16:54:18.524Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::medium","status::confirmed"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/281","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/281","notes":"https://gitlab.com/api/v4/projects/12450835/issues/281/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/281/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#281","relative":"#281","full":"duplicity/duplicity#281"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019109,"iid":280,"project_id":12450835,"title":"Very bad performance when deleting files from mediafire backend (lp:#1919020)","description":"[Original report](https://bugs.launchpad.net/bugs/1919020) created by **Jose Riha (jose1711)**\n```\nUnder certain conditions the performance of removing old backups from\nmediafire backend can be extremely bad - it can take hours to process such\nrequest.\n\nThe main contributor to this slowdown is a combination of\n - using mediafire in multibackend and the fact that file lists are not\ncached per store\n   +\n - multiple calls to list mediafire folder contents\n   (e. g. in multibackend.py's _delete function or mediafire backend's\ndelete_file function which is still using API 1.3 for deletion. Unlike the\nlatest version version 1.3 does not allow to delete the file by specifying\nfull path and for each request the whole folder contents must be retrieved)\n   +\n - large amount of files (e. g. 4 000+) in MF directory\n\nduplicity 0.8.18\npython 3.9.2\nArch Linux, x86_64\n```","state":"closed","created_at":"2021-03-13T10:32:05.430Z","updated_at":"2022-11-02T16:54:41.080Z","closed_at":"2022-11-02T16:54:41.057Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::medium","status::confirmed"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/280","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/280","notes":"https://gitlab.com/api/v4/projects/12450835/issues/280/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/280/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#280","relative":"#280","full":"duplicity/duplicity#280"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022217,"iid":632,"project_id":12450835,"title":"duplicity 0.8.18 build failure on darwin_arm64 (lp:#1912084)","description":"[Original report](https://bugs.launchpad.net/bugs/1912084) created by **Rui Chen (chenrui333)**\n```\nðŸ‘‹ trying to build the latest release, but run into some build issue. The\nerror log is as below:\n\n\n\u003cdetails\u003e\n\u003csummary\u003ebuild failure\u003c/summary\u003e\n\n```\n    Preparing wheel metadata: started\n    Running command\n/opt/homebrew/Cellar/duplicity/0.8.18/libexec/bin/python3.9\n/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel\n/private/tmp/tmpi8zpbk2y\n    Traceback (most recent call last):\n      File\n\"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/_in_process.py\", line 280, in \u003cmodule\u003e\n        main()\n      File\n\"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/_in_process.py\", line 263, in main\n        json_out['return_val'] = hook(**hook_input['kwargs'])\n      File\n\"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/_in_process.py\", line 133, in\nprepare_metadata_for_build_wheel\n        return hook(metadata_directory, config_settings)\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/setuptools/build_meta.py\", line 161, in\nprepare_metadata_for_build_wheel\n        self.run_setup()\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/setuptools/build_meta.py\", line 145, in run_setup\n        exec(compile(code, __file__, 'exec'), locals())\n      File \"setup.py\", line 46, in \u003cmodule\u003e\n        setup(\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/setuptools/__init__.py\", line 153, in setup\n        return distutils.core.setup(**attrs)\n      File\n\"/opt/homebrew/Cellar/python@3.9/3.9.1_6/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/core.py\",\nline 108, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/setuptools/dist.py\", line 423, in __init__\n        _Distribution.__init__(self, {\n      File\n\"/opt/homebrew/Cellar/python@3.9/3.9.1_6/Frameworks/Python.framework/Versions/3.9/lib/python3.9/distutils/dist.py\",\nline 292, in __init__\n        self.finalize_options()\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/setuptools/dist.py\", line 695, in finalize_options\n        ep(self)\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/setuptools/dist.py\", line 702, in _finalize_setup_keywords\n        ep.load()(self, ep.name, value)\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/cffi/setuptools_ext.py\", line 219, in cffi_modules\n        add_cffi_module(dist, cffi_module)\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/cffi/setuptools_ext.py\", line 49, in add_cffi_module\n        execfile(build_file_name, mod_vars)\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/cffi/setuptools_ext.py\", line 25, in execfile\n        exec(code, glob, glob)\n      File \"src/build_bcrypt.py\", line 21, in \u003cmodule\u003e\n        ffi = FFI()\n      File \"/private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/cffi/api.py\", line 48, in __init__\n        import _cffi_backend as backend\n    ImportError: dlopen(/private/tmp/pip-build-env-\nzgnyk0yt/overlay/lib/python3.9/site-\npackages/_cffi_backend.cpython-39-darwin.so, 2): Symbol not found:\n_ffi_prep_closure\n      Referenced from: /private/tmp/pip-build-env-\nzgnyk0yt/overlay/lib/python3.9/site-\npackages/_cffi_backend.cpython-39-darwin.so\n      Expected in: flat namespace\n     in /private/tmp/pip-build-env-zgnyk0yt/overlay/lib/python3.9/site-\npackages/_cffi_backend.cpython-39-darwin.so\n    Preparing wheel metadata: finished with status 'error'\nERROR: Command errored out with exit status 1:\n/opt/homebrew/Cellar/duplicity/0.8.18/libexec/bin/python3.9\n/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel\n/private/tmp/tmpi8zpbk2y Check the logs for full command output.\nException information:\nTraceback (most recent call last):\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/cli/base_command.py\", line 224, in _main\n    status = self.run(options, args)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/cli/req_command.py\", line 180, in wrapper\n    return func(self, options, args)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/commands/install.py\", line 320, in run\n    requirement_set = resolver.resolve(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/resolver.py\", line 121, in\nresolve\n    self._result = resolver.resolve(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/resolvelib/resolvers.py\", line 445, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/resolvelib/resolvers.py\", line 310, in resolve\n    name, crit = self._merge_into_criterion(r, parent=None)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/resolvelib/resolvers.py\", line 169, in\n_merge_into_criterion\n    name = self._p.identify(requirement)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/provider.py\", line 60, in\nidentify\n    return dependency.name\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/requirements.py\", line 41, in\nname\n    return self.candidate.name\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/candidates.py\", line 188, in\nname\n    return self.project_name\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/candidates.py\", line 182, in\nproject_name\n    self._name = canonicalize_name(self.dist.project_name)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/candidates.py\", line 239, in\ndist\n    self._prepare()\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/candidates.py\", line 226, in\n_prepare\n    dist = self._prepare_distribution()\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/resolution/resolvelib/candidates.py\", line 318, in\n_prepare_distribution\n    return self._factory.preparer.prepare_linked_requirement(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/operations/prepare.py\", line 480, in\nprepare_linked_requirement\n    return self._prepare_linked_requirement(req, parallel_builds)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/operations/prepare.py\", line 523, in\n_prepare_linked_requirement\n    dist = _get_prepared_distribution(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/operations/prepare.py\", line 88, in\n_get_prepared_distribution\n    abstract_dist.prepare_distribution_metadata(finder, build_isolation)\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/distributions/sdist.py\", line 41, in\nprepare_distribution_metadata\n    self.req.prepare_metadata()\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/req/req_install.py\", line 555, in prepare_metadata\n    self.metadata_directory = self._generate_metadata()\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/req/req_install.py\", line 540, in _generate_metadata\n    return generate_metadata(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/operations/build/metadata.py\", line 34, in\ngenerate_metadata\n    distinfo_dir = backend.prepare_metadata_for_build_wheel(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/wrappers.py\", line 193, in\nprepare_metadata_for_build_wheel\n    return self._call_hook('prepare_metadata_for_build_wheel', {\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/wrappers.py\", line 274, in _call_hook\n    self._subprocess_runner(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/utils/subprocess.py\", line 271, in runner\n    call_subprocess(\n  File \"/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_internal/utils/subprocess.py\", line 240, in call_subprocess\n    raise InstallationError(exc_msg)\npip._internal.exceptions.InstallationError: Command errored out with exit\nstatus 1: /opt/homebrew/Cellar/duplicity/0.8.18/libexec/bin/python3.9\n/opt/homebrew/Cellar/duplicity/0.8.18/libexec/lib/python3.9/site-\npackages/pip/_vendor/pep517/_in_process.py prepare_metadata_for_build_wheel\n/private/tmp/tmpi8zpbk2y Check the logs for full command output.\nRemoved file:///private/tmp/duplicity--\nbcrypt-20210112-91108-1ghubc0/bcrypt-3.2.0 from build tracker\n'/private/tmp/pip-req-tracker-xyw0nei5'\nRemoved build tracker: '/private/tmp/pip-req-tracker-xyw0nei5'\n```\n\n\u003c/details\u003e\n\n\nFull build log is in here, https://github.com/Homebrew/homebrew-\ncore/runs/1689770722\nrelates to https://github.com/Homebrew/homebrew-core/pull/68653\n```","state":"closed","created_at":"2021-01-17T03:19:50.852Z","updated_at":"2022-11-02T16:55:05.005Z","closed_at":"2022-11-02T16:55:04.978Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/632","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/632","notes":"https://gitlab.com/api/v4/projects/12450835/issues/632/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/632/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#632","relative":"#632","full":"duplicity/duplicity#632"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022984,"iid":674,"project_id":12450835,"title":"Duplicity fails backups with message \"SHA1 hash mismatch for file...\" every single time (lp:#1894073)","description":"[Original report](https://bugs.launchpad.net/bugs/1894073) created by **Santiago Gala (sgala)**\n```\nBackup has been going on ok since some days ago. Then the backups started\nfailing with message:\n\nInvalid data - SHA1 hash mismatch for file:\n duplicity-inc.20200828T014540Z.to.20200829T012824Z.vol1.difftar.gz\n Calculated hash: 06f2c3af5c64b989db2507d842a64e19d1cb7206\n Manifest hash: 77788b1c0808968b82904e3b0f688143fbebe1d0\n\nWithout any way offered to take an action to proceed.\n```","state":"closed","created_at":"2020-09-03T09:41:57.271Z","updated_at":"2022-11-02T16:36:18.048Z","closed_at":"2022-11-02T16:36:17.806Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::duplicate"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/674","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/674","notes":"https://gitlab.com/api/v4/projects/12450835/issues/674/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/674/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#674","relative":"#674","full":"duplicity/duplicity#674"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022478,"iid":645,"project_id":12450835,"title":"signature file cropped at 2.1GB (lp:#1882916)","description":"[Original report](https://bugs.launchpad.net/bugs/1882916) created by **torben (crittac)**\n```\nversion: duplicity 0.7.18.2\npython: Python 2.7.16\nRaspberryPi OS release 2020-05-27\narchitecture: armv7l GNU/Linux\ncommand: sudo -u www-data PASSPHRASE=\"\" duplicity --encrypt-key GARBELD\n/var/www/nextcloud/data/ file://. --exclude \"**Music/**\" -v9\n\nIssue: the signature files seems to be cut of  at 2.1 GB. Backing up the\nsame data on 64Bit Ubuntu resulted in a 2.7GB signature file.\nThe result of this is any other following backups fails with\n`File \"/usr/lib/python2.7/tarfile.py\", line 2352, in next\n    raise ReadError(\"unexpected end of data\")\n ReadError: unexpected end of data\n`\n\nLogs:\nhead -n200 /tmp/nc_backup.log\n\ngpg: WARNING: unsafe permissions on homedir '/var/www/.gnupg'\nUsing archive dir:\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364\nUsing backup name: db7c0f583d45b95c45d4d76e12d54364\nGPG binary is gpg, version 2.2.12\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nMain action: inc\nAcquiring lockfile\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/lockfile\n================================================================================\nduplicity 0.7.18.2 (October 17, 2018)\nArgs: /usr/bin/duplicity --encrypt-key E536A8C3 /var/www/nextcloud/data/\nfile://. --exclude **Music/** -v9\nLinux system 4.19.118-v7l+ #1311 SMP Mon Apr 27 14:26:42 BST 2020 armv7l\n/usr/bin/python2 2.7.16 (default, Oct 10 2019, 22:02:15)\n[GCC 8.3.0]\n================================================================================\nUsing temporary directory /tmp/duplicity-bWiKym-tempdir\nRegistering (mkstemp) temporary file /tmp/duplicity-bWiKym-tempdir/mkstemp-\nsJQtEF-1\nTemp has 106878672896 available, backup will use approx 272629760.\nSynchronizing remote metadata to local cache...\nDeleting local\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/duplicity-full-\nsignatures.20200608T112308Z.sigtar.gz (not authoritative at backend).\nDeleting local\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/duplicity-\nfull.20200608T112308Z.manifest (not authoritative at backend).\n1 file exists on backend\n1 file exists in cache\nExtracting backup chains from list of files: [u'lost+found']\nFile lost+found is not part of a known set; creating new set\nIgnoring file (rejected by backup set) 'lost+found'\nLast full backup date: none\nCollection Status\n-----------------\nConnecting with backend: BackendWrapper\nArchive dir: /var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364\n\nFound 0 secondary backup chains.\nNo backup chains with active signatures found\nNo orphaned or incomplete backup sets found.\nNo signatures found, switching to full backup.\nUsing temporary directory\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/duplicity-\nxhQoR2-tempdir\nRegistering (mktemp) temporary file\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/duplicity-\nxhQoR2-tempdir/mktemp-mI0pKK-1\nUsing temporary directory\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/duplicity-\ncj0cFD-tempdir\nRegistering (mktemp) temporary file\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/duplicity-\ncj0cFD-tempdir/mktemp-_9otuh-1\nAsyncScheduler: instantiating at concurrency 0\nRegistering (mktemp) temporary file /tmp/duplicity-bWiKym-\ntempdir/mktemp-9REXaB-2\nSelecting /var/www/nextcloud/data\nComparing . and None\nGetting delta of (. dir) and None\nA .\nSelection: examining path /var/www/nextcloud/data/.htaccess\nSelection:     result: None from function: Command-line exclude glob:\n**Music/**\nSelection:     + including file\nSelecting /var/www/nextcloud/data/.htaccess\nComparing .htaccess and None\nGetting delta of (.htaccess reg) and None\n\n\ntail of log:\n\n\nFile duplicity-full.20200609T163034Z.vol124.difftar.gpg is part of known\nset\nFound backup chain [Tue Jun  9 17:30:34 2020]-[Tue Jun  9 17:30:34 2020]\n--------------[ Backup Statistics ]--------------\nStartTime 1591720234.88 (Tue Jun  9 17:30:34 2020)\nEndTime 1591757495.26 (Wed Jun 10 03:51:35 2020)\nElapsedTime 37260.39 (10 hours 21 minutes)\nSourceFiles 439667\nSourceFileSize 201386713287 (188 GB)\nNewFiles 439667\nNewFileSize 201386713287 (188 GB)\nDeletedFiles 0\nChangedFiles 0\nChangedFileSize 0 (0 bytes)\nChangedDeltaSize 0 (0 bytes)\nDeltaEntries 439667\nRawDeltaSize 201207496903 (187 GB)\nTotalDestinationSizeChange 198328583475 (185 GB)\nErrors 0\n-------------------------------------------------\n\nReleasing lockfile\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/lockfile\nRemoving still remembered temporary file /tmp/duplicity-bWiKym-\ntempdir/mkstemp-sJQtEF-1\nReleasing lockfile\n/var/www/.cache/duplicity/db7c0f583d45b95c45d4d76e12d54364/lockfile\n```","state":"closed","created_at":"2020-06-10T09:39:19.359Z","updated_at":"2022-11-02T16:27:27.332Z","closed_at":"2022-11-02T16:27:27.000Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::duplicate"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/645","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/645","notes":"https://gitlab.com/api/v4/projects/12450835/issues/645/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/645/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#645","relative":"#645","full":"duplicity/duplicity#645"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022206,"iid":631,"project_id":12450835,"title":"override_dh_auto_install fails when building in a virtualenv (lp:#1879720)","description":"[Original report](https://bugs.launchpad.net/bugs/1879720) created by **Mischa ter Smitten (mischa-ter-smitten)**\n```\nI'm trying to build duplicity (version 0.7.19) in a virtualenv. I'm using\nthe following steps:\n\nsudo apt install build-essential debhelper devscripts equivs dh-virtualenv;\n\nmkvirtualenv -ppython2 ANSPB-453;\npip install --upgrade pip;\npip install make-deb;\npip install -r requirements.txt;\n\nsudo apt-get install librsync-dev par2 rdiff;\n# dpkg-buildpackage -us -uc;\ndpkg-buildpackage -us -uc -f;\n\nThe last command fails on:\n\nrm -r debian/duplicity/usr/share/doc/duplicity-*\n\nwhen building in a virtualenv this directory does not exist.\n\ndebian/duplicity/home/mtersmitten/.virtualenvs/ANSPB-453/share/doc/duplicity-0.7.19\n\nhowever does.\n\nchanging the rm command to:\n\nfind debian/duplicity -path \"*share/doc/*\" -name \"duplicity-*\" -print0 |\nxargs --no-run-if-empty -0 rm -r\n\nfixes the issue.\n```","state":"closed","created_at":"2020-05-20T14:30:55.253Z","updated_at":"2023-02-23T19:55:06.842Z","closed_at":"2023-02-23T19:55:06.783Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/631","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/631","notes":"https://gitlab.com/api/v4/projects/12450835/issues/631/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/631/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#631","relative":"#631","full":"duplicity/duplicity#631"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022195,"iid":630,"project_id":12450835,"title":"Duplicity fails backups at the end every time (lp:#1871757)","description":"[Original report](https://bugs.launchpad.net/bugs/1871757) created by **Kenneth Loafman (kenneth-loafman)**\n```\nBackup seems to progress well (it takes a long time) and ends up with this\nerror:\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1555, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1541, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1393, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1472, in do_backup\n    restore(col_stats)\n  File \"/usr/bin/duplicity\", line 728, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 558,\nin Write_ROPaths\n    for ropath in rop_iter:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 521,\nin integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 389,\nin yield_tuples\n    setrorps(overflow, elems)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 378,\nin setrorps\n    elems[i] = iter_list[i].next()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 107,\nin filter_path_iter\n    for path in path_iter:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 121,\nin difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 339,\nin next\n    self.set_tarfile()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 333,\nin set_tarfile\n    self.current_fp = self.fileobj_iter.next()\n  File \"/usr/bin/duplicity\", line 764, in get_fileobj_iter\n    backup_set.volume_name_dict[vol_num],\n KeyError: 8\n---\nProblemType: Bug\nApportVersion: 2.20.9-0ubuntu7.14\nArchitecture: amd64\nCurrentDesktop: ubuntu:GNOME\nDistroRelease: Ubuntu 18.04\nInstallationDate: Installed on 2017-12-11 (849 days ago)\nInstallationMedia: Ubuntu 17.10 \"Artful Aardvark\" - Release amd64\n(20171018)\nPackage: duplicity 0.7.17-0ubuntu1.1\nPackageArchitecture: amd64\nProcVersionSignature: Ubuntu 5.3.0-42.34~18.04.1-generic 5.3.18\nTags:  bionic\nUname: Linux 5.3.0-42-generic x86_64\nUpgradeStatus: Upgraded to bionic on 2018-06-05 (673 days ago)\nUserGroups: adm cdrom dip docker input lpadmin plugdev sambashare sudo\nwireshark\n_MarkForUpload: True\n```\nOriginal tags: apport-collected bionic","state":"closed","created_at":"2020-04-09T05:34:01.748Z","updated_at":"2023-02-23T19:56:20.620Z","closed_at":"2023-02-23T19:56:20.604Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/630","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/630","notes":"https://gitlab.com/api/v4/projects/12450835/issues/630/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/630/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#630","relative":"#630","full":"duplicity/duplicity#630"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022172,"iid":629,"project_id":12450835,"title":"Add multi core support for compression (lp:#1860200)","description":"[Original report](https://bugs.launchpad.net/bugs/1860200) created by **Byron (byronester)**\n```\nDuplicity compresses and decompresses with a single process atm.\nPerformance can be increased by parallelizing this process. This in turn\ncould be done using something like mgzip.\n\nhttps://code.launchpad.net/~byronester/duplicity/duplicity\n```","state":"closed","created_at":"2020-01-18T07:31:19.383Z","updated_at":"2023-02-23T19:57:16.269Z","closed_at":"2023-02-23T19:57:16.251Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":12,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/629","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/629","notes":"https://gitlab.com/api/v4/projects/12450835/issues/629/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/629/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#629","relative":"#629","full":"duplicity/duplicity#629"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022168,"iid":628,"project_id":12450835,"title":"Duplicity 0.8.09 seems not work with S3 + https proxy (python 3 / boto bug ?) (lp:#1859200)","description":"[Original report](https://bugs.launchpad.net/bugs/1859200) created by **GaÃ«l BrÃ©ard (gbrd)**\n```\nDuplicity 0.8.09 (snap release 48) seems not work with S3 + https proxy\n(python 3 / boto bug ?)\n\nIt may be related to a known bug on boto / python3 ?\nhttps://github.com/boto/boto/issues/3561\n\n\n\nsock.sendall(\"CONNECT %s HTTP/1.0\\r\\n\" % host)  TypeError: a bytes-like\nobject is required, not 'str'\n\nIt work with version 0.8.08 / snap release 33\n```","state":"closed","created_at":"2020-01-10T16:07:48.616Z","updated_at":"2022-11-03T14:59:05.365Z","closed_at":"2022-11-03T14:59:05.346Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/628","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/628","notes":"https://gitlab.com/api/v4/projects/12450835/issues/628/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/628/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#628","relative":"#628","full":"duplicity/duplicity#628"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022467,"iid":644,"project_id":12450835,"title":"Large data is failed to take backup with duplicty (lp:#1854351)","description":"[Original report](https://bugs.launchpad.net/bugs/1854351) created by **Gangadhar (gangadhar24)**\n```\nWe have the 103 GB data in volume and trying to take the backup, but it is\ntaking too much time and failed to take the backup of entire data.\n\nduplicity 0.8.03\nData size 103 GB\nendpoint is s3.us-south.objectstorage.softlayer.net\npython version 3.7.3\n\ncat /etc/os-release\nNAME=\"Alpine Linux\"\nID=alpine\nVERSION_ID=3.10.1\n\n\nNote : one of our customer failed to take the backup of 130GB size.\n```","state":"closed","created_at":"2019-11-28T12:09:56.559Z","updated_at":"2022-11-02T16:40:31.994Z","closed_at":"2022-11-02T16:27:22.281Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::medium","status::duplicate"],"milestone":null,"assignees":[{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"}],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/644","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/644","notes":"https://gitlab.com/api/v4/projects/12450835/issues/644/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/644/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#644","relative":"#644","full":"duplicity/duplicity#644"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019420,"iid":311,"project_id":12450835,"title":"Duplicity doesn't install all dependancies (lp:#1853650)","description":"[Original report](https://bugs.launchpad.net/bugs/1853650) created by **Magnus (mxvalle)**\n```\nInstalling the duplicity package does not include all it's dependencies,\nspecifically the B2 backend.\n\nWhen running a command like this with a freshly installed duplicity on a\nfreshly installed Ubuntu 19.10\n\n`$ duplicity Photos/ b2://123:567@photos`\n\nit returns the following error\n\n`BackendException: B2 backend requires B2 Python APIs (pip install b2)`\n```\nOriginal tags: packaging","state":"closed","created_at":"2019-11-22T20:39:22.020Z","updated_at":"2023-02-23T19:58:44.530Z","closed_at":"2023-02-23T19:58:44.511Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::wishlist","status::confirmed"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/311","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/311","notes":"https://gitlab.com/api/v4/projects/12450835/issues/311/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/311/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#311","relative":"#311","full":"duplicity/duplicity#311"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019416,"iid":310,"project_id":12450835,"title":"PCA and Swift backends don't make use of etag (md5) (lp:#1852597)","description":"[Original report](https://bugs.launchpad.net/bugs/1852597) created by **Kenneth Loafman (kenneth-loafman)**\n```\nDo PCA and Swift backends make use of etag (md5 checksum) on upload? (I\nthink they don't)\n\nIf not, wouldn't that be beneficial?\n\nFrom OVH Public Cloud Archive reference for developers (\nhttps://docs.ovh.com/gb/en/storage/pca/dev/#uploading-an-archive ):\n\"When uploading an archive to OVH Public Cloud Archive, it is very\nimportant to verify that both the local and remote copy of the data are\nindentical. This is a guarantee data received remotely is correct and that\nnobody has been able to alter its content.\"\n```","state":"closed","created_at":"2019-11-14T15:18:41.473Z","updated_at":"2023-02-23T20:13:18.660Z","closed_at":"2023-02-23T20:13:18.641Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::wishlist","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/310","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/310","notes":"https://gitlab.com/api/v4/projects/12450835/issues/310/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/310/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#310","relative":"#310","full":"duplicity/duplicity#310"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022164,"iid":627,"project_id":12450835,"title":"Ubuntu 19.10 TypeError: Cannot use string pattern on bytes-like object (lp:#1851951)","description":"[Original report](https://bugs.launchpad.net/bugs/1851951) created by **Mike Doneske (mdoneske)**\n```\nDuplicity Version: 0.8.04\nPython Version: Python3 3.7.5rc1\nUbuntu 19.10\nTarget Filesystem: Linux\n\nUsing archive dir:\n/home/mike/.cache/duplicity/ab8846365d1058b163dab4ef33567f9b\nUsing backup name: ab8846365d1058b163dab4ef33567f9b\nGPG binary is gpg, version (2, 2, 12)\nImport of duplicity.backends.adbackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Succeeded\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.jottacloudbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pcabackend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\n/usr/lib/python3/dist-\npackages/duplicity/backends/ssh_paramiko_backend.py:409: ResourceWarning:\nunclosed file \u003c_io.TextIOWrapper name='/etc/ssh/ssh_config' mode='r'\nencoding='UTF-8'\u003e\nÂ Â sshconfig.parse(open(file))\nResourceWarning: Enable tracemalloc to get the object allocation traceback\nssh: starting thread (client mode): 0xf211ba90\nssh: Local version/idstring: SSH-2.0-paramiko_2.6.0\nssh: Remote version/idstring: SSH-2.0-OpenSSH_7.9p1 Ubuntu-10\nssh: Connected (version 2.0, client OpenSSH_7.9p1)\nssh: kex algos:['curve25519-sha256', 'curve25519-sha256@libssh.org', 'ecdh-\nsha2-nistp256', 'ecdh-sha2-nistp384', 'ecdh-sha2-nistp521', 'diffie-\nhellman-group-exchange-sha256', 'diffie-hellman-group16-sha512', 'diffie-\nhellman-group18-sha512', 'diffie-hellman-group14-sha256', 'diffie-hellman-\ngroup14-sha1'] server key:['rsa-sha2-512', 'rsa-sha2-256', 'ssh-rsa',\n'ecdsa-sha2-nistp256', 'ssh-ed25519'] client\nencrypt:['chacha20-poly1305@openssh.com', 'aes128-ctr', 'aes192-ctr',\n'aes256-ctr', 'aes128-gcm@openssh.com', 'aes256-gcm@openssh.com'] server\nencrypt:['chacha20-poly1305@openssh.com', 'aes128-ctr', 'aes192-ctr',\n'aes256-ctr', 'aes128-gcm@openssh.com', 'aes256-gcm@openssh.com'] client\nmac:['umac-64-etm@openssh.com', 'umac-128-etm@openssh.com', 'hmac-\nsha2-256-etm@openssh.com', 'hmac-sha2-512-etm@openssh.com', 'hmac-\nsha1-etm@openssh.com', 'umac-64@openssh.com', 'umac-128@openssh.com',\n'hmac-sha2-256', 'hmac-sha2-512', 'hmac-sha1'] server\nmac:['umac-64-etm@openssh.com', 'umac-128-etm@openssh.com', 'hmac-\nsha2-256-etm@openssh.com', 'hmac-sha2-512-etm@openssh.com', 'hmac-\nsha1-etm@openssh.com', 'umac-64@openssh.com', 'umac-128@openssh.com',\n'hmac-sha2-256', 'hmac-sha2-512', 'hmac-sha1'] client compress:['none',\n'zlib@openssh.com'] server compress:['none', 'zlib@openssh.com'] client\nlang:[''] server lang:[''] kex follows?False\nssh: Kex agreed: curve25519-sha256@libssh.org\nssh: HostKey agreed: ecdsa-sha2-nistp256\nssh: Cipher agreed: aes128-ctr\nssh: MAC agreed: hmac-sha2-256\nssh: Compression agreed: none\nssh: kex engine KexCurve25519 specified hash_algo \u003cbuilt-in function\nopenssl_sha256\u003e\nssh: Switch to new keys ...\nssh: userauth is OK\nssh: Authentication (password) successful!\nssh: [chan 0] Max packet in: 32768 bytes\nssh: Received global request \"hostkeys-00@openssh.com\"\nssh: Rejecting \"hostkeys-00@openssh.com\" global request from server.\nssh: [chan 0] Max packet out: 32768 bytes\nssh: Secsh channel 0 opened.\nssh: [chan 0] Sesch channel 0 request ok\nssh: [chan 0] EOF received (0)\nssh: [chan 0] EOF sent (0)\nReading globbing filelist /home/mike/backup_filelist\nMain action: inc\nAcquiring lockfile\nb'/home/mike/.cache/duplicity/ab8846365d1058b163dab4ef33567f9b/lockfile'\n================================================================================\nduplicity $version ($reldate)\nArgs: /usr/bin/duplicity --verbosity debug --asynchronous-upload --include-\nfilelist /home/mike/backup_filelist --volsize 500 /\nscp://mike@192.168.1.57//backups/golf\nLinux golf 5.3.0-19-generic #20-Ubuntu SMP Fri Oct 18 09:04:39 UTC 2019\nx86_64 x86_64\n/usr/bin/python3 3.7.5rc1 (default, Oct  8 2019, 16:47:45)\n[GCC 9.2.1 20191008]\n================================================================================\n\nLocal and Remote metadata are synchronized, no sync needed.\nLast full backup date: Fri Jul 19 05:00:03 2019\nCollection Status\n-----------------\nConnecting with backend: BackendWrapper\nArchive dir: /home/mike/.cache/duplicity/ab8846365d1058b163dab4ef33567f9b\n\nFound 0 secondary backup chains.\n\nFound primary backup chain with matching signature chain:\n-------------------------\nChain start time: Fri Jul 19 05:00:03 2019\nChain end time: Fri Oct 18 05:00:01 2019\nNumber of contained backup sets: 14\nTotal number of contained volumes: 58\nÂ Type of backup set:                            Time:      Num volumes:\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Full         Fri Jul 19 05:00:03 2019                 5\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Jul 26 05:00:02 2019                20\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Aug  2 05:00:02 2019                 1\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Aug  9 05:00:01 2019                 1\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Aug 16 05:00:02 2019                 2\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Aug 23 05:00:03 2019                 1\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Aug 30 05:00:01 2019                 1\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Sep  6 05:00:02 2019                 1\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Sep 13 05:00:02 2019                 2\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Sep 20 05:00:04 2019                17\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Sep 27 05:00:03 2019                 2\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Oct  4 05:00:02 2019                 3\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Oct 11 05:00:02 2019                 1\nÂ Â Â Â Â Â Â Â Â Incremental         Fri Oct 18 05:00:01 2019                 1\n-------------------------\nNo orphaned or incomplete backup sets found.\nRegistering (mktemp) temporary file /tmp/duplicity-77dapwv4-tempdir/mktemp-\nylgpl9mx-2\nssh: [chan 3] Max packet in: 32768 bytes\nssh: [chan 3] Max packet out: 32768 bytes\nssh: Secsh channel 3 opened.\nssh: [chan 3] Sesch channel 3 request ok\nssh: [chan 3] EOF received (3)\nBacktrace of previous error: Traceback (innermost last):\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 371, in\ninner_retry\nÂ Â Â Â return fn(self, *args)\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 554, in\nget\nÂ Â Â Â self.backend._get(remote_filename, local_path)\nÂ Â File \"/usr/lib/python3/dist-\npackages/duplicity/backends/ssh_paramiko_backend.py\", line 338, in _get\nÂ Â Â Â m = re.match(r\"C([0-7]{4})\\s+(\\d+)\\s+(\\S.*)$\", msg)\nÂ Â File \"/usr/lib/python3.7/re.py\", line 173, in match\nÂ Â Â Â return _compile(pattern, flags).match(string)\nÂ TypeError: cannot use a string pattern on a bytes-like object\n\nssh: [chan 3] EOF sent (3)\nAttempt 1 failed. TypeError: cannot use a string pattern on a bytes-like\nobject\nssh: Sending global request \"keepalive@lag.net\"\nssh: [chan 4] Max packet in: 32768 bytes\nssh: [chan 4] Max packet out: 32768 bytes\nssh: Secsh channel 4 opened.\nssh: [chan 4] Sesch channel 4 request ok\nBacktrace of previous error: Traceback (innermost last):\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 371, in\ninner_retry\nÂ Â Â Â return fn(self, *args)\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 554, in\nget\nÂ Â Â Â self.backend._get(remote_filename, local_path)\nÂ Â File \"/usr/lib/python3/dist-\npackages/duplicity/backends/ssh_paramiko_backend.py\", line 338, in _get\nÂ Â Â Â m = re.match(r\"C([0-7]{4})\\s+(\\d+)\\s+(\\S.*)$\", msg)\nÂ Â File \"/usr/lib/python3.7/re.py\", line 173, in match\nÂ Â Â Â return _compile(pattern, flags).match(string)\nÂ TypeError: cannot use a string pattern on a bytes-like object\n\nAttempt 2 failed. TypeError: cannot use a string pattern on a bytes-like\nobject\nssh: [chan 4] EOF received (4)\nssh: [chan 4] EOF sent (4)\nssh: Sending global request \"keepalive@lag.net\"\nssh: [chan 5] Max packet in: 32768 bytes\nssh: [chan 5] Max packet out: 32768 bytes\nssh: Secsh channel 5 opened.\nssh: [chan 5] Sesch channel 5 request ok\nssh: [chan 5] EOF received (5)\nssh: [chan 5] EOF sent (5)\nBacktrace of previous error: Traceback (innermost last):\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 371, in\ninner_retry\nÂ Â Â Â return fn(self, *args)\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 554, in\nget\nÂ Â Â Â self.backend._get(remote_filename, local_path)\nÂ Â File \"/usr/lib/python3/dist-\npackages/duplicity/backends/ssh_paramiko_backend.py\", line 338, in _get\nÂ Â Â Â m = re.match(r\"C([0-7]{4})\\s+(\\d+)\\s+(\\S.*)$\", msg)\nÂ Â File \"/usr/lib/python3.7/re.py\", line 173, in match\nÂ Â Â Â return _compile(pattern, flags).match(string)\nÂ TypeError: cannot use a string pattern on a bytes-like object\n\nAttempt 3 failed. TypeError: cannot use a string pattern on a bytes-like\nobject\nssh: Sending global request \"keepalive@lag.net\"\nssh: [chan 6] Max packet in: 32768 bytes\nssh: [chan 6] Max packet out: 32768 bytes\nssh: Secsh channel 6 opened.\nssh: [chan 6] Sesch channel 6 request ok\nssh: [chan 6] EOF received (6)\nBacktrace of previous error: Traceback (innermost last):\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 371, in\ninner_retry\nÂ Â Â Â return fn(self, *args)\nÂ Â File \"/usr/lib/python3/dist-packages/duplicity/backend.py\", line 554, in\nget\nÂ Â Â Â self.backend._get(remote_filename, local_path)\nÂ Â File \"/usr/lib/python3/dist-\npackages/duplicity/backends/ssh_paramiko_backend.py\", line 338, in _get\nÂ Â Â Â m = re.match(r\"C([0-7]{4})\\s+(\\d+)\\s+(\\S.*)$\", msg)\nÂ Â File \"/usr/lib/python3.7/re.py\", line 173, in match\nÂ Â Â Â return _compile(pattern, flags).match(string)\nÂ TypeError: cannot use a string pattern on a bytes-like object\n```","state":"closed","created_at":"2019-11-09T18:05:37.627Z","updated_at":"2023-01-27T15:42:25.418Z","closed_at":"2023-01-27T15:42:25.394Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/627","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/627","notes":"https://gitlab.com/api/v4/projects/12450835/issues/627/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/627/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#627","relative":"#627","full":"duplicity/duplicity#627"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022162,"iid":626,"project_id":12450835,"title":"FilePrefixError on all --exclude (lp:#1849335)","description":"[Original report](https://bugs.launchpad.net/bugs/1849335) created by **Jay Bienvenu (jbnv)**\n```\nI'm getting this error for the --exclude option, no matter what I specify\nto exclude and even if I --exclude-filelist. Here's an example of my trace.\nI'm using duplicity 0.7.17, Ubuntu 18.04.3 LTS, Python 2.7.15+.\n\n\u003e duplicity --exclude .git ~/source_folder file:///target\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1555, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1541, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1380, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n1149, in ProcessCommandLine\n    set_selection()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n973, in set_selection\n    sel.ParseArgs(select_opts, select_files)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/selection.py\", line 250,\nin ParseArgs\n    self.add_selection_func(self.glob_get_sf(arg, 0))\n  File \"/usr/lib/python2.7/dist-packages/duplicity/selection.py\", line 434,\nin glob_get_sf\n    sel_func = self.glob_get_filename_sf(glob_str, include)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/selection.py\", line 502,\nin glob_get_filename_sf\n    raise FilePrefixError(filename)\n FilePrefixError: .git\n\n\u003e duplicity -v9\nCommand line error: Expected 2 args, got 0\nEnter 'duplicity --help' for help screen.\nUsing temporary directory /tmp/duplicity-oupQbS-tempdir\n```","state":"closed","created_at":"2019-10-22T14:49:13.279Z","updated_at":"2023-02-23T19:57:59.368Z","closed_at":"2023-02-23T19:57:59.353Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/626","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/626","notes":"https://gitlab.com/api/v4/projects/12450835/issues/626/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/626/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#626","relative":"#626","full":"duplicity/duplicity#626"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022160,"iid":625,"project_id":12450835,"title":"Fresh ubuntu 19.10 install PyDrive error (lp:#1848669)","description":"[Original report](https://bugs.launchpad.net/bugs/1848669) created by **Ioan Cristea (krioft)**\n```\nThe error is:\nBackendException: PyDrive backend requires PyDrive installation.  Please\nread the manpage for setup details.\nException: No module named 'apiclient'\n\nDV: 40.1-1ubuntu2\nUbuntu 19.10\nLinux\n\npython -V\nPython 2.7.17rc1\n```","state":"closed","created_at":"2019-10-18T08:33:53.601Z","updated_at":"2023-02-23T20:00:26.366Z","closed_at":"2023-02-23T20:00:26.353Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/625","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/625","notes":"https://gitlab.com/api/v4/projects/12450835/issues/625/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/625/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#625","relative":"#625","full":"duplicity/duplicity#625"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022156,"iid":624,"project_id":12450835,"title":"SSE-C support (for AWS S3 backend) (lp:#1843343)","description":"[Original report](https://bugs.launchpad.net/bugs/1843343) created by **Ivan Kurnosov (zerkms)**\n```\nAWS S3 SSE-C provides a better protection and I believe it would be\nconvenient to have its support together with SSE that is already available.\n\nhttps://docs.aws.amazon.com/AmazonS3/latest/dev/ServerSideEncryptionCustomerKeys.html\n\nThanks\n```","state":"closed","created_at":"2019-09-09T21:15:03.507Z","updated_at":"2023-02-23T20:01:42.254Z","closed_at":"2023-02-23T20:01:42.250Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/624","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/624","notes":"https://gitlab.com/api/v4/projects/12450835/issues/624/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/624/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#624","relative":"#624","full":"duplicity/duplicity#624"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022154,"iid":623,"project_id":12450835,"title":"NameError: name 'unicode' is not defined (lp:#1838574)","description":"[Original report](https://bugs.launchpad.net/bugs/1838574) created by **Stephan MÃ¼ller (smueller18)**\n```\nPython 3 does not natively support the function unicode(). In\nonedrivebacken.py this function is used which results in errors during\nexcecution. In Python 3, all occurences of unicode() must be replaced with\nstr().\nIn some projects I found the following code snippet which also may a\nsolution:\n\nPY3 = sys.version_info[0] == 3\n\nif PY3:\n    unicode = str\n\nStacktrace:\nAttempt 1 failed. NameError: name 'unicode' is not defined\nLevel 8:duplicity:Attempt 1 failed. NameError: name 'unicode' is not\ndefined\nTraceback (most recent call last):\n  File \"/home/sm/git/lab/smueller18/docker-\nduplicity/.venv/lib/python3.7/site-packages/duplicity/backend.py\", line\n375, in inner_retry\n    return fn(self, *args)\n  File \"/home/sm/git/lab/smueller18/docker-\nduplicity/.venv/lib/python3.7/site-packages/duplicity/backend.py\", line\n535, in put\n    self.__do_put(source_path, remote_filename)\n  File \"/home/sm/git/lab/smueller18/docker-\nduplicity/.venv/lib/python3.7/site-packages/duplicity/backend.py\", line\n521, in __do_put\n    self.backend._put(source_path, remote_filename)\n  File \"/home/sm/git/lab/smueller18/docker-\nduplicity/.venv/lib/python3.7/site-\npackages/duplicity/backends/onedrivebackend.py\", line 260, in _put\n    u'Content-Length': unicode(len(chunk)),\nNameError: name 'unicode' is not defined\n\n\nEnvironment:\nduplicity 0.8.02\nPython 3.7.3\nUbuntu 19.04\n```","state":"closed","created_at":"2019-07-31T21:25:05.614Z","updated_at":"2023-02-23T20:01:42.551Z","closed_at":"2023-02-23T20:01:42.545Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/623","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/623","notes":"https://gitlab.com/api/v4/projects/12450835/issues/623/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/623/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#623","relative":"#623","full":"duplicity/duplicity#623"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022150,"iid":622,"project_id":12450835,"title":"update ppa version (lp:#1837918)","description":"[Original report](https://bugs.launchpad.net/bugs/1837918) created by **Rune Philosof (olberd)**\n```\nIt would be nice to have version 0.8.02 in the duplicity ppa.\nEven nicer to have it in Debian and Ubuntu.\n```","state":"closed","created_at":"2019-07-25T15:53:58.315Z","updated_at":"2023-02-23T20:01:42.080Z","closed_at":"2023-02-23T20:01:42.072Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/622","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/622","notes":"https://gitlab.com/api/v4/projects/12450835/issues/622/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/622/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#622","relative":"#622","full":"duplicity/duplicity#622"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022143,"iid":621,"project_id":12450835,"title":"Permanent \"Another duplicity instance is already running\" (lp:#1837201)","description":"[Original report](https://bugs.launchpad.net/bugs/1837201) created by **Eoghan Murray (eoghan-n)**\n```\nFor many weeks now my duplicity instance (started via deja-dup) has been\nfailing with\n\"Another duplicity instance is already running with this archive directory\"\n\nMy storage location is on a network which is automatically mounted\n\nI checked the folder for the presence of a lockfile (after reading the\ncode) and there was none there.\n\nIt was only after adding extra info as follows:\n\n`        log.FatalError(\n            \"Another duplicity instance is already running with this\narchive directory: %s \\n\" % (globals.lockpath),\n`\n\nThat I discovered that globals.lockpath is set to `~/.cache/deja-\ndup/3ac8a04e2f4c8feb215d2e9f8eb12645/`\n\nShould there be something in duplicity to test the age of the lockpath, or\nactually test it for an actively running process, e.g. store the PID and\ncheck (using ps) whether that process is running?\n\nApologies if this is a concern of deja-dup.\n```","state":"closed","created_at":"2019-07-19T09:50:26.176Z","updated_at":"2023-02-23T20:01:42.831Z","closed_at":"2023-02-23T20:01:42.826Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":3,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/621","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/621","notes":"https://gitlab.com/api/v4/projects/12450835/issues/621/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/621/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#621","relative":"#621","full":"duplicity/duplicity#621"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022141,"iid":620,"project_id":12450835,"title":"typeerror: expected string or buffer from mega (lp:#1836785)","description":"[Original report](https://bugs.launchpad.net/bugs/1836785) created by **David Parkin (davidmichaelparkin)**\n```\nDuplicity 0.4.14 Python 2.7.14\nCommandline or args built around line 158 is a list. It appears that\nmegatools expects a string or buffer.\n\nI used join to create a string and it appears to work. I notice that the\ncode hasn't changed so I assume no-one uses mega or I've something wrong.\n```","state":"closed","created_at":"2019-07-16T17:37:51.953Z","updated_at":"2023-02-23T20:01:42.680Z","closed_at":"2023-02-23T20:01:42.672Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/620","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/620","notes":"https://gitlab.com/api/v4/projects/12450835/issues/620/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/620/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#620","relative":"#620","full":"duplicity/duplicity#620"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022139,"iid":619,"project_id":12450835,"title":"--dry-run does not work with restore (lp:#1836118)","description":"[Original report](https://bugs.launchpad.net/bugs/1836118) created by **Jake Herrmann (jtherrmann-deactivatedaccount)**\n```\nThe --dry-run option does not seem to work with the restore command. This\nis the command I'm trying to run:\n\nduplicity restore -vi --sign-key \u003csign key\u003e --force \u003curl\u003e $HOME --dry-run\n\nduplicity prints some info and then prompts for my passphrase, as usual.\nAfter I enter my passphrase, the program exits without printing anything\nelse. I would expect it to instead print all of the files that would be\nrestored (because I've enabled info-level verbosity).\n\nI'm running duplicity 0.7.11 on Debian GNU/Linux 9 (stretch).\n```","state":"closed","created_at":"2019-07-10T23:05:37.475Z","updated_at":"2023-02-23T20:01:42.957Z","closed_at":"2023-02-23T20:01:42.953Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/619","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/619","notes":"https://gitlab.com/api/v4/projects/12450835/issues/619/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/619/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#619","relative":"#619","full":"duplicity/duplicity#619"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022134,"iid":617,"project_id":12450835,"title":"0.8.00 testsuite fails  with python 3.5.3 and gnupg 2.1.18 (lp:#1833998)","description":"[Original report](https://bugs.launchpad.net/bugs/1833998) created by **az (az-debian)**\n```\nwith python 3.5.3 and gnupg 2.1.18 the testsuite repeatably fails\nunit/test_collections.py and almost all of unit/test_gpg.py and\nunit/test_gpginterface.py.\n\nthe error messages all point to the same bit of code at\nduplicity/gpginterface.py:447, so i'm just including the first one:\n\n=================================== FAILURES\n===================================\n_____________________ CollectionTest.test_sigchain_fileobj\n_____________________\n\nself = \u003ctesting.unit.test_collections.CollectionTest\ntestMethod=test_sigchain_fileobj\u003e\n\n   @ pytest.mark.usefixtures(u\"redirect_stdin\")\n    def test_sigchain_fileobj(self):\n        u\"\"\"Test getting signature chain fileobjs from archive_dir_path\"\"\"\n\u003e       self.set_gpg_profile()\n\nunit/test_collections.py:189:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n_ _\nunit/test_collections.py:97: in set_gpg_profile\n    self.set_global(u'gpg_profile', gpg.GPGProfile(passphrase=u\"foobar\"))\n../duplicity/gpg.py:95: in __init__\n    self.gpg_version = self.get_gpg_version(globals.gpg_binary)\n../duplicity/gpg.py:111: in get_gpg_version\n    res = gnupg.run([u\"--version\"], create_fhs=[u\"stdout\"])\n../duplicity/gpginterface.py:375: in run\n    create_fhs, attach_fhs)\n../duplicity/gpginterface.py:427: in _attach_fork_exec\n    self._as_child(process, gnupg_commands, args)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n_ _\n\nself = \u003cduplicity.gpginterface.GnuPG object at 0x7fa25e8e52b0\u003e\nprocess = \u003cduplicity.gpginterface.Process object at 0x7fa25f64cc88\u003e\ngnupg_commands = ['--version'], args = []\n\n    def _as_child(self, process, gnupg_commands, args):\n        u\"\"\"Stuff run after forking in child\"\"\"\n        # child\n        for std in _stds:\n            p = process._pipes[std]\n\u003e           os.dup2(p.child, getattr(sys, u\"__%s__\" % std).fileno())\nE           ValueError: underlying buffer has been detached\n\n../duplicity/gpginterface.py:447: ValueError\n\nwith python 3.7.3 and gnupg 2.2.12 or 2.2.13 those same tests survive just\nfine.\n```","state":"closed","created_at":"2019-06-24T09:21:12.426Z","updated_at":"2023-02-23T20:01:42.401Z","closed_at":"2023-02-23T20:01:42.396Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/617","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/617","notes":"https://gitlab.com/api/v4/projects/12450835/issues/617/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/617/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#617","relative":"#617","full":"duplicity/duplicity#617"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022132,"iid":616,"project_id":12450835,"title":"[0.8] ParseArgsTest.test_unicode_paths_non_globbing is failing (lp:#1833562)","description":"[Original report](https://bugs.launchpad.net/bugs/1833562) created by **Sebastien Bacher (seb128)**\n```\nUsing 0.8 r1377\n\nTrying on Ubuntu Disco to see how it behave the tests fail with a\n\n$ cd /tmp\n$ bzr branch lp:duplicity\n$ cd duplicity\n$ python2.7 setup.py build --force\n$ PYTHONPATH=/tmp/duplicity/build/lib.linux-i686-2.7/ python2.7 ./setup.py\ntest\n(that's on an i386 chroot, path to adapt for amd64)\n\nThe tests have some errors, including that one\n\nself = \u003ctesting.unit.test_selection.ParseArgsTest\ntestMethod=test_unicode_paths_non_globbing\u003e\n\n    def test_unicode_paths_non_globbing(self):\n        u\"\"\"Test functional test test_unicode_paths_non_globbing as a\nunittest\"\"\"\n        self.root = Path(u\"testfiles/select-unicode\")\n        self.ParseTest([(u\"--exclude\", u\"testfiles/select-\nunicode/Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/ä¾‹/Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±/à¤‰à¤¦à¤¾à¤¹à¤°à¤£.txt\"),\n                        (u\"--exclude\", u\"testfiles/select-\nunicode/Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/ä¾‹/Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±/×“×•×’×ž×.txt\"),\n                        (u\"--exclude\", u\"testfiles/select-\nunicode/Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/ä¾‹/áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ˜/\"),\n                        (u\"--include\", u\"testfiles/select-\nunicode/Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/ä¾‹/\"),\n                        (u\"--exclude\", u\"testfiles/select-\nunicode/Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/\"),\n                        (u\"--include\", u\"testfiles/select-\nunicode/Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/\"),\n                        (u\"--include\", u\"testfiles/select-\nunicode/Ö…Ö€Õ«Õ¶Õ¡Õ¯.txt\"),\n                        (u\"--exclude\", u\"testfiles/select-unicode/**\")],\n                       [(), (u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´\",), (u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´\", u\"Ð¿Ñ€Ð¸Ð¼ÐµÑ€\"),\n(u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´\", u\"Ð¿Ñ€Ð¸Ð¼ÐµÑ€\", u\"ä¾‹\"),\n                        (u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´\", u\"Ð¿Ñ€Ð¸Ð¼ÐµÑ€\", u\"ä¾‹\", u\"Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±\"),\n                        (u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´\", u\"Ð¿Ñ€Ð¸Ð¼ÐµÑ€\", u\"ä¾‹\", u\"Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±\",\nu\"àª‰àª¦àª¾àª¹àª°àª£.log\"),\n\u003e                       (u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´\", u\"à¦‰à¦¦à¦¾à¦¹à¦°à¦£\"), (u\"Ö…Ö€Õ«Õ¶Õ¡Õ¯.txt\",)])\n\nunit/test_selection.py:887:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n_ _\nunit/test_selection.py:234: in ParseTest\n    results_as_list = list(Iter.map(self.uc_index_from_path, self.Select))\n../duplicity/lazy.py:49: in map\n    yield function(i)\n_ _ _ _ _ _ _ _ _ _ _ _\n```","state":"closed","created_at":"2019-06-20T13:20:57.794Z","updated_at":"2023-02-23T19:59:43.314Z","closed_at":"2023-02-23T19:59:43.296Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/616","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/616","notes":"https://gitlab.com/api/v4/projects/12450835/issues/616/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/616/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#616","relative":"#616","full":"duplicity/duplicity#616"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022130,"iid":615,"project_id":12450835,"title":"TestSimpleUnicode.test_simple_unicode (lp:#1833561)","description":"[Original report](https://bugs.launchpad.net/bugs/1833561) created by **Sebastien Bacher (seb128)**\n```\nUsing 0.8 r1377\n\nTrying on Ubuntu Disco to see how it behave the tests fail with a\n\n$ cd /tmp\n$ bzr branch lp:duplicity\n$ cd duplicity\n$ python2.7 setup.py build --force\n$ PYTHONPATH=/tmp/duplicity/build/lib.linux-i686-2.7/ python2.7 ./setup.py\ntest\n(that's on an i386 chroot, path to adapt for amd64)\n\nThe tests have some errors, including that one\n\n____________________ TestSimpleUnicode.test_simple_unicode\n_____________________\n\nself = \u003ctesting.unit.test_globmatch.TestSimpleUnicode\ntestMethod=test_simple_unicode\u003e\n\n    def test_simple_unicode(self):\n        u\"\"\"Test simple unicode comparison\"\"\"\nself.assertEqual(inc_sel_file(u\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/ä¾‹/Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±/à¤‰à¤¦à¤¾à¤¹à¤°à¤£.txt\",\n\u003e\nu\"Ð¿Ñ€Ñ‹ÐºÐ»Ð°Ð´/Ð¿Ñ€Ð¸Ð¼ÐµÑ€/ä¾‹/Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±/à¤‰à¤¦à¤¾à¤¹à¤°à¤£.txt\"), 1)\nE       AssertionError: None != 1\n\nunit/test_globmatch.py:249: AssertionError\n\n\n(TestSquareBrackets.test_square_bracket_options_unicode hits a similar\nerror)\n```","state":"closed","created_at":"2019-06-20T13:19:04.941Z","updated_at":"2023-02-23T20:00:04.894Z","closed_at":"2023-02-23T20:00:04.877Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/615","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/615","notes":"https://gitlab.com/api/v4/projects/12450835/issues/615/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/615/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#615","relative":"#615","full":"duplicity/duplicity#615"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022129,"iid":614,"project_id":12450835,"title":"AttributeError during backup (lp:#1833447)","description":"[Original report](https://bugs.launchpad.net/bugs/1833447) created by **Jacob Mansfield (cyberjacob)**\n```\nDuplicity Version: 0.8\nPython Version: 3.5.3\nOS Distro: Debian\nOS Version: Stable (Stretch, 9.9)\nSource: Linux filesystem (ext4)\nDestination: Backblaze B2\nCommand line:  /usr/local/bin/duplicity -v9 --full-if-older-than 14D\n--exclude /**.DS_Store --exclude /**Icon? --exclude /**.AppleDouble\n--include=/mnt/Pictures/ --include=/home/ --include=/mnt/Documents/\n--include=/mnt/Usershare/ --include=/root/ --exclude=** /\nb2://xxxx:xxxx@xxxx/\n\nLogs:\n[Removed lots of files being checked]\nReleasing lockfile\nb'/root/.cache/duplicity/09cf580279539188df4bbf911b749576/lockfile'\nRemoving still remembered temporary file\n/tmp/duplicity-4u664jq5-tempdir/mkstemp-c0yaehv4-1\nRemoving still remembered temporary file\n/tmp/duplicity-4u664jq5-tempdir/mktemp-w_t_j867-4\nReleasing lockfile\nb'/root/.cache/duplicity/09cf580279539188df4bbf911b749576/lockfile'\nTraceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1706, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1692, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1538, in main\n    do_backup(action)\n  File \"/usr/local/bin/duplicity\", line 1662, in do_backup\n    full_backup(col_stats)\n  File \"/usr/local/bin/duplicity\", line 568, in full_backup\n    globals.backend)\n  File \"/usr/local/bin/duplicity\", line 425, in write_multivol\n    globals.volsize)\n  File \"/usr/local/lib/python3.5/dist-packages/duplicity/gpg.py\", line 393,\nin GPGWriteFile\n    data = block_iter.__next__().data\n  File \"/usr/local/lib/python3.5/dist-packages/duplicity/diffdir.py\", line\n543, in __next__\n    result = self.process(next(self.input_iter))  # pylint:\ndisable=assignment-from-no-return\n  File \"/usr/local/lib/python3.5/dist-packages/duplicity/diffdir.py\", line\n681, in process\n    data, last_block = self.get_data_block(fp)\n  File \"/usr/local/lib/python3.5/dist-packages/duplicity/diffdir.py\", line\n710, in get_data_block\n    if fp.close():\n  File \"/usr/local/lib/python3.5/dist-packages/duplicity/diffdir.py\", line\n460, in close\n    self.callback(self.sig_gen.getsig(), *self.extra_args)\n  File \"/usr/local/lib/python3.5/dist-packages/duplicity/diffdir.py\", line\n141, in callback\n    sigTarFile.addfile(ti, io.BytesIO(sig_string))\n  File \"/usr/lib/python3.5/tarfile.py\", line 1962, in addfile\n    buf = tarinfo.tobuf(self.format, self.encoding, self.errors)\n  File \"/usr/lib/python3.5/tarfile.py\", line 804, in tobuf\n    return self.create_gnu_header(info, encoding, errors)\n  File \"/usr/lib/python3.5/tarfile.py\", line 835, in create_gnu_header\n    return buf + self._create_header(info, GNU_FORMAT, encoding, errors)\n  File \"/usr/lib/python3.5/tarfile.py\", line 925, in _create_header\n    stn(info.get(\"gname\", \"\"), 32, encoding, errors),\n  File \"/usr/lib/python3.5/tarfile.py\", line 156, in stn\n    s = s.encode(encoding, errors)\n AttributeError: 'bytes' object has no attribute 'encode'\n\nReleasing lockfile\nb'/root/.cache/duplicity/09cf580279539188df4bbf911b749576/lockfile'\nException ignored in: \u003cfunction\nWeakValueDictionary.__init__.\u003clocals\u003e.remove at 0x7efed9f0d840\u003e\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/weakref.py\", line 117, in remove\nTypeError: 'NoneType' object is not callable\n```","state":"closed","created_at":"2019-06-19T16:39:06.442Z","updated_at":"2023-02-23T19:59:19.495Z","closed_at":"2023-02-23T19:59:19.478Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/614","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/614","notes":"https://gitlab.com/api/v4/projects/12450835/issues/614/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/614/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#614","relative":"#614","full":"duplicity/duplicity#614"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022127,"iid":613,"project_id":12450835,"title":"No helpful error message when `par2+` is forgotten (lp:#1829798)","description":"[Original report](https://bugs.launchpad.net/bugs/1829798) created by **Marian Sigler (maix42)**\n```\n(I think this might be related to 1406173 but it seems different as it is\nold and marked as fixed)\n\nWhen backing up with par2 turned on (eg a par2+ssh://... url), *.par2 files\nget created.\n`I just wanted to restore from this and I forgot to add the `par2+` part (I\nused `file://...` instead of `par2+file://` and I got an AssertionError in\n`add_filename` (see log below)\n\nI know this is my fault and everything, but if it's not much of a hassle it\nwould be cool if duplicity could recognize this situation and display some\nmeaningful warning (something like \"Directory contains .par2 files. Did you\nmean to say par2+file:///...?\")\n\n\n\n/tmp/0N2AeR# duplicity restore file:///backups/xxx/duplicity/ restore/etc\n--file-to-restore etc  -v9\nUsing archive dir: /root/.cache/duplicity/28xxxxef\nUsing backup name: 28xxxxef\nGPG binary is gpg, version 2.2.15\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nMain action: restore\nAcquiring lockfile /root/.cache/duplicity/28xxxxef/lockfile\n================================================================================\nduplicity 0.7.18.2 (October 17, 2018)\nArgs: /usr/bin/duplicity restore file:///backups/xxx/duplicity/ restore/etc\n--file-to-restore etc -v9\nLinux dirk 5.0.13-arch1-1-ARCH #1 SMP PREEMPT Sun May 5 18:05:41 UTC 2019\nx86_64\n/usr/bin/python2 2.7.16 (default, Mar 11 2019, 18:59:25)\n[GCC 8.2.1 20181127]\n================================================================================\nUsing temporary directory /tmp/duplicity-W5VLIR-tempdir\nRegistering (mkstemp) temporary file /tmp/duplicity-W5VLIR-tempdir/mkstemp-\nxkcP1G-1\nTemp has 5367005184 available, backup will use approx 272629760.\nLocal and Remote metadata are synchronized, no sync needed.\n658 files exist on backend\n31 files exist in cache\nExtracting backup chains from list of files: [...\n# \u003e200 archives, for each one there's three files: .gpg, .gpg.par2,\n.gpg.vol000+100.par2\n...\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1398, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1424, in do_backup\n    action).set_values()\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n710, in set_values\n    self.get_backup_chains(partials + backend_filename_list)\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n836, in get_backup_chains\n    add_to_sets(f)\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n824, in add_to_sets\n    if set.add_filename(filename):\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n105, in add_filename\n    (self.volume_name_dict, filename)\n AssertionError: ({..., 42: 'duplicity-\ninc.20190325T105242Z.to.20190502T213407Z.vol42.difftar.gpg.par2', ...},\n'duplicity-\ninc.20190325T105242Z.to.20190502T213407Z.vol42.difftar.gpg.vol000+100.par2')\n```","state":"closed","created_at":"2019-05-20T22:41:23.754Z","updated_at":"2022-11-02T16:22:02.254Z","closed_at":"2022-11-02T16:22:02.236Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/613","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/613","notes":"https://gitlab.com/api/v4/projects/12450835/issues/613/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/613/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#613","relative":"#613","full":"duplicity/duplicity#613"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022120,"iid":612,"project_id":12450835,"title":"Incremental backups do not validate passphrase (lp:#1828761)","description":"[Original report](https://bugs.launchpad.net/bugs/1828761) created by **Tom Boshoven (tomboshoven)**\n```\nThis was reported in a comment on another bug, but I think this is serious\nenough to warrant its own one. It broke my incremental backups and I just\nhappened to notice.\nThe report with repro steps is\nhttps://bugs.launchpad.net/duplicity/+bug/918489/comments/22\n\nThe expected behavior would be to fail on invalid passphrases on\nincremental backups (or otherwise make it very clear that this is the\nuser's responsibility).\nI seem to remember testing this in the past and verifying that an error is\nraised.\nRight now, it leads to corruption and a beautiful stack trace followed by a\nhanging application when trying to verify or restore:\n\nGPG error detail: Traceback (innermost last):\n  File \"/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/bin/duplicity\", line 1398, in main\n    do_backup(action)\n  File \"/bin/duplicity\", line 1479, in do_backup\n    verify(col_stats)\n  File \"/bin/duplicity\", line 875, in verify\n    for backup_ropath, current_path in collated:\n  File \"/usr/lib/python2.7/site-packages/duplicity/diffdir.py\", line 276,\nin collate2iters\n    relem1 = riter1.next()\n  File \"/usr/lib/python2.7/site-packages/duplicity/patchdir.py\", line 521,\nin integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/lib/python2.7/site-packages/duplicity/diffdir.py\", line 286,\nin collate2iters\n    relem2 = riter2.next()\n  File \"/usr/lib/python2.7/site-packages/duplicity/patchdir.py\", line 121,\nin difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/lib/python2.7/site-packages/duplicity/patchdir.py\", line 344,\nin next\n    self.set_tarfile()\n  File \"/usr/lib/python2.7/site-packages/duplicity/patchdir.py\", line 332,\nin set_tarfile\n    assert not self.current_fp.close()\n  File \"/usr/lib/python2.7/site-packages/duplicity/dup_temp.py\", line 227,\nin close\n    assert not self.fileobj.close()\n  File \"/usr/lib/python2.7/site-packages/duplicity/gpg.py\", line 305, in\nclose\n    self.gpg_failed()\n  File \"/usr/lib/python2.7/site-packages/duplicity/gpg.py\", line 272, in\ngpg_failed\n    raise GPGError(msg)\n GPGError: GPG Failed, see log below:\n===== Begin GnuPG log =====\ngpg: AES encrypted data\ngpg: encrypted with 1 passphrase\ngpg: decryption failed: Bad session key\n===== End GnuPG log =====\n\n\nGPGError: GPG Failed, see log below:\n===== Begin GnuPG log =====\ngpg: AES encrypted data\ngpg: encrypted with 1 passphrase\ngpg: decryption failed: Bad session key\n===== End GnuPG log =====\n\n\nIf left unnoticed, the only way to go about it is manual recovery.\nI'm updating my backup scripts to do some basic validation of the\npassphrase to make sure that a simple typo will not break my backups in the\nfuture.\n\nduplicity 0.7.18.2 on Arch Linux, Python 3.7.3.\n```","state":"closed","created_at":"2019-05-13T04:06:30.004Z","updated_at":"2022-11-02T16:21:56.852Z","closed_at":"2022-11-02T16:21:56.835Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/612","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/612","notes":"https://gitlab.com/api/v4/projects/12450835/issues/612/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/612/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#612","relative":"#612","full":"duplicity/duplicity#612"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022114,"iid":611,"project_id":12450835,"title":"failure to remove backups and missing error info (remove-all-but-n-full) (lp:#1823560)","description":"[Original report](https://bugs.launchpad.net/bugs/1823560) created by **alexander (bcclsn)**\n```\nduplicity remove-all-but-n-full 2 --force fails with an error that is not\nspecified...\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1398, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1424, in do_backup\n    action).set_values()\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n710, in set_values\n    self.get_backup_chains(partials + backend_filename_list)\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n836, in get_backup_chains\n    add_to_sets(f)\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n824, in add_to_sets\n    if set.add_filename(filename):\n  File \"/usr/lib/python2.7/site-packages/duplicity/collections.py\", line\n105, in add_filename\n    (self.volume_name_dict, filename)\n AssertionError: ({1: 'duplicity-full.20190407T165143Z.vol1.difftar.gpg',\n2: 'duplicity-full.20190407T165143Z.vol2.difftar.gpg', 10: 'duplicity-\nfull.20190407T165143Z.vol10.difftar.gpg', 11: 'duplicity-\nfull.20190407T165143Z.vol11.difftar.gpg', 12: 'duplicity-\nfull.20190407T165143Z.vol12.difftar.gpg', 13: 'duplicity-\nfull.20190407T165143Z.vol13.difftar.gpg', 14: 'duplicity-\nfull.20190407T165143Z.vol14.difftar.gpg', 15: 'duplicity-\nfull.20190407T165143Z.vol15.difftar.gpg', 16: 'duplicity-\nfull.20190407T165143Z.vol16.difftar.gpg', 17: 'duplicity-\nfull.20190407T165143Z.vol17.difftar.gpg', 18: 'duplicity-\nfull.20190407T165143Z.vol18.difftar.gpg', 19: 'duplicity-\nfull.20190407T165143Z.vol19.difftar.gpg', 20: 'duplicity-\nfull.20190407T165143Z.vol20.difftar.gpg'}, 'duplicity-\nfull.20190407T165143Z.vol20.difftar.gpg')\n\nduplicity version: 0.7.18.2\npython version: 3.7.3\nos distro: archlinux x64\n```","state":"closed","created_at":"2019-04-07T19:49:39.831Z","updated_at":"2022-11-02T16:21:52.801Z","closed_at":"2022-11-02T16:21:52.781Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/611","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/611","notes":"https://gitlab.com/api/v4/projects/12450835/issues/611/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/611/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#611","relative":"#611","full":"duplicity/duplicity#611"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022113,"iid":610,"project_id":12450835,"title":"backup and also restore failed (lp:#1823201)","description":"[Original report](https://bugs.launchpad.net/bugs/1823201) created by **Erik Uitterdijk (heidehipper)**\n```\nBackup fails lately on OpenSuse Leap laptop, openSUSE Leap 15.0 with\nduplicity-0.7.17-lp150.1.1.x86_64\n\nHi, lately I have an issue with the application. I get the following error\nmessage and the backup fails:\n\nTraceback (innermost last): File \"/usr/bin/duplicity\", line 1555, in\nwith_tempdir(main) File \"/usr/bin/duplicity\", line 1541, in with_tempdir\nfn() File \"/usr/bin/duplicity\", line 1393, in main do_backup(action) File\n\"/usr/bin/duplicity\", line 1472, in do_backup restore(col_stats) File\n\"/usr/bin/duplicity\", line 728, in restore\nrestore_get_patched_rop_iter(col_stats)): File \"/usr/lib64/python2.7/site-\npackages/duplicity/patchdir.py\", line 558, in Write_ROPaths for ropath in\nrop_iter: File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\",\nline 521, in integrate_patch_iters for patch_seq in collated: File\n\"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line 389, in\nyield_tuples setrorps(overflow, elems) File \"/usr/lib64/python2.7/site-\npackages/duplicity/patchdir.py\", line 378, in setrorps elems[i] =\niter_list[i].next() File \"/usr/lib64/python2.7/site-\npackages/duplicity/patchdir.py\", line 107, in filter_path_iter for path in\npath_iter: File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\",\nline 121, in difftar2path_iter tarinfo_list = [tar_iter.next()] File\n\"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line 339, in\nnext self.set_tarfile() File \"/usr/lib64/python2.7/site-\npackages/duplicity/patchdir.py\", line 333, in set_tarfile self.current_fp =\nself.fileobj_iter.next() File \"/usr/bin/duplicity\", line 764, in\nget_fileobj_iter backup_set.volume_name_dict[vol_num], KeyError: 1\n\n\nAlso the restore of a file failed with the following error message, \"Failed\nwith an unknown error\":\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1555, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1541, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1393, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1472, in do_backup\n    restore(col_stats)\n  File \"/usr/bin/duplicity\", line 728, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n558, in Write_ROPaths\n    for ropath in rop_iter:\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n521, in integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n389, in yield_tuples\n    setrorps(overflow, elems)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n378, in setrorps\n    elems[i] = iter_list[i].next()\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n107, in filter_path_iter\n    for path in path_iter:\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n121, in difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n339, in next\n    self.set_tarfile()\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n333, in set_tarfile\n    self.current_fp = self.fileobj_iter.next()\n  File \"/usr/bin/duplicity\", line 764, in get_fileobj_iter\n    backup_set.volume_name_dict[vol_num],\n KeyError: 5\n\nAny help / suggestions appreciated.\n\nRegards,\n\nErik\n\nthe Netherlands\n```","state":"closed","created_at":"2019-04-04T16:11:36.066Z","updated_at":"2022-11-02T16:21:49.951Z","closed_at":"2022-11-02T16:21:49.930Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/610","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/610","notes":"https://gitlab.com/api/v4/projects/12450835/issues/610/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/610/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#610","relative":"#610","full":"duplicity/duplicity#610"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022109,"iid":609,"project_id":12450835,"title":"Failed with an unknown error. Traceback (innermost last): (lp:#1822077)","description":"[Original report](https://bugs.launchpad.net/bugs/1822077) created by **Morgan Read (mstuff)**\n```\nBackup failed after running for over 12 hours...  So, it's going to start\nall over again - again\n\n(Please provide some way to manage auto initiated 'full backups' triggered\nto guard against corruption - they're killing my data usage and storage.\nSee Bug #1821628)\n\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1398, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1516, in do_backup\n    full_backup(col_stats)\n  File \"/usr/bin/duplicity\", line 577, in full_backup\n    globals.backend)\n  File \"/usr/bin/duplicity\", line 459, in write_multivol\n    (tdp, dest_filename, vol_num)))\n  File \"/usr/lib64/python2.7/site-packages/duplicity/asyncscheduler.py\",\nline 146, in schedule_task\n    return self.__run_synchronously(fn, params)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/asyncscheduler.py\",\nline 172, in __run_synchronously\n    ret = fn(*params)\n  File \"/usr/bin/duplicity\", line 458, in \u003clambda\u003e\n    vol_num: put(tdp, dest_filename, vol_num),\n  File \"/usr/bin/duplicity\", line 347, in put\n    backend.put(tdp, dest_filename)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/backend.py\", line 395,\nin inner_retry\n    % (n, e.__class__.__name__, util.uexc(e)))\n  File \"/usr/lib64/python2.7/site-packages/duplicity/util.py\", line 82, in\nuexc\n    return ufn(m)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/util.py\", line 63, in\nufn\n    return filename.decode(globals.fsencoding, 'replace')\n AttributeError: 'ProtocolError' object has no attribute 'decode'\n```","state":"closed","created_at":"2019-03-28T11:08:37.414Z","updated_at":"2022-11-02T16:21:44.927Z","closed_at":"2022-11-02T16:21:44.908Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/609","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/609","notes":"https://gitlab.com/api/v4/projects/12450835/issues/609/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/609/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#609","relative":"#609","full":"duplicity/duplicity#609"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019245,"iid":288,"project_id":12450835,"title":"InvalidBackendURL error for B2 backend if application key contains a '/' character (lp:#1819390)","description":"[Original report](https://bugs.launchpad.net/bugs/1819390) created by **Justin Warren (justin-eigenmagic)**\n```\nIf your application key contains a '/' character, the parsing of the b2 URL\nfails with this error:\n\nInvalidBackendURL: Syntax error (port) in:\nb2://\u003caccountId\u003e:\u003capplicationKey\u003e@\u003cbucketname\u003e\n\nUser error detail: Traceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1385, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n1091, in ProcessCommandLine\n    args = parse_cmdline_options(cmdline_list)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n720, in parse_cmdline_options\n    lpath, backend_url = args_to_path_backend(args[0], args[1])  #@\nUnusedVariable\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n983, in args_to_path_backend\n    arg1_is_backend, arg2_is_backend = backend.is_backend_url(arg1),\nbackend.is_backend_url(arg2)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 170,\nin is_backend_url\n    pu = ParsedUrl(url_string)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 306,\nin __init__\n    re.search('::[^:]+$', self.netloc), self.netloc))\n\nAppears to be due to the regex in backend.py on line 306, but it's actually\ndue to the result returned by urlparse.urlparse(). netloc gets set to the\nstring of \u003caccountid\u003e: and the portion of the applicationKey up to (but not\nincluding) the '/' character.\n\nEssentially, '/' isn't a valid password character as far as urlparse() is\nconcerned.\n\nWorkaround is to delete the applicationKey in Backblaze and generate a new\none until you get an applicationKey that doesn't contain a '/' character.\n\nDuplicity version: 0.7.18.2, also appears in 0.7.17 from Ubuntu bionic\nPython version: 2.7.15rc1\nOS: Ubuntu 18.04.2 LTS (bionic)\nTarget filesystem: Backblaze\n```","state":"closed","created_at":"2019-03-11T01:30:31.578Z","updated_at":"2022-11-02T15:47:28.191Z","closed_at":"2022-11-02T15:47:28.175Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::low","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/288","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/288","notes":"https://gitlab.com/api/v4/projects/12450835/issues/288/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/288/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#288","relative":"#288","full":"duplicity/duplicity#288"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022107,"iid":608,"project_id":12450835,"title":"\"No backup chains found\" restoring with PCA backend (lp:#1818355)","description":"[Original report](https://bugs.launchpad.net/bugs/1818355) created by **Thierry B. (thierrybo2)**\n```\nDuplicity 0.8 (rev. 1348)\n/usr/bin/python2 2.7.13 (default, Sep 26 2018, 18:42:22)\nSystem:    Host: thierrybo-desk Kernel: 4.19.0-0.bpo.2-amd64 x86_64 (64\nbit) Desktop: Openbox 3.6.1\n           Distro: Devuan GNU/Linux ascii\n\nJust a test folder to backup:~/Sys/bzr.repositories/duplicity/bin/\n\nls ~/Sys/bzr.repositories/duplicity/bin/\n\nduplicity  duplicity.1  rdiffdir  rdiffdir.1\n\nconfig.json used:\n\n[\n    {\n        \"description\": \"Cold storage\",\n        \"url\": \"pca://thierrybo-desk_tests\",\n        \"prefixes\": [\"cold_\"]\n     },\n     {\n         \"description\": \"Hot storage\",\n         \"url\": \"swift://thierrybo-desk_tests_hot\",\n         \"prefixes\": [\"hot_\"]\n     }\n ]\n\nFirst backup :\n\nduplicity --verbosity notice --num-retries 3 --asynchronous-upload\n--volsize 100 --file-prefix-manifest 'hot_' --file-prefix-signature 'hot_'\n--file-prefix-archive 'cold_'  ~/Sys/bzr.repositories/duplicity/bin/\n\"multi://$HOME/.config/duplicity/config.json?mode=mirror\u0026onfail=abort\"\nLocal and Remote metadata are synchronized, no sync needed.\nLast full backup date: Sun Feb 17 23:07:05 2019\nGnuPG passphrase:\nRetype passphrase to confirm:\n--------------[ Backup Statistics ]--------------\nStartTime 1551552750.93 (Sat Mar  2 19:52:30 2019)\nEndTime 1551552750.94 (Sat Mar  2 19:52:30 2019)\nElapsedTime 0.01 (0.01 seconds)\nSourceFiles 5\nSourceFileSize 156558 (153 KB)\nNewFiles 0\nNewFileSize 0 (0 bytes)\nDeletedFiles 0\nChangedFiles 0\nChangedFileSize 0 (0 bytes)\nChangedDeltaSize 0 (0 bytes)\nDeltaEntries 0\nRawDeltaSize 0 (0 bytes)\nTotalDestinationSizeChange 110 (110 bytes)\nErrors 0\n-------------------------------------------------\n\n\nThen I try to restore rdiffdir in a new directory :\n\nduplicity --verbosity debug --file-to-restore rdiffdir\n\"multi://$HOME/.config/duplicity/config.json?mode=mirror\u0026onfail=abort\"\n\"$HOME/Documents/restore_duplicity\"\nUsing archive dir:\n/home/thierrybo/.cache/duplicity/3236aff760bf135cad84bed69e2b2ff6\nUsing backup name: 3236aff760bf135cad84bed69e2b2ff6\nGPG binary is gpg, version (2, 1, 18)\nImport of duplicity.backends.adbackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Succeeded\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.jottacloudbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pcabackend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nMultiBackend: use store pca://thierrybo-desk_tests\nMultibackend: register affinity for prefix cold_\nMultiBackend: use store swift://thierrybo-desk_tests_hot\nMultibackend: register affinity for prefix hot_\nMain action: restore\nAcquiring lockfile\n/home/thierrybo/.cache/duplicity/3236aff760bf135cad84bed69e2b2ff6/lockfile\n================================================================================\nduplicity $version ($reldate)\nArgs: /usr/local/bin/duplicity --verbosity debug --file-to-restore rdiffdir\nmulti:///home/thierrybo/.config/duplicity/config.json?mode=mirror\u0026onfail=abort\n/home/thierrybo/Documents/restore_duplicity\nLinux thierrybo-desk 4.19.0-0.bpo.2-amd64 #1 SMP Debian 4.19.16-1~bpo9+1\n(2019-02-07) x86_64\n/usr/bin/python2 2.7.13 (default, Sep 26 2018, 18:42:22)\n[GCC 6.3.0 20170516]\n================================================================================\nUsing temporary directory /tmp/duplicity-oVwRTf-tempdir\nRegistering (mkstemp) temporary file /tmp/duplicity-oVwRTf-tempdir/mkstemp-\nZbuw0h-1\nTemp has 847536128 available, backup will use approx 272629760.\nMultiBackend: list from pca://thierrybo-desk_tests: ['cold_duplicity-\nfull.20190217T220705Z.vol1.difftar.gpg', 'cold_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg',\n'cold_duplicity-inc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg',\n'cold_duplicity-inc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg',\n'cold_duplicity-inc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg']\nMultiBackend: list from swift://thierrybo-desk_tests_hot: ['hot_duplicity-\nfull-signatures.20190217T220705Z.sigtar.gpg', 'hot_duplicity-\nfull.20190217T220705Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T221019Z.to.20190217T222947Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T222947Z.to.20190217T231512Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T231512Z.to.20190302T185220Z.manifest.gpg', 'hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg']\nMultiBackend: combined list: ['hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg',\n'hot_duplicity-full-signatures.20190217T220705Z.sigtar.gpg',\n'cold_duplicity-inc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg',\n'hot_duplicity-inc.20190217T220705Z.to.20190217T221019Z.manifest.gpg',\n'hot_duplicity-inc.20190217T222947Z.to.20190217T231512Z.manifest.gpg',\n'cold_duplicity-inc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg',\n'hot_duplicity-inc.20190217T221019Z.to.20190217T222947Z.manifest.gpg',\n'cold_duplicity-inc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg',\n'hot_duplicity-inc.20190217T231512Z.to.20190302T185220Z.manifest.gpg',\n'hot_duplicity-full.20190217T220705Z.manifest.gpg', 'cold_duplicity-\nfull.20190217T220705Z.vol1.difftar.gpg', 'hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg',\n'cold_duplicity-inc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg']\nLocal and Remote metadata are synchronized, no sync needed.\nMultiBackend: list from pca://thierrybo-desk_tests: ['cold_duplicity-\nfull.20190217T220705Z.vol1.difftar.gpg', 'cold_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg',\n'cold_duplicity-inc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg',\n'cold_duplicity-inc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg',\n'cold_duplicity-inc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg']\nMultiBackend: list from swift://thierrybo-desk_tests_hot: ['hot_duplicity-\nfull-signatures.20190217T220705Z.sigtar.gpg', 'hot_duplicity-\nfull.20190217T220705Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T221019Z.to.20190217T222947Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T222947Z.to.20190217T231512Z.manifest.gpg', 'hot_duplicity-\ninc.20190217T231512Z.to.20190302T185220Z.manifest.gpg', 'hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg']\nMultiBackend: combined list: ['hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg',\n'hot_duplicity-full-signatures.20190217T220705Z.sigtar.gpg',\n'cold_duplicity-inc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg',\n'hot_duplicity-inc.20190217T220705Z.to.20190217T221019Z.manifest.gpg',\n'hot_duplicity-inc.20190217T222947Z.to.20190217T231512Z.manifest.gpg',\n'cold_duplicity-inc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg',\n'hot_duplicity-inc.20190217T221019Z.to.20190217T222947Z.manifest.gpg',\n'cold_duplicity-inc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg',\n'hot_duplicity-inc.20190217T231512Z.to.20190302T185220Z.manifest.gpg',\n'hot_duplicity-full.20190217T220705Z.manifest.gpg', 'cold_duplicity-\nfull.20190217T220705Z.vol1.difftar.gpg', 'hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg',\n'hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg',\n'cold_duplicity-inc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg']\n15 files exist on backend\n11 files exist in cache\nExtracting backup chains from list of files: [u'hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg',\nu'hot_duplicity-full-signatures.20190217T220705Z.sigtar.gpg',\nu'cold_duplicity-\ninc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg',\nu'hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg',\nu'hot_duplicity-inc.20190217T220705Z.to.20190217T221019Z.manifest.gpg',\nu'hot_duplicity-inc.20190217T222947Z.to.20190217T231512Z.manifest.gpg',\nu'cold_duplicity-\ninc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg',\nu'hot_duplicity-inc.20190217T221019Z.to.20190217T222947Z.manifest.gpg',\nu'cold_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg',\nu'hot_duplicity-inc.20190217T231512Z.to.20190302T185220Z.manifest.gpg',\nu'hot_duplicity-full.20190217T220705Z.manifest.gpg', u'cold_duplicity-\nfull.20190217T220705Z.vol1.difftar.gpg', u'hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg',\nu'hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg',\nu'cold_duplicity-\ninc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg']\nFile hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-new-\nsignatures.20190217T220705Z.to.20190217T221019Z.sigtar.gpg'\nFile hot_duplicity-full-signatures.20190217T220705Z.sigtar.gpg is not part\nof a known set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-full-\nsignatures.20190217T220705Z.sigtar.gpg'\nFile cold_duplicity-\ninc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'cold_duplicity-\ninc.20190217T231512Z.to.20190302T185220Z.vol1.difftar.gpg'\nFile hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-new-\nsignatures.20190217T222947Z.to.20190217T231512Z.sigtar.gpg'\nFile hot_duplicity-inc.20190217T220705Z.to.20190217T221019Z.manifest.gpg is\nnot part of a known set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.manifest.gpg'\nFile hot_duplicity-inc.20190217T222947Z.to.20190217T231512Z.manifest.gpg is\nnot part of a known set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-\ninc.20190217T222947Z.to.20190217T231512Z.manifest.gpg'\nFile cold_duplicity-\ninc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'cold_duplicity-\ninc.20190217T222947Z.to.20190217T231512Z.vol1.difftar.gpg'\nFile hot_duplicity-inc.20190217T221019Z.to.20190217T222947Z.manifest.gpg is\nnot part of a known set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-\ninc.20190217T221019Z.to.20190217T222947Z.manifest.gpg'\nFile cold_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'cold_duplicity-\ninc.20190217T220705Z.to.20190217T221019Z.vol1.difftar.gpg'\nFile hot_duplicity-inc.20190217T231512Z.to.20190302T185220Z.manifest.gpg is\nnot part of a known set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-\ninc.20190217T231512Z.to.20190302T185220Z.manifest.gpg'\nFile hot_duplicity-full.20190217T220705Z.manifest.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-\nfull.20190217T220705Z.manifest.gpg'\nFile cold_duplicity-full.20190217T220705Z.vol1.difftar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'cold_duplicity-\nfull.20190217T220705Z.vol1.difftar.gpg'\nFile hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-new-\nsignatures.20190217T231512Z.to.20190302T185220Z.sigtar.gpg'\nFile hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'hot_duplicity-new-\nsignatures.20190217T221019Z.to.20190217T222947Z.sigtar.gpg'\nFile cold_duplicity-\ninc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'cold_duplicity-\ninc.20190217T221019Z.to.20190217T222947Z.vol1.difftar.gpg'\nLast full backup date: none\nCollection Status\n-----------------\nConnecting with backend: BackendWrapper\nArchive dir:\n/home/thierrybo/.cache/duplicity/3236aff760bf135cad84bed69e2b2ff6\n\nFound 0 secondary backup chains.\nNo backup chains with active signatures found\nNo orphaned or incomplete backup sets found.\nPASSPHRASE variable not set, asking user.\nGnuPG passphrase:\nReleasing lockfile\n/home/thierrybo/.cache/duplicity/3236aff760bf135cad84bed69e2b2ff6/lockfile\nRemoving still remembered temporary file /tmp/duplicity-oVwRTf-\ntempdir/mkstemp-Zbuw0h-1\nReleasing lockfile\n/home/thierrybo/.cache/duplicity/3236aff760bf135cad84bed69e2b2ff6/lockfile\nTraceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1678, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1664, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1510, in main\n    do_backup(action)\n  File \"/usr/local/bin/duplicity\", line 1590, in do_backup\n    restore(col_stats)\n  File \"/usr/local/bin/duplicity\", line 724, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/local/bin/duplicity\", line 746, in\nrestore_get_patched_rop_iter\n    backup_chain = col_stats.get_backup_chain_at_time(time)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/collections.py\",\nline 1002, in get_backup_chain_at_time\n    raise CollectionsError(u\"No backup chains found\")\n CollectionsError: No backup chains found\n\nReleasing lockfile\n/home/thierrybo/.cache/duplicity/3236aff760bf135cad84bed69e2b2ff6/lockfile\n```","state":"closed","created_at":"2019-03-02T19:53:18.362Z","updated_at":"2022-11-02T16:21:41.705Z","closed_at":"2022-11-02T16:21:41.687Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/608","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/608","notes":"https://gitlab.com/api/v4/projects/12450835/issues/608/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/608/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#608","relative":"#608","full":"duplicity/duplicity#608"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118023011,"iid":675,"project_id":12450835,"title":"duplicity does not handle accentuated character for folder path to save (lp:#1816232)","description":"[Original report](https://bugs.launchpad.net/bugs/1816232) created by **Thierry B. (thierrybo2)**\n```\nDuplicity version 0.8-series. (rev 1348)\nPyhon 2.7\nDistro: Devuan GNU/Linux ascii\n\nduplicity --verbosity debug --num-retries 3 --asynchronous-upload --cf-\nbackend pca --volsize 100 ~/TÃ©lÃ©chargements/ swift://thierrybo-desk_tests\n/usr/local/bin/duplicity:69: UnicodeWarning: Unicode equal comparison\nfailed to convert both arguments to Unicode - interpreting them as being\nunequal\n  if u'--pydevd' in sys.argv or os.getenv(u'PYDEVD', None):\nUsing temporary directory /tmp/duplicity-_0Apzy-tempdir\nTraceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1678, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1664, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1497, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/commandline.py\",\nline 1146, in ProcessCommandLine\n    args = parse_cmdline_options(cmdline_list)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/commandline.py\",\nline 698, in parse_cmdline_options\n    possible = [c for c in commands if c.startswith(cmd)]\n UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 17:\nordinal not in range(128)\n\n\nIf I replace \"~/TÃ©lÃ©chargements/\" with a path without accented  characters\nit works\n```","state":"closed","created_at":"2019-02-16T12:50:38.760Z","updated_at":"2022-11-02T16:36:44.434Z","closed_at":"2022-11-02T16:36:41.904Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::duplicate"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/675","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":18,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/675","notes":"https://gitlab.com/api/v4/projects/12450835/issues/675/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/675/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#675","relative":"#675","full":"duplicity/duplicity#675"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022102,"iid":607,"project_id":12450835,"title":"restoring in presence of a looong inc backup chain fails (lp:#1816130)","description":"[Original report](https://bugs.launchpad.net/bugs/1816130) created by **Wolfgang Rohdewald (wolfgang-rohdewald)**\n```\nExecute the script below, it creates such a pathological backup. Of course\nput something correct in for the GPG key. This is most certainly not the\nshortest possible script and not the smallest number of inc backup needed.\n\nI did that as root.\n\n\n#!/bin/bash\n\nrm -rf /etc/duply/test\nmkdir /etc/duply/test\n\ncat \u003e/etc/duply/test/conf \u003c\u003cXXXENDXXX\nGPG_KEY='.................'\nGPG_PW='.............'\nGPG_OPTS=\"--pinentry-mode loopback\" # - needed for GPG 2.1+ _and_\nSOURCE='/tmp/duply_test/source'\nTARGET='file:///tmp/duply_test/target'\nMAX_AGE=1M\nMAX_FULL_BACKUPS=1\nMAX_FULLBKP_AGE=1M\nMAX_FULLS_WITH_INCRS=1\nDUPL_PARAMS=\"$DUPL_PARAMS --full-if-older-than $MAX_FULLBKP_AGE \"\nVOLSIZE=100\nDUPL_PARAMS=\"$DUPL_PARAMS --volsize $VOLSIZE \"\nDUPL_PARAMS=\"$DUPL_PARAMS --asynchronous-upload \"\nXXXENDXXX\n\ncd /tmp\nrm -rf duply_test\nmkdir duply_test\nmkdir duply_test/source\nmkdir duply_test/target\n\ncounter=0\nwhile test $counter -lt 500\ndo\n        echo counter \u003e duply_test/source/counter\n        duply test backup\n        counter=$((counter + 1))\ndone\n\n\nduply test restore restored\n\nThis will give you\n\n  File \"/usr/local/bin/duplicity\", line 733, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n558, in Write_ROPaths\n    for ropath in rop_iter:\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n521, in integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n389, in yield_tuples\n    setrorps(overflow, elems)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n378, in setrorps\n    elems[i] = iter_list[i].next()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n121, in difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n339, in next\n    self.set_tarfile()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/patchdir.py\", line\n333, in set_tarfile\n    self.current_fp = self.fileobj_iter.next()\n  File \"/usr/local/bin/duplicity\", line 770, in get_fileobj_iter\n    manifest.volume_info_dict[vol_num])\n  File \"/usr/local/bin/duplicity\", line 813, in restore_get_enc_fileobj\n    fileobj = tdp.filtered_open_with_delete(\"rb\")\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/dup_temp.py\", line\n120, in filtered_open_with_delete\n    fh = FileobjHooked(path.DupPath.filtered_open(self, mode))\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/path.py\", line\n779, in filtered_open\n    return gpg.GPGFile(False, self, gpg_profile)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/gpg.py\", line 225,\nin __init__\n    'logger': self.logger_fp})\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/gpginterface.py\",\nline 374, in run\n    create_fhs, attach_fhs)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/gpginterface.py\",\nline 402, in _attach_fork_exec\n    pipe = os.pipe()\n OSError: [Errno 24] Too many open files\n```","state":"closed","created_at":"2019-02-15T16:53:50.282Z","updated_at":"2022-11-02T16:40:26.422Z","closed_at":"2022-11-02T16:21:35.843Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/607","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/607","notes":"https://gitlab.com/api/v4/projects/12450835/issues/607/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/607/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#607","relative":"#607","full":"duplicity/duplicity#607"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022099,"iid":606,"project_id":12450835,"title":"Duplicity segfault during full backup over FTP (lp:#1815130)","description":"[Original report](https://bugs.launchpad.net/bugs/1815130) created by **Johanan Idicula (jidicula)**\n```\nHi everyone,\n\nI'm getting a segfault in the middle of an initial full backup. I've\nincluded the output with the -v9 option, including only the first and last\n200 lines of the output. I've changed usernames and passwords for privacy.\n\nThis is the first bug I've reported on Launchpad, so please let me know if\nthere is any other information you would like me to provide.\n\nThanks!\n\n-----\n\nduplicity 0.7.11\nPython 2.7.13\nLinux 4.9.0-8-amd64 #1 Debian 4.9.130-2\ntarget filesystem: Seagate NAS OS (device is Seagate 6-bay NAS Pro, Linux-\nbased)\n\nroot@SERVER_HOSTNAME:/home/USERNAME# duplicity --no-encryption -v9 full /\nftp://USERNAME@192.168.1.64/ADMIN/SERVER_HOSTNAME/\nUsing archive dir: /root/.cache/duplicity/426601fb2366abecaf071bf54573b38a\nUsing backup name: 426601fb2366abecaf071bf54573b38a\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.copycombackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nLFTP version is 4.7.4\nPassword for 'USERNAME@192.168.1.64':\nUsing temporary directory /tmp/duplicity-ZvvXnx-tempdir\nRegistering (mkstemp) temporary file /tmp/duplicity-ZvvXnx-tempdir/mkstemp-\nIGvjCS-1\nSETTINGS:\nset ssl:verify-certificate true\nset ftp:ssl-allow false\nset http:use-propfind true\nset net:timeout 30\nset net:max-retries 5\nset ftp:passive-mode on\ndebug\nopen -u 'USERNAME,PASSWORD' ftp://192.168.1.64\n\nMain action: full\n================================================================================\nduplicity 0.7.11 (December 31, 2016)\nArgs: /usr/bin/duplicity --no-encryption -v9 full /\nftp://USERNAME@192.168.1.64/ADMIN/SERVER_HOSTNAME/\nLinux SERVER_HOSTNAME 4.9.0-8-amd64 #1 SMP Debian 4.9.130-2 (2018-10-27)\nx86_64\n/usr/bin/python 2.7.13 (default, Sep 26 2018, 18:42:22)\n[GCC 6.3.0 20170516]\n================================================================================\nRegistering (mkstemp) temporary file /tmp/duplicity-ZvvXnx-tempdir/mkstemp-\n_bVkiE-2\nTemp has 18869755904 available, backup will use approx 272629760.\nCMD: lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-IGvjCS-1; ( cd\nADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls ) || ( mkdir -p ADMIN/SERVER_HOSTNAME/ \u0026\u0026 cd\nADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls )\"\nReading results of 'lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-\nIGvjCS-1; ( cd ADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls ) || ( mkdir -p\nADMIN/SERVER_HOSTNAME/ \u0026\u0026 cd ADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls )\"'\nSTDERR:\n---- Resolving host address...\n---- 1 address found: 192.168.1.64\n---- Connecting to 192.168.1.64 (192.168.1.64) port 21\n\u003c--- 220 ProFTPD 1.3.5 Server (ADMIN1) [::ffff:192.168.1.64]\n---\u003e FEAT\n\u003c--- 211-Features:\n\u003c---  MFF modify;UNIX.group;UNIX.mode;\n\u003c---  REST STREAM\n\u003c---  MLST\nmodify*;perm*;size*;type*;unique*;UNIX.group*;UNIX.mode*;UNIX.owner*;\n\u003c---  UTF8\n\u003c---  LANG en-US*\n\u003c---  EPRT\n\u003c---  EPSV\n\u003c---  MDTM\n\u003c---  TVFS\n\u003c---  MFMT\n\u003c---  SIZE\n\u003c--- 211 End\n---\u003e LANG\n\u003c--- 500 Unable to handle command\n---\u003e OPTS UTF8 ON\n\u003c--- 200 UTF8 set to on\ninitialized translation from ANSI_X3.4-1968 to UTF-8\ninitialized translation from UTF-8 to ANSI_X3.4-1968//TRANSLIT\n---\u003e OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;UNIX.owner\n\u003c--- 200 OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;\n---\u003e USER USERNAME\n\u003c--- 331 Password required for USERNAME\n---\u003e PASS PASSWORD\n\u003c--- 230 User USERNAME logged in\n---\u003e PWD\n\u003c--- 257 \"/\" is the current directory\n---- CWD path to be sent is `/ADMIN/SERVER_HOSTNAME'\n---\u003e CWD /ADMIN/SERVER_HOSTNAME\n\u003c--- 250 CWD command successful\n---\u003e EPSV\n\u003c--- 229 Entering Extended Passive Mode (|||38427|)\n---- Connecting data socket to (192.168.1.64) port 38427\n---- Data connection established\n---\u003e LIST\n\u003c--- 150 Opening ASCII mode data connection for file list\ninitialized translation from UTF-8 to ANSI_X3.4-1968//TRANSLIT\n---- Got EOF on data connection\n---- Closing data socket\n\u003c--- 226 Transfer complete\n---\u003e QUIT\n\u003c--- 221 Goodbye.\n---- Closing control socket\n\nSTDOUT:\n\nLocal and Remote metadata are synchronized, no sync needed.\nCMD: lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-IGvjCS-1; ( cd\nADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls ) || ( mkdir -p ADMIN/SERVER_HOSTNAME/ \u0026\u0026 cd\nADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls )\"\nReading results of 'lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-\nIGvjCS-1; ( cd ADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls ) || ( mkdir -p\nADMIN/SERVER_HOSTNAME/ \u0026\u0026 cd ADMIN/SERVER_HOSTNAME/ \u0026\u0026 ls )\"'\nSTDERR:\n---- Resolving host address...\n---- 1 address found: 192.168.1.64\n---- Connecting to 192.168.1.64 (192.168.1.64) port 21\n\u003c--- 220 ProFTPD 1.3.5 Server (ADMIN1) [::ffff:192.168.1.64]\n---\u003e FEAT\n\u003c--- 211-Features:\n\u003c---  MFF modify;UNIX.group;UNIX.mode;\n\u003c---  REST STREAM\n\u003c---  MLST\nmodify*;perm*;size*;type*;unique*;UNIX.group*;UNIX.mode*;UNIX.owner*;\n\u003c---  UTF8\n\u003c---  LANG en-US*\n\u003c---  EPRT\n\u003c---  EPSV\n\u003c---  MDTM\n\u003c---  TVFS\n\u003c---  MFMT\n\u003c---  SIZE\n\u003c--- 211 End\n---\u003e LANG\n\u003c--- 500 Unable to handle command\n---\u003e OPTS UTF8 ON\n\u003c--- 200 UTF8 set to on\ninitialized translation from ANSI_X3.4-1968 to UTF-8\ninitialized translation from UTF-8 to ANSI_X3.4-1968//TRANSLIT\n---\u003e OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;UNIX.owner\n\u003c--- 200 OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;\n---\u003e USER USERNAME\n\u003c--- 331 Password required for USERNAME\n---\u003e PASS PASSWORD\n\u003c--- 230 User USERNAME logged in\n---\u003e PWD\n\u003c--- 257 \"/\" is the current directory\n---- CWD path to be sent is `/ADMIN/SERVER_HOSTNAME'\n---\u003e CWD /ADMIN/SERVER_HOSTNAME\n\u003c--- 250 CWD command successful\n---\u003e EPSV\n\u003c--- 229 Entering Extended Passive Mode (|||15614|)\n---- Connecting data socket to (192.168.1.64) port 15614\n---- Data connection established\n---\u003e LIST\n\u003c--- 150 Opening ASCII mode data connection for file list\ninitialized translation from UTF-8 to ANSI_X3.4-1968//TRANSLIT\n---- Got EOF on data connection\n---- Closing data socket\n\u003c--- 226 Transfer complete\n---\u003e QUIT\n\u003c--- 221 Goodbye.\n---- Closing control socket\n\nSTDOUT:\n\n0 files exist on backend\n2 files exist in cache\nExtracting backup chains from list of files: []\nLast full backup date: none\nCollection Status\n-----------------\nConnecting with backend: BackendWrapper\nArchive dir: /root/.cache/duplicity/426601fb2366abecaf071bf54573b38a\n\nFound 0 secondary backup chains.\nNo backup chains with active signatures found\nNo orphaned or incomplete backup sets found.\nUsing temporary directory\n/root/.cache/duplicity/426601fb2366abecaf071bf54573b38a/duplicity-ue3jAD-\ntempdir\nRegistering (mktemp) temporary file\n/root/.cache/duplicity/426601fb2366abecaf071bf54573b38a/duplicity-ue3jAD-\ntempdir/mktemp-siv12H-1\nUsing temporary directory\n/root/.cache/duplicity/426601fb2366abecaf071bf54573b38a/duplicity-jLIvWS-\ntempdir\nRegistering (mktemp) temporary file\n/root/.cache/duplicity/426601fb2366abecaf071bf54573b38a/duplicity-jLIvWS-\ntempdir/mktemp-E9VXwK-1\nAsyncScheduler: instantiating at concurrency 0\nRegistering (mktemp) temporary file /tmp/duplicity-ZvvXnx-\ntempdir/mktemp-K4698Y-3\nSelecting /\nComparing . and None\nGetting delta of (. dir) and None\nA .\nSelection: examining path /.cache\nSelection:     + no selection functions found. Including\nSelecting /.cache\nComparing .cache and None\nGetting delta of (.cache dir) and None\nA .cache\nSelection: examining path /bin\nSelection:     + no selection functions found. Including\nSelecting /bin\nComparing bin and None\nGetting delta of (bin dir) and None\nA bin\nSelection: examining path /bin/bash\nSelection:     + no selection functions found. Including\n\n[skipping to last 200 lines]\n\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181010 cell culture assay/NMuMg cells no microstructures_4_10x.tif\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181010 cell culture\nassay/NMuMg cells no microstructures_4_10x.tif\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181010 cell culture\nassay/NMuMg cells no microstructures_4_10x.tif and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181010 cell\nculture assay/NMuMg cells no microstructures_4_10x.tif reg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181010 cell culture\nassay/NMuMg cells no microstructures_4_10x.tif\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol dir) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in middle\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in middle\ndir) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/BF_1 edges upright.tif\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/BF_1\nedges upright.tif\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/BF_1 edges\nupright.tif and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/BF_1 edges upright.tif reg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/BF_1 edges\nupright.tif\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/BF_2 center.tif\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/BF_2\ncenter.tif\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/BF_2\ncenter.tif and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/BF_2 center.tif reg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/BF_2 center.tif\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/BF_3 center thick HG not all way to edges.tif\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/BF_3\ncenter thick HG not all way to edges.tif\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/BF_3\ncenter thick HG not all way to edges.tif and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/BF_3 center thick HG not all way to edges.tif reg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/BF_3 center thick\nHG not all way to edges.tif\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/actuation 1hr later\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/actuation\n1hr later and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later dir) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/actuation 1hr\nlater\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/actuation 1hr later/Stream 160mA close to min response\npower.stk\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later/Stream 160mA close to min response power.stk\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/actuation\n1hr later/Stream 160mA close to min response power.stk and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later/Stream 160mA close to min response power.stk\nreg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/actuation 1hr\nlater/Stream 160mA close to min response power.stk\nAsyncScheduler: running task synchronously (asynchronicity disabled)\nWriting duplicity-full.20190207T200614Z.vol13.difftar.gz\nCMD: lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-IGvjCS-1; mkdir\n-p ADMIN/SERVER_HOSTNAME/; put /tmp/duplicity-ZvvXnx-tempdir/mktemp-\nCpTjl1-15 -o ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol13.difftar.gz\"\nReading results of 'lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-\nIGvjCS-1; mkdir -p ADMIN/SERVER_HOSTNAME/; put /tmp/duplicity-ZvvXnx-\ntempdir/mktemp-CpTjl1-15 -o ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol13.difftar.gz\"'\nSTATUS: 0\nSTDERR:\n---- Resolving host address...\n---- 1 address found: 192.168.1.64\n---- Connecting to 192.168.1.64 (192.168.1.64) port 21\n\u003c--- 220 ProFTPD 1.3.5 Server (ADMIN1) [::ffff:192.168.1.64]\n---\u003e FEAT\n\u003c--- 211-Features:\n\u003c---  MFF modify;UNIX.group;UNIX.mode;\n\u003c---  REST STREAM\n\u003c---  MLST\nmodify*;perm*;size*;type*;unique*;UNIX.group*;UNIX.mode*;UNIX.owner*;\n\u003c---  UTF8\n\u003c---  LANG en-US*\n\u003c---  EPRT\n\u003c---  EPSV\n\u003c---  MDTM\n\u003c---  TVFS\n\u003c---  MFMT\n\u003c---  SIZE\n\u003c--- 211 End\n---\u003e LANG\n\u003c--- 500 Unable to handle command\n---\u003e OPTS UTF8 ON\n\u003c--- 200 UTF8 set to on\ninitialized translation from ANSI_X3.4-1968 to UTF-8\ninitialized translation from UTF-8 to ANSI_X3.4-1968//TRANSLIT\n---\u003e OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;UNIX.owner\n\u003c--- 200 OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;\n---\u003e USER USERNAME\n\u003c--- 331 Password required for USERNAME\n---\u003e PASS PASSWORD\n\u003c--- 230 User USERNAME logged in\n---\u003e PWD\n\u003c--- 257 \"/\" is the current directory\n---\u003e MKD ADMIN\n\u003c--- 550 ADMIN: Permission denied\n---\u003e MKD ADMIN/SERVER_HOSTNAME\n\u003c--- 550 ADMIN/SERVER_HOSTNAME: File exists\n---\u003e MKD ADMIN/SERVER_HOSTNAME/\n\u003c--- 550 ADMIN/SERVER_HOSTNAME/: File exists\nmkdir: Access failed: 550 ADMIN/SERVER_HOSTNAME/: File exists\n---\u003e TYPE I\n\u003c--- 200 Type set to I\n---\u003e EPSV\n\u003c--- 229 Entering Extended Passive Mode (|||32061|)\n---- Connecting data socket to (192.168.1.64) port 32061\n---- Data connection established\n---\u003e ALLO 209705982\n\u003c--- 202 No storage allocation necessary\n---\u003e STOR ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol13.difftar.gz\n\u003c--- 150 Opening BINARY mode data connection for\nADMIN/SERVER_HOSTNAME/duplicity-full.20190207T200614Z.vol13.difftar.gz\n---- Closing data socket\n\u003c--- 226 Transfer complete\n---\u003e MFMT 20190207201021 ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol13.difftar.gz\n\u003c--- 213 Modify=20190207201021; ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol13.difftar.gz\n---\u003e QUIT\n\u003c--- 221 Goodbye.\n---- Closing control socket\n\nSTDOUT:\n\nDeleting /tmp/duplicity-ZvvXnx-tempdir/mktemp-CpTjl1-15\nForgetting temporary file /tmp/duplicity-ZvvXnx-tempdir/mktemp-CpTjl1-15\nAsyncScheduler: task completed successfully\nProcessed volume 13\nRegistering (mktemp) temporary file /tmp/duplicity-ZvvXnx-\ntempdir/mktemp-9sLuuf-16\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/actuation 1hr later/Stream 220mA.stk\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later/Stream 220mA.stk\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/actuation\n1hr later/Stream 220mA.stk and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later/Stream 220mA.stk reg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/actuation 1hr\nlater/Stream 220mA.stk\nAsyncScheduler: running task synchronously (asynchronicity disabled)\nWriting duplicity-full.20190207T200614Z.vol14.difftar.gz\nCMD: lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-IGvjCS-1; mkdir\n-p ADMIN/SERVER_HOSTNAME/; put /tmp/duplicity-ZvvXnx-\ntempdir/mktemp-9sLuuf-16 -o ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol14.difftar.gz\"\nReading results of 'lftp -c \"source /tmp/duplicity-ZvvXnx-tempdir/mkstemp-\nIGvjCS-1; mkdir -p ADMIN/SERVER_HOSTNAME/; put /tmp/duplicity-ZvvXnx-\ntempdir/mktemp-9sLuuf-16 -o ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol14.difftar.gz\"'\nSTATUS: 0\nSTDERR:\n---- Resolving host address...\n---- 1 address found: 192.168.1.64\n---- Connecting to 192.168.1.64 (192.168.1.64) port 21\n\u003c--- 220 ProFTPD 1.3.5 Server (ADMIN1) [::ffff:192.168.1.64]\n---\u003e FEAT\n\u003c--- 211-Features:\n\u003c---  MFF modify;UNIX.group;UNIX.mode;\n\u003c---  REST STREAM\n\u003c---  MLST\nmodify*;perm*;size*;type*;unique*;UNIX.group*;UNIX.mode*;UNIX.owner*;\n\u003c---  UTF8\n\u003c---  LANG en-US*\n\u003c---  EPRT\n\u003c---  EPSV\n\u003c---  MDTM\n\u003c---  TVFS\n\u003c---  MFMT\n\u003c---  SIZE\n\u003c--- 211 End\n---\u003e LANG\n\u003c--- 500 Unable to handle command\n---\u003e OPTS UTF8 ON\n\u003c--- 200 UTF8 set to on\ninitialized translation from ANSI_X3.4-1968 to UTF-8\ninitialized translation from UTF-8 to ANSI_X3.4-1968//TRANSLIT\n---\u003e OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;UNIX.owner\n\u003c--- 200 OPTS MLST modify;perm;size;type;UNIX.group;UNIX.mode;\n---\u003e USER USERNAME\n\u003c--- 331 Password required for USERNAME\n---\u003e PASS PASSWORD\n\u003c--- 230 User USERNAME logged in\n---\u003e PWD\n\u003c--- 257 \"/\" is the current directory\n---\u003e MKD ADMIN\n\u003c--- 550 ADMIN: Permission denied\n---\u003e MKD ADMIN/SERVER_HOSTNAME\n\u003c--- 550 ADMIN/SERVER_HOSTNAME: File exists\n---\u003e MKD ADMIN/SERVER_HOSTNAME/\n\u003c--- 550 ADMIN/SERVER_HOSTNAME/: File exists\nmkdir: Access failed: 550 ADMIN/SERVER_HOSTNAME/: File exists\n---\u003e TYPE I\n\u003c--- 200 Type set to I\n---\u003e EPSV\n\u003c--- 229 Entering Extended Passive Mode (|||60948|)\n---- Connecting data socket to (192.168.1.64) port 60948\n---- Data connection established\n---\u003e ALLO 209677605\n\u003c--- 202 No storage allocation necessary\n---\u003e STOR ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol14.difftar.gz\n\u003c--- 150 Opening BINARY mode data connection for\nADMIN/SERVER_HOSTNAME/duplicity-full.20190207T200614Z.vol14.difftar.gz\n---- Closing data socket\n\u003c--- 226 Transfer complete\n---\u003e MFMT 20190207201048 ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol14.difftar.gz\n\u003c--- 213 Modify=20190207201048; ADMIN/SERVER_HOSTNAME/duplicity-\nfull.20190207T200614Z.vol14.difftar.gz\n---\u003e QUIT\n\u003c--- 221 Goodbye.\n---- Closing control socket\n\nSTDOUT:\n\nDeleting /tmp/duplicity-ZvvXnx-tempdir/mktemp-9sLuuf-16\nForgetting temporary file /tmp/duplicity-ZvvXnx-tempdir/mktemp-9sLuuf-16\nAsyncScheduler: task completed successfully\nProcessed volume 14\nRegistering (mktemp) temporary file /tmp/duplicity-ZvvXnx-tempdir/mktemp-\nFriMcv-17\nSelection: examining path /home/datavol1/working/SOMEUSER/hairs/Amy\nS/181016 HAIRS ON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all\nbent in middle/actuation 1hr later/Stream 220mA_2.stk\nSelection:     + no selection functions found. Including\nSelecting /home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac\nON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later/Stream 220mA_2.stk\nComparing home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON\nH2O low HG vol/1 0.8ul bendy circular pattern all bent in middle/actuation\n1hr later/Stream 220mA_2.stk and None\nGetting delta of (home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS\nON vac ON H2O low HG vol/1 0.8ul bendy circular pattern all bent in\nmiddle/actuation 1hr later/Stream 220mA_2.stk reg) and None\nA home/datavol1/working/SOMEUSER/hairs/Amy S/181016 HAIRS ON vac ON H2O low\nHG vol/1 0.8ul bendy circular pattern all bent in middle/actuation 1hr\nlater/Stream 220mA_2.stk\nSegmentation fault\nroot@SERVER_HOSTNAME:/home/USERNAME#\n```","state":"closed","created_at":"2019-02-07T20:31:54.836Z","updated_at":"2022-11-02T16:21:30.774Z","closed_at":"2022-11-02T16:21:30.755Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/606","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/606","notes":"https://gitlab.com/api/v4/projects/12450835/issues/606/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/606/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#606","relative":"#606","full":"duplicity/duplicity#606"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019415,"iid":309,"project_id":12450835,"title":"Stream archive to backend while it is being created (lp:#1814792)","description":"[Original report](https://bugs.launchpad.net/bugs/1814792) created by **Giovanni Mascellani (giomasce)**\n```\nIt currently seems that archives generated by duplicity are first encrypted\nwith GPG and stored in the temporary file, then read again and sent to the\nbackend.\n\nI wonder if it is possible, at least for backends that support such\noperation, to directly stream the archive to the backend while it is being\ncreated and encrypted, without having to wait for the full encryption to\nfinish.\n\nThis would have several advantages, it seems: first, there would be less\ntotal IO, because there would be no need for temporary files; second, IO\nand CPU usage would be levelled by network connection (which is supposedly\nslower), instead of spiking while the disk is read and gpg is executed;\nthird, network (again supposed to be the bottleneck factor) would be better\nused, because it would not have to wait for the archive generation and\nencryption. More in general, the total running time would be the maximum\nbetween the archive generation and uploading time, instead of their sum,\nand, as I said, resources would be more levelled.\n\nThanks for duplicity, it is really a nice tool!\n```\nOriginal tags: wishlist","state":"closed","created_at":"2019-02-05T15:50:47.709Z","updated_at":"2022-11-02T15:50:17.605Z","closed_at":"2022-11-02T15:50:17.580Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::wishlist","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/309","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/309","notes":"https://gitlab.com/api/v4/projects/12450835/issues/309/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/309/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#309","relative":"#309","full":"duplicity/duplicity#309"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019414,"iid":308,"project_id":12450835,"title":"Feature Request: More Informative Notice Level (lp:#1811643)","description":"[Original report](https://bugs.launchpad.net/bugs/1811643) created by **Fedaykin (fedaykin7c2)**\n```\nIt would be much more practical if Notice Level (4) would contain\nadditional pieces of information about backup in progress like:\n\nArgs\ncollection-status\nProcessed volume\nand also upload speed for volume.\n```\nOriginal tags: feature","state":"closed","created_at":"2019-01-14T06:51:00.458Z","updated_at":"2022-11-02T15:50:12.781Z","closed_at":"2022-11-02T15:50:12.761Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::wishlist","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/308","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/308","notes":"https://gitlab.com/api/v4/projects/12450835/issues/308/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/308/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#308","relative":"#308","full":"duplicity/duplicity#308"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022093,"iid":605,"project_id":12450835,"title":"Rename manifest file (lp:#1810511)","description":"[Original report](https://bugs.launchpad.net/bugs/1810511) created by **Anthony (0othan)**\n```\nHello all,\n\nIs this possible to rename manifest file?\n\nIndeed, the current manifest naming is duplicity-\ninc.XXXXZ.to.YYYYZ.manifest.\n\nThe issue with S3 is that we cannot ignore manifest when we move to glacier\ndue to convention naming..\n\nIndeed, we can add a filter by object (by example for signature:\nPATH/duplicity-new-signatures | PATH/duplicity-full-signatures) but regex\nare not used: we cannot use PATH/*.manifest to filter manifest file so if\nwe use PATH/duplicity-full, manifest \u0026 volumes will be excluded during move\nto glacier..\n\nThe idea is to ignore manifest/signature file from glacier policy to avoid\nto wait 2/3h in the case that we need to check backups on other desktop by\nexample... For now, we can add a filter only for signature...\n\nBest regards,\n```","state":"closed","created_at":"2019-01-04T11:55:21.133Z","updated_at":"2022-11-02T16:21:25.376Z","closed_at":"2022-11-02T16:21:25.332Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/605","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/605","notes":"https://gitlab.com/api/v4/projects/12450835/issues/605/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/605/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#605","relative":"#605","full":"duplicity/duplicity#605"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022091,"iid":604,"project_id":12450835,"title":"duplicity remove-all-but-n-full Fails with TypeError: an integer is required (lp:#1809851)","description":"[Original report](https://bugs.launchpad.net/bugs/1809851) created by **Eric Koski (ekoski1)**\n```\nduplicity 0.7.17\nPython 2.7.15rc1\nUbuntu 18.04LTS\next4 filesystem\n\ncommand-line output:\n\n$ duplicity remove-all-but-n-full 1 --force file:///media/eric/Lnx_bk0\nSynchronizing remote metadata to local cache...\nGnuPG passphrase for decryption:\nCopying duplicity-full-signatures.20171002T012817Z.sigtar.gpg to local\ncache.\nCopying duplicity-full-signatures.20180102T070445Z.sigtar.gpg to local\ncache.\nCopying duplicity-full-signatures.20180405T080021Z.sigtar.gpg to local\ncache.\nCleanup of temporary directory /tmp/duplicity-j3izoa-tempdir failed - this\nis probably a bug.\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1555, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1541, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1393, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1414, in do_backup\n    sync_archive()\n  File \"/usr/bin/duplicity\", line 1204, in sync_archive\n    copy_to_local(fn)\n  File \"/usr/bin/duplicity\", line 1154, in copy_to_local\n    tdp.move(globals.archive_dir.append(loc_name))\n  File \"/usr/lib/python2.7/dist-packages/duplicity/path.py\", line 643, in\nmove\n    self.copy(new_path)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/path.py\", line 463, in\ncopy\n    self.copy_attribs(other)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/path.py\", line 470, in\ncopy_attribs\n    util.maybe_ignore_errors(lambda: os.chmod(other.name, self.mode))\n  File \"/usr/lib/python2.7/dist-packages/duplicity/util.py\", line 92, in\nmaybe_ignore_errors\n    return fn()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/path.py\", line 470, in\n\u003clambda\u003e\n    util.maybe_ignore_errors(lambda: os.chmod(other.name, self.mode))\n TypeError: an integer is required\n```","state":"closed","created_at":"2018-12-27T02:30:49.797Z","updated_at":"2022-11-02T16:40:26.134Z","closed_at":"2022-11-02T16:21:19.617Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/604","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/604","notes":"https://gitlab.com/api/v4/projects/12450835/issues/604/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/604/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#604","relative":"#604","full":"duplicity/duplicity#604"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022080,"iid":603,"project_id":12450835,"title":"duplicity won't restore backup due to unknown error (lp:#1806466)","description":"[Original report](https://bugs.launchpad.net/bugs/1806466) created by **mariana xavier (marianaxrp)**\n```\nHello,\n\nLast week I did a fresh install on my Ubuntu but now I can't restore the\nbackup I had made. I get the following error message:\n\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1398, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1477, in do_backup\n    restore(col_stats)\n  File \"/usr/bin/duplicity\", line 733, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 558,\nin Write_ROPaths\n    for ropath in rop_iter:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 521,\nin integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 389,\nin yield_tuples\n    setrorps(overflow, elems)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 378,\nin setrorps\n    elems[i] = iter_list[i].next()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 121,\nin difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 339,\nin next\n    self.set_tarfile()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 333,\nin set_tarfile\n    self.current_fp = self.fileobj_iter.next()\n  File \"/usr/bin/duplicity\", line 769, in get_fileobj_iter\n    backup_set.volume_name_dict[vol_num],\n KeyError: 1\n\n\n\n lsb_release -d\nDescription:    Ubuntu 18.04.1 LTS\n\n dpkg-query -W deja-dup duplicity\ndeja-dup        37.1-2fakesync1\nduplicity       0.7.18.2+bzr1367-0ubuntu1~ubuntu18.04.1\n```","state":"closed","created_at":"2018-12-03T19:05:37.011Z","updated_at":"2022-11-02T16:40:25.533Z","closed_at":"2022-11-02T16:21:01.009Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":11,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/603","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/603","notes":"https://gitlab.com/api/v4/projects/12450835/issues/603/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/603/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#603","relative":"#603","full":"duplicity/duplicity#603"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022077,"iid":602,"project_id":12450835,"title":"Backup fails with â€œzlib inflate problem: invalid stored block lengthsâ€ (lp:#1800139)","description":"[Original report](https://bugs.launchpad.net/bugs/1800139) created by **rbuick (robert-buick)**\n```\nIt fails backup with:\nBackup Failed\n\nGPGError: GPG Failed, see log below:\n===== Begin GnuPG log =====\ngpg: WARNING: \"--no-use-agent\" is an obsolete option - it has no effect\ngpg: AES256 encrypted data\ngpg: encrypted with 1 passphrase\ngpg: Fatal: zlib inflate problem: invalid stored block lengths\n===== End GnuPG log =====\n\n-----\n\nAttempting to restore returns\n\nRestore Failed\n\nGPGError: GPG Failed, see log below:\n===== Begin GnuPG log =====\ngpg: WARNING: \"--no-use-agent\" is an obsolete option - it has no effect\ngpg: AES256 encrypted data\ngpg: encrypted with 1 passphrase\ngpg: Fatal: zlib inflate problem: invalid stored block lengths\n===== End GnuPG log =====\n\n------\n\nlsb_release -d\nDescription:    Ubuntu 18.04.1 LTS\ndeja-dup        37.1-2fakesync1\nduplicity       0.7.17-0ubuntu1\n\n------\n\ndeja-dup.gsettings:\n\norg.gnome.DejaDup last-restore ''\norg.gnome.DejaDup periodic true\norg.gnome.DejaDup periodic-period 1\norg.gnome.DejaDup full-backup-period 90\norg.gnome.DejaDup backend 'remote'\norg.gnome.DejaDup last-run '2018-10-22T23:01:17.255583Z'\norg.gnome.DejaDup nag-check '2018-10-08T14:09:09.699233Z'\norg.gnome.DejaDup prompt-check 'disabled'\norg.gnome.DejaDup root-prompt true\norg.gnome.DejaDup include-list ['$HOME']\norg.gnome.DejaDup exclude-list ['$TRASH', '$DOWNLOAD']\norg.gnome.DejaDup last-backup '2018-10-22T23:01:17.255583Z'\norg.gnome.DejaDup allow-metered false\norg.gnome.DejaDup delete-after 0\norg.gnome.DejaDup.Rackspace username ''\norg.gnome.DejaDup.Rackspace container 'my-linux-pc'\norg.gnome.DejaDup.S3 id ''\norg.gnome.DejaDup.S3 bucket ''\norg.gnome.DejaDup.S3 folder 'my-linux-pc'\norg.gnome.DejaDup.OpenStack authurl ''\norg.gnome.DejaDup.OpenStack tenant ''\norg.gnome.DejaDup.OpenStack username ''\norg.gnome.DejaDup.OpenStack container 'my-linux-pc'\norg.gnome.DejaDup.GCS id ''\norg.gnome.DejaDup.GCS bucket ''\norg.gnome.DejaDup.GCS folder 'my-linux-pc'\norg.gnome.DejaDup.Local folder 'my-linux-pc'\norg.gnome.DejaDup.Remote uri 'smb://backup_nas/backup/'\norg.gnome.DejaDup.Remote folder 'MacBook_linux'\norg.gnome.DejaDup.Drive uuid ''\norg.gnome.DejaDup.Drive icon ''\norg.gnome.DejaDup.Drive folder 'my-linux-pc'\norg.gnome.DejaDup.Drive name ''\norg.gnome.DejaDup.GOA id ''\norg.gnome.DejaDup.GOA folder 'my-linux-pc'\norg.gnome.DejaDup.GOA type ''\norg.gnome.DejaDup.File short-name ''\norg.gnome.DejaDup.File type 'normal'\norg.gnome.DejaDup.File migrated true\norg.gnome.DejaDup.File name ''\norg.gnome.DejaDup.File path 'smb:///home/me_as_a_user/deja-dup'\norg.gnome.DejaDup.File uuid ''\norg.gnome.DejaDup.File icon ''\norg.gnome.DejaDup.File relpath@ ay []\n\n--------\n\nDEJA_DUP_DEBUG=1 deja-dup --backup | tail -n 1000 \u003e /tmp/deja-dup.log\n\nempty\n\n\n---------\n\nDEJA_DUP_DEBUG=1 deja-dup --restore | tail -n 1000 \u003e /tmp/deja-dup.log\n\nempty\n```","state":"closed","created_at":"2018-10-26T12:16:30.268Z","updated_at":"2022-11-02T16:20:56.783Z","closed_at":"2022-11-02T16:20:56.759Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/602","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":14,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/602","notes":"https://gitlab.com/api/v4/projects/12450835/issues/602/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/602/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#602","relative":"#602","full":"duplicity/duplicity#602"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022074,"iid":601,"project_id":12450835,"title":"Add option to specify the DropBox upload chunk size (lp:#1795621)","description":"[Original report](https://bugs.launchpad.net/bugs/1795621) created by **Pedro Gimeno (pgimeno)**\n```\nThe current dpbxbackend.py code includes the following snippet:\n\n# This is chunk size for upload using Dpbx chumked API v2. It doesn't\n# make sense to make it much large since Dpbx SDK uses connection pool\n# internally. So multiple chunks will sent using same keep-alive socket\n# Plus in case of network problems we most likely will be able to retry\n# only failed chunk\nDPBX_UPLOAD_CHUNK_SIZE = 16 * 1024 * 1024\n\nHowever, DropBox has a limit of 25,000 API calls per month per team. With\nthat chunk size, this means a maximum of about 390 GiB (419 GB) per month.\n\nThat turned out to be insufficient for us, and we spent all of our API call\nquota for this month very quickly for this reason (it's October 2,\ntherefore the quota won't be reset for a whole month).\n\nSee https://www.dropbox.com/developers/reference/data-transport-limit for\nmore information about the limits and the best practices related to\ndivision of files into chunks during uploads in Dropbox.\n\nThe upload chunk size should be changeable without editing the sources (a\ncommand-line option would be ideal), and a notice should be added in the\nman page stating this problem.\n\nThe suggested command line option is: --dropbox-upload-chunk-size\n\nThe suggested text for the man page is:\n\nFor the option:\n\n        --dropbox-upload-chunk-size\n              Defines the size in MB of each upload chunk for DropBox. Each\n              chunk implies one API call, and the number of API calls may\nbe\n              limited. Defaults to 16 MB. See also A NOTE ON DROPBOX\nACCESS.\n\nFor A NOTE ON DROPBOX ACCESS, add:\n\n       4.     Note that there may be a limit to the number of API calls\nthat\n              a Dropbox application may use per month. As of this writing,\n              most account types have a limit of 25,000 API calls per\nmonth.\n              Files are uploaded in chunks, and each chunk upload effects\nan\n              API call, therefore you may need to adjust the option\n              --dropbox-upload-chunk-size appropriately according to the\nsize\n              of your backup.\n\nI can try to come up with a patch, but not being familiar with the code or\nthe language, I can't guarantee it will be of sufficient quality.\n```","state":"closed","created_at":"2018-10-02T10:56:33.062Z","updated_at":"2022-11-02T16:20:53.410Z","closed_at":"2022-11-02T16:20:53.390Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/601","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/601","notes":"https://gitlab.com/api/v4/projects/12450835/issues/601/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/601/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#601","relative":"#601","full":"duplicity/duplicity#601"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022071,"iid":600,"project_id":12450835,"title":"dup_threading.py fails to traceback: AttributeError: 'exceptions.TypeError' object has no attribute 'with_traceback' (lp:#1794819)","description":"[Original report](https://bugs.launchpad.net/bugs/1794819) created by **Marijn Vriens (marijnvriens)**\n```\nWhen running duplicity-backup to webdav it fails, and then the traceback\nfails to generate in dup_threading.py.\n\nThis happens after uploading the first file correctly to webdav, and\ncreating the second file to upload.\n\nHere's the beginning and end of the session:\n\n================================================================================\nduplicity 0.7.18 (August 21, 2018)\nArgs: /usr/local/bin/duplicity --verbosity i --asynchronous-upload --full-\nif-older-than 3M --encrypt-key 0xD58004C930983622 --sign-key\n0xD371AC4B4CC1A2AB /home/marijn --exclude-filelist\n/home/marijn/.duplicity/list.txt webdavs://something/something\nLinux muis2 4.15.0-34-generic #37~16.04.1-Ubuntu SMP Tue Aug 28 10:44:06\nUTC 2018 x86_64 x86_64\n/usr/bin/python2 2.7.12 (default, Dec  4 2017, 14:50:18)\n[GCC 5.4.0 20160609]\n================================================================================\n...\nA Some/file/A\nAsyncScheduler: scheduling task for asynchronous execution\nProcessed volume 1\nWriting duplicity-full.20180927T144546Z.vol1.difftar.gpg\nWebDAV PUT /remote.php/webdav/muis2/duplicity-\nfull.20180927T144546Z.vol1.difftar.gpg request with headers: {'Connection':\n'keep-alive', 'Authorization': 'Someauthcreds'}\nWebDAV data length: 209920753\nA Some/file/B\nA Some/file/C\nAsyncScheduler: scheduling task for asynchronous execution\nWebDAV response status 201 with reason 'Created'.\nAsyncScheduler: task execution done (success: False)\nAsyncScheduler: a previously scheduled task has failed; propagating the\nresult immediately\nTraceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1567, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1553, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1405, in main\n    do_backup(action)\n  File \"/usr/local/bin/duplicity\", line 1523, in do_backup\n    full_backup(col_stats)\n  File \"/usr/local/bin/duplicity\", line 584, in full_backup\n    globals.backend)\n  File \"/usr/local/bin/duplicity\", line 466, in write_multivol\n    (tdp, dest_filename, vol_num)))\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/asyncscheduler.py\", line 152, in schedule_task\n    return self.__run_asynchronously(fn, params)\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/asyncscheduler.py\", line 216, in __run_asynchronously\n    with_lock(self.__cv, wait_for_and_register_launch)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/dup_threading.py\",\nline 105, in with_lock\n    return fn()\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/asyncscheduler.py\", line 208, in\nwait_for_and_register_launch\n    check_pending_failure()  # raise on fail\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/asyncscheduler.py\", line 192, in check_pending_failure\n    self.__failed_waiter()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/dup_threading.py\",\nline 201, in waiter\n    raise state['error'].with_traceback(state['trace'])\n AttributeError: 'exceptions.TypeError' object has no attribute\n'with_traceback'\n```","state":"closed","created_at":"2018-09-27T15:22:54.096Z","updated_at":"2022-11-02T16:20:49.483Z","closed_at":"2022-11-02T16:20:49.446Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/600","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/600","notes":"https://gitlab.com/api/v4/projects/12450835/issues/600/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/600/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#600","relative":"#600","full":"duplicity/duplicity#600"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022069,"iid":599,"project_id":12450835,"title":"Backup fails: \"secret key not available\" with key available. (lp:#1794808)","description":"[Original report](https://bugs.launchpad.net/bugs/1794808) created by **Marijn Vriens (marijnvriens)**\n```\nHi,\n\nI have the issue that when I have a full-backup that I break-off half-way\nfor whatever reason, trying to restart/redo the backup later fails:\n\n================================================================================\nduplicity 0.7.18 (August 21, 2018)\nArgs: /usr/local/bin/duplicity --verbosity i --asynchronous-upload --full-\nif-older-than 3M --encrypt-key 0xD58004C930983622 --sign-key\n0xD371AC4B4CC1A2AB /home/marijn --exclude-filelist\n/home/marijn/.duplicity/list.txt webdavs://something/something\nLinux muis2 4.15.0-34-generic #37~16.04.1-Ubuntu SMP Tue Aug 28 10:44:06\nUTC 2018 x86_64 x86_64\n/usr/bin/python2 2.7.12 (default, Dec  4 2017, 14:50:18)\n[GCC 5.4.0 20160609]\n================================================================================\n...\nWebDAV data length: 4\nWebDAV response status 200 with reason 'OK'.\nGPG error detail: Traceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1567, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1553, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1405, in main\n    do_backup(action)\n  File \"/usr/local/bin/duplicity\", line 1426, in do_backup\n    sync_archive()\n  File \"/usr/local/bin/duplicity\", line 1216, in sync_archive\n    copy_to_local(fn)\n  File \"/usr/local/bin/duplicity\", line 1164, in copy_to_local\n    gpg.GzipWriteFile(src_iter, tdp.name, size=sys.maxsize)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/gpg.py\", line 447,\nin GzipWriteFile\n    new_block = block_iter.next()\n  File \"/usr/local/bin/duplicity\", line 1144, in next\n    self.fileobj.close()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/dup_temp.py\", line\n227, in close\n    assert not self.fileobj.close()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/gpg.py\", line 305,\nin close\n    self.gpg_failed()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/gpg.py\", line 272,\nin gpg_failed\n    raise GPGError(msg)\n GPGError: GPG Failed, see log below:\n==== Begin GnuPG log =====\ngpg: encrypted with 4096-bit RSA key, ID 0xCC15A5FC57E98B61, created\n2018-06-15\n\"Marijn P. Vriens \u003cmarijn.vriens@example.com\u003e\"\ngpg: decryption failed: secret key not available\n===== End GnuPG log =====\n\nWhich is weird in various ways.\n\n1) The secret key is, in fact, available on the machine.\n2) It's reporting the ID of a subkey (see below) not the ID of the master\nkey.\n3) This key is used to --encrypt-key, so no private key should be\nnecessary, in the first place.\n\n$ gpg --list-secret-keys\n/home/marijn/.gnupg/pubring.gpg\n-------------------------------\nsec#  rsa4096/0xD58004C930983622 2015-11-14 [C] [expires: 2019-12-07]\nuid                   [ultimate] Marijn P. Vriens\n\u003cmarijn.vriens@example.com\u003e\nssb   rsa4096/0x952F274190FC721C 2018-06-15 [S] [expires: 2018-12-12]\nssb   rsa4096/0xCC15A5FC57E98B61 2018-06-15 [E] [expires: 2018-12-12]\nssb   rsa4096/0x9184AE674604012D 2018-06-15 [A] [expires: 2018-12-12]\n\nsec   rsa4096/0xD371AC4B4CC1A2AB 2016-07-18 [SC]\nuid                   [ultimate] muis machine\nssb   rsa4096/0x56F8EEA2EC17E17B 2016-07-18 [E]\n\nRemoving the files that where created on the backup location by the broken-\noff process works sometimes. Other times it keeps failing with this\nmessage, even after removing all created files. I have no idea what's the\ndifference, but it leaves me with no choice but to use a different\ndirectory to back-up into.\n\nI'm suspecting that Duplicity is having issues with the fact that I'm using\nGPG subkeys, and fails to select the correct-secret key because of that.\nbut i'm not certain of that.\n```","state":"closed","created_at":"2018-09-27T14:44:11.408Z","updated_at":"2022-11-02T16:20:46.294Z","closed_at":"2022-11-02T16:20:46.271Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/599","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/599","notes":"https://gitlab.com/api/v4/projects/12450835/issues/599/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/599/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#599","relative":"#599","full":"duplicity/duplicity#599"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022065,"iid":598,"project_id":12450835,"title":"InvalidGrantError at every use of authenticated onedrive oauth (lp:#1792785)","description":"[Original report](https://bugs.launchpad.net/bugs/1792785) created by **Jakob BÃ¶ttger (jswiss)**\n```\nduplicity 0.7.18.1\nPython 2.7.13\nDebian 9.3\noauthlib (2.1.0)\nrequests-oauthlib (1.0.0)\nrequest (1.0.2)\n\nIf you authenticate onedrive via oauth the .json is saved and the running\ninstance of duplicity is working. At the next use duplicity is always\nfailing with:\n\n Traceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1560, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1546, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1385, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/commandline.py\",\nline 1135, in ProcessCommandLine\n    backup, local_pathname = set_backend(args[0], args[1])\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/commandline.py\",\nline 1010, in set_backend\n    globals.backend = backend.get_backend(bend)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/backend.py\", line\n223, in get_backend\n    obj = get_backend_object(url_string)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/backend.py\", line\n209, in get_backend_object\n    return factory(pu)\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/backends/onedrivebackend.py\", line 90, in __init__\n    self.initialize_oauth2_session()\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/backends/onedrivebackend.py\", line 127, in\ninitialize_oauth2_session\n    self.http_client.refresh_token(self.OAUTH_TOKEN_URI)\n  File \"/usr/local/lib/python2.7/dist-\npackages/requests_oauthlib/oauth2_session.py\", line 309, in refresh_token\n    self.token = self._client.parse_request_body_response(r.text,\nscope=self.scope)\n  File \"/usr/local/lib/python2.7/dist-\npackages/oauthlib/oauth2/rfc6749/clients/base.py\", line 411, in\nparse_request_body_response\n    self.token = parse_token_response(body, scope=scope)\n  File \"/usr/local/lib/python2.7/dist-\npackages/oauthlib/oauth2/rfc6749/parameters.py\", line 379, in\nparse_token_response\n    validate_token_parameters(params)\n  File \"/usr/local/lib/python2.7/dist-\npackages/oauthlib/oauth2/rfc6749/parameters.py\", line 386, in\nvalidate_token_parameters\n    raise_from_error(params.get('error'), params)\n  File \"/usr/local/lib/python2.7/dist-\npackages/oauthlib/oauth2/rfc6749/errors.py\", line 415, in raise_from_error\n    raise cls(**kwargs)\n InvalidGrantError: (invalid_grant) The user could not be authenticated or\nthe grant is expired. The user must first sign in and if needed grant the\nclient application access to the requested scope.\n```\nOriginal tags: oauth onedrive","state":"closed","created_at":"2018-09-16T10:28:13.276Z","updated_at":"2022-11-02T16:20:43.184Z","closed_at":"2022-11-02T16:20:43.152Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/598","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/598","notes":"https://gitlab.com/api/v4/projects/12450835/issues/598/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/598/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#598","relative":"#598","full":"duplicity/duplicity#598"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022061,"iid":597,"project_id":12450835,"title":"B2 application key support  (lp:#1790248)","description":"[Original report](https://bugs.launchpad.net/bugs/1790248) created by **Tobias Sachs (sachstobia)**\n```\nHey!\n\nB2 recently added support for separate application keys [1] just for one\nbucket. If I use them I get the following error with 0.7.18:\n\nFolgendes Archivverzeichnis wird benutzt:\n/root/.cache/duplicity/f78e085eb292fbcdee4358116ce069f5\nFolgender Sicherungsname wird benutzt: f78e085eb292fbcdee4358116ce069f5\nGPG binary is gpg, version 2.1.18\nImport von duplicity.backends.acdclibackend Succeeded\nImport von duplicity.backends.azurebackend Succeeded\nImport von duplicity.backends.b2backend Succeeded\nImport von duplicity.backends.botobackend Succeeded\nImport von duplicity.backends.cfbackend Succeeded\nImport von duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport von duplicity.backends.gdocsbackend Succeeded\nImport von duplicity.backends.giobackend Succeeded\nImport von duplicity.backends.hsibackend Succeeded\nImport von duplicity.backends.hubicbackend Succeeded\nImport von duplicity.backends.imapbackend Succeeded\nImport von duplicity.backends.lftpbackend Succeeded\nImport von duplicity.backends.localbackend Succeeded\nImport von duplicity.backends.mediafirebackend Succeeded\nImport von duplicity.backends.megabackend Succeeded\nImport von duplicity.backends.multibackend Succeeded\nImport von duplicity.backends.ncftpbackend Succeeded\nImport von duplicity.backends.onedrivebackend Succeeded\nImport von duplicity.backends.par2backend Succeeded\nImport von duplicity.backends.pydrivebackend Succeeded\nImport von duplicity.backends.rsyncbackend Succeeded\nImport von duplicity.backends.ssh_paramiko_backend Succeeded\nImport von duplicity.backends.ssh_pexpect_backend Succeeded\nImport von duplicity.backends.swiftbackend Succeeded\nImport von duplicity.backends.sxbackend Succeeded\nImport von duplicity.backends.tahoebackend Succeeded\nImport von duplicity.backends.webdavbackend Succeeded\nB2 Backend (path= backups/, bucket= XYZ, minimum_part_size= 100000000)\nBucket found\nHauptaufgabe: cleanup\nAcquiring lockfile\n/root/.cache/duplicity/f78e085eb292fbcdee4358116ce069f5/lockfile\n================================================================================\nduplicity 0.7.18 (August 21, 2018)\nArgs: /usr/local/bin/duplicity --verbosity debug cleanup --force --sign-key\nXXX --encrypt-key XXX b2://XXX:XXX@XYZ/backups\nLinux Pandora 4.9.0-5-amd64 #1 SMP Debian 4.9.65-3+deb9u2 (2018-01-04)\nx86_64\n/usr/bin/python2 2.7.13 (default, Nov 24 2017, 17:33:09)\n[GCC 6.3.0 20170516]\n================================================================================\nEntfernte Metadaten werden zum lokalen Puffer synchronisiert â€¦\nduplicity-full-signatures.20180304T185359Z.sigtar.gpg wird zum lokalen\nPuffer kopiert.\nTemporÃ¤res Verzeichnis /tmp/duplicity-Gx_hpr-tempdir wird benutzt\n(mktemp) temporÃ¤re Datei /tmp/duplicity-Gx_hpr-tempdir/mktemp-Sy_6xV-1 wird\nregistriert\nGet: backups/duplicity-full-signatures.20180304T185359Z.sigtar.gpg -\u003e\n/tmp/duplicity-Gx_hpr-tempdir/mktemp-Sy_6xV-1\nRÃ¼ckverfolgung des vorangegangenen Fehlers: Traceback (innermost last):\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/backend.py\", line\n369, in inner_retry\n    return fn(self, *args)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/backend.py\", line\n552, in get\n    self.backend._get(remote_filename, local_path)\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/backends/b2backend.py\", line 113, in _get\n    b2.download_dest.DownloadDestLocalFile(local_path.name))\n  File \"/usr/local/lib/python2.7/dist-packages/logfury/v0_1/trace_call.py\",\nline 84, in wrapper\n    return function(*wrapee_args, **wrapee_kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/b2/bucket.py\", line 168, in\ndownload_file_by_name\n    url, download_dest, progress_listener, range_\n  File \"/usr/local/lib/python2.7/dist-packages/logfury/v0_1/trace_call.py\",\nline 84, in wrapper\n    return function(*wrapee_args, **wrapee_kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/b2/transferer.py\", line 45,\nin download_file_from_url\n    range_=range_,\n  File \"/usr/local/lib/python2.7/dist-packages/b2/session.py\", line 39, in\nwrapper\n    return f(api_url, account_auth_token, *args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/b2/raw_api.py\", line 248, in\ndownload_file_from_url\n    return self.b2_http.get_content(url, request_headers)\n  File \"/usr/local/lib/python2.7/dist-packages/b2/b2http.py\", line 337, in\nget_content\n    response = _translate_and_retry(do_get, try_count, None)\n  File \"/usr/local/lib/python2.7/dist-packages/b2/b2http.py\", line 119, in\n_translate_and_retry\n    return _translate_errors(fcn, post_params)\n  File \"/usr/local/lib/python2.7/dist-packages/b2/b2http.py\", line 55, in\n_translate_errors\n    int(error['status']), error['code'], error['message'], post_params\n FileNotPresent: File not present:\n\nVersuch 1 fehlgeschlagen. FileNotPresent: File not present:\n^CSperrdatei\nÂ»/root/.cache/duplicity/f78e085eb292fbcdee4358116ce069f5/lockfileÂ« wird\nfreigegeben\nBereits gemerkte temporÃ¤re Datei /tmp/duplicity-Gx_hpr-tempdir/mktemp-\nSy_6xV-1 wird entfernt\nINT abgefangen â€¦ wird beendet.\nSperrdatei\nÂ»/root/.cache/duplicity/f78e085eb292fbcdee4358116ce069f5/lockfileÂ« wird\nfreigegeben\nSperrdatei\nÂ»/root/.cache/duplicity/f78e085eb292fbcdee4358116ce069f5/lockfileÂ« wird\nfreigegeben\n\nPython 2.7.13 (default, Nov 24 2017, 17:33:09)\n[GCC 6.3.0 20170516] on linux2\n\nDistributor ID: Debian\nDescription:    Debian GNU/Linux 9.5 (stretch)\nRelease:        9.5\nCodename:       stretch\n\n#pip show b2\nName: b2\nVersion: 1.3.6\n\n\n[1] https://www.backblaze.com/b2/docs/application_keys.html\n```","state":"closed","created_at":"2018-09-01T01:00:04.032Z","updated_at":"2022-11-02T16:20:38.808Z","closed_at":"2022-11-02T16:20:38.759Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/597","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/597","notes":"https://gitlab.com/api/v4/projects/12450835/issues/597/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/597/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#597","relative":"#597","full":"duplicity/duplicity#597"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022058,"iid":596,"project_id":12450835,"title":"Progress ETA is very wrong if upload is restarted. (lp:#1789153)","description":"[Original report](https://bugs.launchpad.net/bugs/1789153) created by **Jeff Johnson (jeffjohnson0)**\n```\nWhen aborting an upload and the next invocation requires a 'RESTART', the\nETA is very wrong and never seems to correct it self.  In the log below, it\nseems that the first 23% is done in 0 seconds, which skews the ETA.  Every\n30 seconds or so it will add a minute.  This upload should take ~18 hours.\nIt would be nice if the RESTART didn't include the already completed\npercentage.\n\n\nRESTART: Volumes 99 to 100 failed to upload before termination.\n         Restarting backup at volume 99.\nRestarting after volume 98, file XXXXXXXXXX, block 9016\n0.0KB 00:00:00 [0.0KB/s] [=========\u003e                               ] 23%\nETA 0sec\n0.0KB 00:00:10 [0.0KB/s] [=========\u003e                               ] 23%\nETA \u003c 45sec\n8.7MB 00:00:20 [267.9KB/s] [=========\u003e                               ] 23%\nETA 1min\n18.5MB 00:00:30 [488.0KB/s] [=========\u003e                               ] 23%\nETA 1min 30sec\n28.0MB 00:00:40 [631.5KB/s] [=========\u003e                               ] 23%\nETA 2min\n36.4MB 00:00:50 [702.1KB/s] [=========\u003e                               ] 23%\nETA 2min 30sec\n46.0MB 00:01:00 [787.0KB/s] [=========\u003e                               ] 23%\nETA 3min\n55.7MB 00:01:10 [846.5KB/s] [=========\u003e                               ] 23%\nETA 3min 30sec\n65.6MB 00:01:20 [897.5KB/s] [=========\u003e                               ] 23%\nETA 4min\n75.1MB 00:01:30 [919.9KB/s] [=========\u003e                               ] 23%\nETA 4min 30sec\n84.8MB 00:01:40 [940.0KB/s] [=========\u003e                               ] 23%\nETA 5min 30sec\n94.2MB 00:01:50 [949.1KB/s] [=========\u003e                               ] 23%\nETA 6min\n104.0MB 00:02:00 [962.7KB/s] [=========\u003e                               ]\n23% ETA 6min\n113.1MB 00:02:10 [954.2KB/s] [=========\u003e                               ]\n23% ETA 7min\n123.3MB 00:02:20 [980.1KB/s] [=========\u003e                               ]\n23% ETA 7min\n133.0MB 00:02:30 [983.1KB/s] [=========\u003e                               ]\n23% ETA 8min\n142.6MB 00:02:40 [985.5KB/s] [=========\u003e                               ]\n23% ETA 8min\n152.4MB 00:02:50 [989.2KB/s] [=========\u003e                               ]\n23% ETA 9min\n161.9MB 00:03:00 [983.6KB/s] [=========\u003e                               ]\n23% ETA 9min\n169.1MB 00:03:10 [911.3KB/s] [=========\u003e                               ]\n23% ETA 10min\n178.8MB 00:03:20 [935.7KB/s] [=========\u003e                               ]\n23% ETA 11min\n188.2MB 00:03:30 [943.7KB/s] [=========\u003e                               ]\n23% ETA 11min\n197.2MB 00:03:40 [936.4KB/s] [=========\u003e                               ]\n23% ETA 12min\n203.0MB 00:03:50 [832.0KB/s] [=========\u003e                               ]\n23% ETA 12min\n212.8MB 00:04:00 [885.2KB/s] [=========\u003e                               ]\n23% ETA 13min\n222.9MB 00:04:10 [928.2KB/s] [=========\u003e                               ]\n23% ETA 13min\n232.0MB 00:04:20 [930.3KB/s] [=========\u003e                               ]\n23% ETA 14min\n241.6MB 00:04:30 [944.2KB/s] [=========\u003e                               ]\n23% ETA 14min\n251.5MB 00:04:40 [964.4KB/s] [=========\u003e                               ]\n23% ETA 15min\n260.8MB 00:04:50 [961.1KB/s] [=========\u003e                               ]\n23% ETA 15min\n271.3MB 00:05:00 [995.2KB/s] [=========\u003e                               ]\n23% ETA 16min\n280.1MB 00:05:10 [966.6KB/s] [=========\u003e                               ]\n23% ETA 17min\n289.5MB 00:05:20 [966.5KB/s] [=========\u003e                               ]\n23% ETA 17min\n298.5MB 00:05:30 [951.0KB/s] [=========\u003e                               ]\n23% ETA 18min\n307.8MB 00:05:40 [951.7KB/s] [=========\u003e                               ]\n23% ETA 18min\n317.3MB 00:05:50 [959.1KB/s] [=========\u003e                               ]\n23% ETA 19min\n326.8MB 00:06:00 [961.5KB/s] [=========\u003e                               ]\n23% ETA 19min\n336.5MB 00:06:10 [972.5KB/s] [=========\u003e                               ]\n23% ETA 20min\n346.5MB 00:06:20 [987.2KB/s] [=========\u003e                               ]\n23% ETA 20min\n355.5MB 00:06:30 [965.8KB/s] [=========\u003e                               ]\n23% ETA 21min\n365.0MB 00:06:40 [967.1KB/s] [=========\u003e                               ]\n23% ETA 22min\n379.0MB 00:06:50 [1.1MB/s] [=========\u003e                               ] 23%\nETA 22min\n392.7MB 00:07:00 [1.2MB/s] [=========\u003e                               ] 23%\nETA 23min\n403.1MB 00:07:10 [1.1MB/s] [=========\u003e                               ] 23%\nETA 23min\n417.1MB 00:07:20 [1.2MB/s] [=========\u003e                               ] 23%\nETA 24min\n430.8MB 00:07:30 [1.3MB/s] [=========\u003e                               ] 23%\nETA 24min\n444.7MB 00:07:40 [1.3MB/s] [=========\u003e                               ] 23%\nETA 25min\n458.6MB 00:07:50 [1.3MB/s] [=========\u003e                               ] 23%\nETA 25min\n\n\n\nUbuntu is version 16.04. Python is version 2.7.12. Duplicity is version\n0.7.17. b2 backend is 1.3.4.\n```","state":"closed","created_at":"2018-08-27T04:33:24.527Z","updated_at":"2022-11-02T16:20:34.975Z","closed_at":"2022-11-02T16:20:34.937Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/596","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/596","notes":"https://gitlab.com/api/v4/projects/12450835/issues/596/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/596/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#596","relative":"#596","full":"duplicity/duplicity#596"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022056,"iid":595,"project_id":12450835,"title":"onedrive authentication fails (lp:#1777256)","description":"[Original report](https://bugs.launchpad.net/bugs/1777256) created by **Louis Kirsch (louiskirsch)**\n```\nTrying to run a command with onedrive for the first time, e.g.\n`duplicity list-current-files onedrive://backups`\ntriggers authentication correctly:\n```\nCould not load OAuth2 token. Trying to create a new one.\nIn order to authorize duplicity to access your OneDrive, please open XXX in\na browser and copy the URL of the blank page the dialog leads to.\n```\n\nand then after submitting the URL of the blank page crashes with\n```\nTraceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1555, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1541, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1380, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/duplicity/commandline.py\", line 1127, in ProcessCommandLine\n    globals.backend = backend.get_backend(args[0])\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/duplicity/backend.py\", line 223, in get_backend\n    obj = get_backend_object(url_string)\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/duplicity/backend.py\", line 209, in get_backend_object\n    return factory(pu)\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/duplicity/backends/onedrivebackend.py\", line 90, in __init__\n    self.initialize_oauth2_session()\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/duplicity/backends/onedrivebackend.py\", line 157, in\ninitialize_oauth2_session\n    authorization_response=redirected_to)\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/requests_oauthlib/oauth2_session.py\", line 244, in fetch_token\n    self._client.parse_request_body_response(r.text, scope=self.scope)\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/oauthlib/oauth2/rfc6749/clients/base.py\", line 409, in\nparse_request_body_response\n    self.token = parse_token_response(body, scope=scope)\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/oauthlib/oauth2/rfc6749/parameters.py\", line 376, in\nparse_token_response\n    validate_token_parameters(params)\n  File \"/usr/local/Cellar/duplicity/0.7.17/libexec/lib/python2.7/site-\npackages/oauthlib/oauth2/rfc6749/parameters.py\", line 406, in\nvalidate_token_parameters\n    raise w\n Warning: Scope has changed from \"wl.skydrive_update wl.offline_access\nwl.skydrive\" to \"onedrive.readwrite wl.skydrive_update wl.offline_access\nwl.signin wl.skydrive\".\n```\n\nDuplicity version: 0.7.17\nPython version 2.7\nOS Distro and version OSX\nType of target filesystem: OneDrive\n```","state":"closed","created_at":"2018-06-16T15:38:06.367Z","updated_at":"2022-11-02T16:20:31.571Z","closed_at":"2022-11-02T16:20:31.551Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/595","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/595","notes":"https://gitlab.com/api/v4/projects/12450835/issues/595/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/595/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#595","relative":"#595","full":"duplicity/duplicity#595"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022052,"iid":594,"project_id":12450835,"title":"Backup chain corrupted due to scp failure (lp:#1776733)","description":"[Original report](https://bugs.launchpad.net/bugs/1776733) created by **Bouke (bouke-haarsma)**\n```\nToday I've been trying to salvage some lost data using our duplicity\nbackups. However during the restoration I've run into the following error a\nfew times:\n\n    Invalid data - SHA1 hash mismatch for file:\n    duplicity-inc.20180601T033002Z.to.20180601T073003Z.vol16.difftar.gpg\n\nDigging through the backup volumes, that specific increment caught my\nattention:\n\n    200M Jun  1 09:38 duplicity-\ninc.20180601T033002Z.to.20180601T073003Z.vol15.difftar.gpg\n     21M Jun  1 09:38 duplicity-\ninc.20180601T033002Z.to.20180601T073003Z.vol16.difftar.gpg\n    201M Jun  1 10:27 duplicity-\ninc.20180601T033002Z.to.20180601T073003Z.vol19.difftar.gpg\n\nNotably:\n\n - volume 16 is incomplete\n - volume 17 and 18 are missing\n\nIn the logs when creating that backup, the following relevant messages have\nbeen outputted:\n\n    Giving up after 5 attempts. BackendException: Error running 'scp\n-oServerAliveInterval=15 -oServerAliveCountMax=2 /tmp/duplicity-\nVA2x4D-tempdir/mktemp-fqSlsK-18 offsite-\nbackup.cb.local:/backup/dbs02r2.cb.local/duplicity-\ninc.20180601T033002Z.to.20180601T073003Z.vol16.difftar.gpg'\n    Giving up after 5 attempts. BackendException: Error running 'scp\n-oServerAliveInterval=15 -oServerAliveCountMax=2 /tmp/duplicity-\nVA2x4D-tempdir/mktemp-RbVN9m-19 offsite-\nbackup.cb.local:/backup/dbs02r2.cb.local/duplicity-\ninc.20180601T033002Z.to.20180601T073003Z.vol17.difftar.gpg'\n    Giving up after 5 attempts. BackendException: Error running 'scp\n-oServerAliveInterval=15 -oServerAliveCountMax=2 /tmp/duplicity-\nVA2x4D-tempdir/mktemp-SEdTr8-20 offsite-\nbackup.cb.local:/backup/dbs02r2.cb.local/duplicity-\ninc.20180601T033002Z.to.20180601T073003Z.vol18.difftar.gpg'\n\nFor reference, the command used to produce this backup is:\n\n    /usr/bin/duplicity --full-if-older-than 1M --encrypt-key XXXXXXXX\n--max-blocksize 1048576 --gpg-options -z 1 --asynchronous-upload -v 8\n--include /my/data --exclude ** /my pexpect+scp://offsite-backup//backup\n\nDuplicity version: 0.7.15\nPython version: 2.7.5\nOS: CentOS 7.3 EL7 (centos-release-7-3.1611.el7.centos.x86_64)\nFilesystem: XFS\n\nLooking through the backup logs, I see quite a few of those \"giving up\"\nmessages. Probably those increments are corrupted as well. I'm starting to\nlose my confidence in the backups produced by duplicity. I expect that when\nan increment hasn't fully completed, duplicity would not continue to use\nthat increment for the backup chain.\n\nAm I doing something horribly wrong, or is this expected behaviour from\nduplicity?\n```","state":"closed","created_at":"2018-06-13T17:59:47.587Z","updated_at":"2022-11-02T16:20:26.418Z","closed_at":"2022-11-02T16:20:26.341Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/594","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/594","notes":"https://gitlab.com/api/v4/projects/12450835/issues/594/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/594/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#594","relative":"#594","full":"duplicity/duplicity#594"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022683,"iid":660,"project_id":12450835,"title":"Backup failed, failed due to an unknown error (lp:#1764534)","description":"[Original report](https://bugs.launchpad.net/bugs/1764534) created by **Antoine (tirocco)**\n```\nHello,\nSince this week, I have a problem with deja-dup, backup software, which\nworked very well for about 2 years, with a weekly adjustment. I have not\nchanged anything yet about my system. I'm running with Xubuntu 16.04\ninstalled since September 2016.\n\nmessage: The backup failed, failed due to an unknown error.\nand I have a whole long list posted here :\n\nTraceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1532, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1526, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1380, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1405, in do_backup\n    globals.archive_dir).set_values()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/collections.py\", line\n710, in set_values\n    self.get_backup_chains(partials + backend_filename_list)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/collections.py\", line\n835, in get_backup_chains\n    add_to_sets(f)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/collections.py\", line\n823, in add_to_sets\n    if set.add_filename(filename):\n  File \"/usr/lib/python2.7/dist-packages/duplicity/collections.py\", line\n105, in add_filename\n    (self.volume_name_dict, filename)\nAssertionError: ({1: 'duplicity-full.20161222T105139Z.vol1.difftar.gz', 2:\n'duplicity-full.20161222T105139Z.vol2.difftar.gz', 3: 'duplicity-\nfull.20161222T105139Z.vol3.difftar.gz', 4: 'duplicity-\nfull.20161222T105139Z.vol4.difftar.gz', 5: 'duplicity-\nfull.20161222T105139Z.vol5.difftar.gz', 6: 'duplicity-\nfull.20161222T105139Z.vol6.difftar.gz', 7: 'duplicity-\nfull.20161222T105139Z.vol7.difftar.gz', 8: 'duplicity-\nfull.20161222T105139Z.vol8.difftar.gz', 9: 'duplicity-\nfull.20161222T105139Z.vol9.difftar.gz', 10: 'duplicity-\nfull.20161222T105139Z.vol10.difftar.gz', 11: 'duplicity-\nfull.20161222T105139Z.vol11.difftar.gz', 12: 'duplicity-\nfull.20161222T105139Z.vol12.difftar.gz', 13: 'duplicity-\nfull.20161222T105139Z.vol13.difftar.gz', 14: 'duplicity-\nfull.20161222T105139Z.vol14.difftar.gz', 15: 'duplicity-\nfull.20161222T105139Z.vol15.difftar.gz', 16: 'duplicity-\nfull.20161222T105139Z.vol16.difftar.gz', 17: 'duplicity-\nfull.20161222T105139Z.vol17.difftar.gz', 18: 'duplicity-\nfull.20161222T105139Z.vol18.difftar.gz', 19: 'duplicity-\nfull.20161222T105139Z.vol19.difftar.gz', 20: 'duplicity-\nfull.20161222T105139Z.vol20.difftar.gz', 21: 'duplicity-\nfull.20161222T105139Z.vol21.difftar.gz', 22: 'duplicity-\nfull.20161222T105139Z.vol22.difftar.gz', 23: 'duplicity-\nfull.20161222T105139Z.vol23.difftar.gz', 24: 'duplicity-\nfull.20161222T105139Z.vol24.difftar.gz', 25: 'duplicity-\nfull.20161222T105139Z.vol25.difftar.gz', 26: 'duplicity-\nfull.20161222T105139Z.vol26.difftar.gz', 27: 'duplicity-\nfull.20161222T105139Z.vol27.difftar.gz', 28: 'duplicity-\nfull.20161222T105139Z.vol28.difftar.gz', 29: 'duplicity-\nfull.20161222T105139Z.vol29.difftar.gz', 30: 'duplicity-\nfull.20161222T105139Z.vol30.difftar.gz', 31: 'duplicity-\nfull.20161222T105139Z.vol31.difftar.gz', 32: 'duplicity-\nfull.20161222T105139Z.vol32.difftar.gz', 33: 'duplicity-\nfull.20161222T105139Z.vol33.difftar.gz', 34: 'duplicity-\nfull.20161222T105139Z.vol34.difftar.gz', 35: 'duplicity-\nfull.20161222T105139Z.vol35.difftar.gz', 36: 'duplicity-\nfull.20161222T105139Z.vol36.difftar.gz', 37: 'duplicity-\nfull.20161222T105139Z.vol37.difftar.gz', 38: 'duplicity-\nfull.20161222T105139Z.vol38.difftar.gz', 39: 'duplicity-\nfull.20161222T105139Z.vol39.difftar.gz', 40: 'duplicity-\nfull.20161222T105139Z.vol40.difftar.gz', 41: 'duplicity-\nfull.20161222T105139Z.vol41.difftar.gz', 42: 'duplicity-\nfull.20161222T105139Z.vol42.difftar.gz', 43: 'duplicity-\nfull.20161222T105139Z.vol43.difftar.gz', 44: 'duplicity-\nfull.20161222T105139Z.vol44.difftar.gz', 46: 'duplicity-\nfull.20161222T105139Z.vol46.difftar.gz', 47: 'duplicity-\nfull.20161222T105139Z.vol47.difftar.gz', 48: 'duplicity-\nfull.20161222T105139Z.vol48.difftar.gz', 52: 'duplicity-\nfull.20161222T105139Z.vol52.difftar.gz'}, 'duplicity-\nfull.20161222T105139Z.vol5.difftar.gz')\n\nI tried to 'restore', I also deleted the last backup, but it did not change\nanything.\nI also uninstalled and reinstalled, but nothing helps.\nEverything is ok in the update.\nI do not understand the reason ...\nThank you for your answers if you see where is the problem.\n```","state":"closed","created_at":"2018-04-16T21:21:12.927Z","updated_at":"2022-11-02T16:30:40.310Z","closed_at":"2022-11-02T16:30:36.749Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::duplicate"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/660","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/660","notes":"https://gitlab.com/api/v4/projects/12450835/issues/660/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/660/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#660","relative":"#660","full":"duplicity/duplicity#660"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022047,"iid":593,"project_id":12450835,"title":"Not working with OneDrive/SharePoint for businesses (lp:#1757515)","description":"[Original report](https://bugs.launchpad.net/bugs/1757515) created by **Fedaykin (fedaykin7c2)**\n```\nDuplicity (all versions) do not supports OneDrive for businesses.\n\nMy Univeristy  uses the SAML-based authentication, which Duplicity lacks.\n\nThis authentication requires a set of cookies to be passed. The basic idea\nis that the browser should open the authentication site, which will ask for\ncredentials, such as username, password. Once the user is authenticated a\nticket will be generated and set as a cookie and a redirect is issued to\nthe original site, which now grants access based on the cookie.\n```","state":"closed","created_at":"2018-03-21T18:48:23.455Z","updated_at":"2022-11-02T16:20:22.349Z","closed_at":"2022-11-02T16:20:22.258Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/593","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/593","notes":"https://gitlab.com/api/v4/projects/12450835/issues/593/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/593/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#593","relative":"#593","full":"duplicity/duplicity#593"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022038,"iid":592,"project_id":12450835,"title":"multi backend multiple oPort for sftp fails (lp:#1756718)","description":"[Original report](https://bugs.launchpad.net/bugs/1756718) created by **madimadi (ubuntu-madi)**\n```\nWhen multibackend used for multiple sftp connection, sftp port value taken\nmultiple times into the sftp command for every SFTP instance configured in\nJSON file.\n\nActual Example:\nINFO 1\n. Running 'sftp -oIdentityFile=/id_rsa -oTCPKeepAlive=yes -oPort=17032\n-oServerAliveInterval=15 -oServerAliveCountMax=2 -oPort=11224\nXXX@DOMAIM.COM\n.....\nINFO 1\n. Running 'sftp -oIdentityFile=/id_rsa -oTCPKeepAlive=yes -oPort=17032\n-oServerAliveInterval=15 -oServerAliveCountMax=2 -oPort=11224\nYYY@OTHERDOMAIM.COM\n\n\nSo sftp will use only the first oPort value. As a result there's no way to\nuse individual tcp ports for each SFTP connection in multi backend.\n\nThe same for identity file. No support for providing multiple ssh identity.\n\nduplicity 0.7.13.1\n```","state":"closed","created_at":"2018-03-18T17:45:01.160Z","updated_at":"2022-11-02T16:20:19.212Z","closed_at":"2022-11-02T16:20:19.165Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/592","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/592","notes":"https://gitlab.com/api/v4/projects/12450835/issues/592/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/592/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#592","relative":"#592","full":"duplicity/duplicity#592"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022033,"iid":591,"project_id":12450835,"title":"Support named AWS profiles (lp:#1751881)","description":"[Original report](https://bugs.launchpad.net/bugs/1751881) created by **John W. Lamb (jolamb)**\n```\nThe AWS CLI config file format allows specifying multiple sets of account\ncredentials in the same file by placing them in unique INI sections:\n\u003chttps://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-\nprofiles.html\u003e\n\nThe Boto library supports use of these named profiles via the\nboto3.session.Session(..., profile_name=\"\") named parameter:\n\u003chttp://boto3.readthedocs.io/en/latest/reference/core/session.html\u003e\n\nThere doesn't seem to be a means of providing the profile name for\ns3/s3+http backup/restore in duplicity, but there should be. I would prefer\nthis capability versus various environment variable based options.\n```","state":"closed","created_at":"2018-02-26T19:46:47.247Z","updated_at":"2022-11-02T16:20:16.086Z","closed_at":"2022-11-02T16:20:16.063Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/591","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/591","notes":"https://gitlab.com/api/v4/projects/12450835/issues/591/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/591/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#591","relative":"#591","full":"duplicity/duplicity#591"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022031,"iid":590,"project_id":12450835,"title":"cannot import name Gio (lp:#1750168)","description":"[Original report](https://bugs.launchpad.net/bugs/1750168) created by **Dan Jaenecke (wonk042)**\n```\nI am using duplicity via deja-dup to create backups; but recently it\nstopped working, stating \"BackendException: Hintergrundprogramm konnte\nnicht initialisiert werden: cannot import name Gio\" (sorry for the german\nerror messages, unfortunately I failed to switch to english messages).\n\nThe command causing this error (reduced to the minimum):\nduplicity --verbosity=9 --gio collection-status file:///tmp\nAchtung: Parameter --gio ist veraltet und wird in einer der nÃ¤chsten\nVersionen entfernt.\nBitte verwenden Sie Standarddateinamen.\nFolgendes Archivverzeichnis wird benutzt:\n$HOME/.cache/duplicity/c2731c0788339744944161fd8afb74dd\nFolgender Sicherungsname wird benutzt: c2731c0788339744944161fd8afb74dd\nImport von duplicity.backends.azurebackend Succeeded\nImport von duplicity.backends.b2backend Succeeded\nImport von duplicity.backends.botobackend Succeeded\nImport von duplicity.backends.cfbackend Succeeded\nImport von duplicity.backends.copycombackend Succeeded\nImport von duplicity.backends.dpbxbackend Succeeded\nImport von duplicity.backends.gdocsbackend Succeeded\nImport von duplicity.backends.giobackend Succeeded\nImport von duplicity.backends.hsibackend Succeeded\nImport von duplicity.backends.hubicbackend Succeeded\nImport von duplicity.backends.imapbackend Succeeded\nImport von duplicity.backends.lftpbackend Succeeded\nImport von duplicity.backends.localbackend Succeeded\nImport von duplicity.backends.megabackend Succeeded\nImport von duplicity.backends.multibackend Succeeded\nImport von duplicity.backends.ncftpbackend Succeeded\nImport von duplicity.backends.onedrivebackend Succeeded\nImport von duplicity.backends.par2backend Succeeded\nImport von duplicity.backends.pydrivebackend Succeeded\nImport von duplicity.backends.rsyncbackend Succeeded\nImport von duplicity.backends.ssh_paramiko_backend Succeeded\nImport von duplicity.backends.ssh_pexpect_backend Succeeded\nImport von duplicity.backends.swiftbackend Succeeded\nImport von duplicity.backends.sxbackend Succeeded\nImport von duplicity.backends.tahoebackend Succeeded\nImport von duplicity.backends.webdavbackend Succeeded\nTemporÃ¤res Verzeichnis /tmp/duplicity-EguFuP-tempdir wird benutzt\nFehlerdetail des Hintergrundprogramms: Traceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1532, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1526, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1364, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n1108, in ProcessCommandLine\n    globals.backend = backend.get_backend(args[0])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 223,\nin get_backend\n    obj = get_backend_object(url_string)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 211,\nin get_backend_object\n    raise BackendException(_(\"Could not initialize backend: %s\") %\nstr(sys.exc_info()[1]))\nBackendException: Hintergrundprogramm konnte nicht initialisiert werden:\ncannot import name Gio\n\nRemoving --gio from the command fixes the problem, but since the command is\ncreated by deja-dup I have no idea how to get rid of that option.\n\nA possible solutions I found was that the package python-gi might be\nmissing; it was already installed, and even a\n$ apt install --reinstall python-gi\ndid not help.\nAlso as suggested in Question #664503 I tried installing python-gobject-2 /\npython-gobject-2-dev, which did not help either\n\nMy OS: Ubuntu 16.04.3 LTS\nVersion of duplicity: 0.7.06\nPython 2.7.12\n```","state":"closed","created_at":"2018-02-17T17:29:51.342Z","updated_at":"2022-11-02T16:20:13.235Z","closed_at":"2022-11-02T16:20:13.216Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/590","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/590","notes":"https://gitlab.com/api/v4/projects/12450835/issues/590/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/590/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#590","relative":"#590","full":"duplicity/duplicity#590"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022026,"iid":589,"project_id":12450835,"title":"Faulty OK with failing mega backend (lp:#1745856)","description":"[Original report](https://bugs.launchpad.net/bugs/1745856) created by **Michael (michaelsweden)**\n```\nDuplicity 0.7.16\nMegatools 1.9.97\nXubuntu 16.04.3\n\nI have found some problem while using the mega backend.\n1) Not possible to specify user\n(mega://user.name%40gmail.com@mega.nz/Folder) and FTP_PASSWORD, it always\ntry to use the .megarc file.\n2) Folder at cloud not automatic created.\n3) OK even if mega backend commands fails! MAJOR\n4) This is written in megabackend.py: \"\"\"Connect to remote store using\nMega.co.nz API\"\"\"\n   However it isn't true. The megatools are used.\n5) If no files found in backend -\u003e \"Local and Remote metadata are\nsynchronized, no sync needed.\"\n   How can it be in sync if no files found at one end.\n\nExample:\n\"\n$ PASSPHRASE=\"abc\" duplicity --include '/home/user/folder/**' --exclude\n'**' /home/user mega://mega.nz/Tmp2\nmkdir: Tmp2\nmegals: /Root/Tmp2\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Tmp2\nLast full backup date: none\nNo signatures found, switching to full backup.\nmegarm: duplicity-full.20180127T123518Z.vol1.difftar.gpg\nmegaput: duplicity-full.20180127T123518Z.vol1.difftar.gpg\nmegarm: duplicity-full-signatures.20180127T123518Z.sigtar.gpg\nmegaput: duplicity-full-signatures.20180127T123518Z.sigtar.gpg\nmegarm: duplicity-full.20180127T123518Z.manifest.gpg\nmegaput: duplicity-full.20180127T123518Z.manifest.gpg\nmegals: /Root/Tmp2\n--------------[ Backup Statistics ]--------------\nStartTime 1517056520.00 (Sat Jan 27 13:35:19 2018)\nEndTime 1517056520.57 (Sat Jan 27 13:35:20 2018)\nElapsedTime 0.57 (0.57 seconds)\nSourceFiles 676\nSourceFileSize 11869399 (11.3 MB)\nNewFiles 676\nNewFileSize 11869399 (11.3 MB)\nDeletedFiles 0\nChangedFiles 0\nChangedFileSize 0 (0 bytes)\nChangedDeltaSize 0 (0 bytes)\nDeltaEntries 676\nRawDeltaSize 11599063 (11.1 MB)\nTotalDestinationSizeChange 3335818 (3.18 MB)\nErrors 0\n-------------------------------------------------\n$ echo $?\n0\n\"\n\nNote that all seems to be okay above. However no files have been uploaded\nto the cloud, none!\n\nIt turns out that the megatools is bad. However bugs have been fixed since\nthe version in Ubuntu (1.9.97). This version of the tools always return 0\n(OK). Latest source code doesn't.\n\nSo the biggest problem is the old and bad megatools. However I think\nduplicity should include some kind of check for this major fault. I notice\nduplicity do a _list in backend after put up files. Maybe it could be\npossible to use this answer (list of files) and check that the files that\nwas just uploaded actually is in the list.\n\nHere is a proposal for one quick check that can be added to discover when\nmegatools fails. Check that megals have got an answer from the server. The\n\"/Root\" folder should always be there or the folder that is given as\nargument, if it exist.\n\nI have done some changes in megabackend.py\n\"\n--- duplicity/backends/megabackend.716  2018-01-27 14:02:02.675823111 +0100\n+++ duplicity/backends/megabackend.py   2018-01-27 17:51:07.203823111 +0100\n@ @ -28,7 +28,7@ @\n\n\n class MegaBackend(duplicity.backend.Backend):\n-    \"\"\"Connect to remote store using Mega.co.nz API\"\"\"\n+    \"\"\"Connect to MEGA cloud (mega.nz) using Megatools\"\"\"\n\n     def __init__(self, parsed_url):\n         duplicity.backend.Backend.__init__(self, parsed_url)\n@ @ -128,6 +128,10@ @\n         files = subprocess.check_output(cmd)\n         files = files.strip().split('\\n')\n\n+        # ensure communication with server\n+        if self._folder not in files:\n+            raise BackendException(\"folder '%s' not found or communication\nerror!\" % (self._folder,))\n+\n         # remove the folder name, including the path separator\n         files = [f[len(self._folder) + 1:] for f in files]\n\n@ @ -161,7 +165,12@ @\n             cmd = ['megaput', '-u', self._username, '-p', self._password,\n'--no-progress',\n                    '--path', self._folder + '/' + remote_file, local_file]\n\n-        self.subprocess_popen(cmd)\n+        result = subprocess.check_output(cmd, stderr=subprocess.STDOUT)\n+        result = result.rstrip()\n+        if result:\n+            print (result)\n+        if \"ERROR\" in result:\n+            raise BackendException(\"error from megaput!\")\n\n     def delete(self, remote_file):\n\n\"\n\nNote: It can be discussed if check for \"ERROR\" string should be done or\ncheck for not empty result string. I don't know if all kinds of faults\nprint ERROR.\n\nI have done some tests, here are printouts from failed executions (with my\npatch)...\n\nmegals 1.9.97 fails (this is the same typ of execution as above):\n\"\nmkdir: Test22\nmegals: /Root/Test22\nAttempt 1 failed. BackendException: folder '/Root/Test22' not found or\ncommunication error!\n\"\n\nmegaput 1.9.97 fails:\n\"\nmkdir: Test22\nmegals: /Root/Test22\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Test22\nLast full backup left a partial set, restarting.\nLast full backup date: Sat Jan 27 17:50:51 2018\nRESTART: The first volume failed to upload before termination.\n         Restart is impossible...starting backup from beginning.\nmkdir: Test22\nmegals: /Root/Test22\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Test22\nLast full backup date: none\nNo signatures found, switching to full backup.\nmegarm: duplicity-full.20180128T122438Z.vol1.difftar.gpg\nmegaput: duplicity-full.20180128T122438Z.vol1.difftar.gpg\nERROR: Upload failed for '/tmp/duplicity-UppYZF-tempdir/mktemp-a2MlX5-2':\nParent directory doesn't exist: /Root/Test22\nAttempt 1 failed. BackendException: error from megaput!\n\"\n\nmegals 1.9.98 fails:\n\"\nmkdir: Test22\nmegals: /Root/Test22\nAttempt 1 failed. BackendException: folder '/Root/Test22' not found or\ncommunication error!\n\"\n\nmegaput 1.9.98 fails:\n\"\nmkdir: Test22\nmegals: /Root/Test22\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Test22\nLast full backup left a partial set, restarting.\nLast full backup date: Sun Jan 28 13:24:38 2018\nRESTART: The first volume failed to upload before termination.\n         Restart is impossible...starting backup from beginning.\nmkdir: Test22\nmegals: /Root/Test22\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Test22\nLast full backup date: none\nNo signatures found, switching to full backup.\nmegarm: duplicity-full.20180128T130311Z.vol1.difftar.gpg\nmegaput: duplicity-full.20180128T130311Z.vol1.difftar.gpg\nAttempt 1 failed. CalledProcessError: Command '['megaput', '--config',\n'/home/surf/.megarc', '--no-progress', '--path', '/Root/Test22/duplicity-\nfull.20180128T130311Z.vol1.difftar.gpg', '/tmp/duplicity-94eemj-\ntempdir/mktemp-7Vui_I-2']' returned non-zero exit status 1\n\"\n\nI think both old and new megatools should be supported. However maybe it\ncan depend on which versions will be included in apt repos.\n\nNow I test with duplicity 0.7.16 (without my patch) and newer megatools\n1.9.98:\n\"\nmkdir: Test22\nmegals: /Root/Test22\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Test22\nLast full backup left a partial set, restarting.\nLast full backup date: Sun Jan 28 14:03:11 2018\nRESTART: The first volume failed to upload before termination.\n         Restart is impossible...starting backup from beginning.\nmkdir: Test22\nmegals: /Root/Test22\nLocal and Remote metadata are synchronized, no sync needed.\nmegals: /Root/Test22\nLast full backup date: none\nNo signatures found, switching to full backup.\nmegarm: duplicity-full.20180128T130740Z.vol1.difftar.gpg\nmegaput: duplicity-full.20180128T130740Z.vol1.difftar.gpg\nAttempt 1 failed. BackendException: Error running 'megaput --config\n/home/surf/.megarc --no-progress --path /Root/Test22/duplicity-\nfull.20180128T130740Z.vol1.difftar.gpg /tmp/duplicity-tn9xZW-\ntempdir/mktemp-eXq1NT-2': returned 1, with output:\n\nERROR: Upload failed for '/tmp/duplicity-tn9xZW-tempdir/mktemp-eXq1NT-2':\nParent directory doesn't exist: /Root/Test22\n\"\n\nSo here we actually get an error, however not on megals.\n\nPS. Please excuse me, I'm a C/C++ developer and have never written python\ncode. So I don't feel comfortable doing this. I hope some experianced\npython developer can check this out. Sorry, but I haven't made proposal to\nfix all problems I listed at top.\n\n//Michael\n```","state":"closed","created_at":"2018-01-28T17:54:44.450Z","updated_at":"2022-11-02T16:20:08.716Z","closed_at":"2022-11-02T16:20:08.696Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/589","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/589","notes":"https://gitlab.com/api/v4/projects/12450835/issues/589/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/589/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#589","relative":"#589","full":"duplicity/duplicity#589"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022019,"iid":588,"project_id":12450835,"title":"Patch: add --compression-level option (lp:#1745582)","description":"[Original report](https://bugs.launchpad.net/bugs/1745582) created by **B. Reitsma (breitsma)**\n```\nduplicity-0.7.16\n\nI've created a small patch to make the compression level configurable.\n\n$ diffstat -p1 compression_level.diff\n duplicity/commandline.py |    3 +++\n duplicity/globals.py     |    2 ++\n duplicity/gpg.py         |    2 +-\n 3 files changed, 6 insertions(+), 1 deletion(-)\n```","state":"closed","created_at":"2018-01-26T10:25:04.358Z","updated_at":"2022-11-02T16:20:01.086Z","closed_at":"2022-11-02T16:20:01.064Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/588","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/588","notes":"https://gitlab.com/api/v4/projects/12450835/issues/588/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/588/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#588","relative":"#588","full":"duplicity/duplicity#588"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022016,"iid":587,"project_id":12450835,"title":"Unable to upload data in existing bucket (lp:#1744061)","description":"[Original report](https://bugs.launchpad.net/bugs/1744061) created by **Mislav (mislavorsolic)**\n```\nDuplicity version: 0.7.16\nPython version: 2.7.13\nOS Distro and version: Debian 9\nType of target filesystem: Linux, Windows, other.: AWS S3\nLog output from -v9 option - Include the command line, the first 200 lines\nof the log, and the last 200 lines of the log.\n\nUsing archive dir: /root/.cache/duplicity/5a698764f55901efaa11eacfb96afe00\nUsing backup name: 5a698764f55901efaa11eacfb96afe00\nGPG binary is gpg, version 2.1.18\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nUsing temporary directory /tmp/duplicity-63GCQx-tempdir\nTraceback (innermost last):\n  File \"/usr/local/bin/duplicity\", line 1559, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1545, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1381, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/commandline.py\",\nline 1140, in ProcessCommandLine\n    backup, local_pathname = set_backend(args[0], args[1])\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/commandline.py\",\nline 1015, in set_backend\n    globals.backend = backend.get_backend(bend)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/backend.py\", line\n223, in get_backend\n    obj = get_backend_object(url_string)\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/backend.py\", line\n209, in get_backend_object\n    return factory(pu)\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/backends/_boto_single.py\", line 166, in __init__\n    self.resetConnection()\n  File \"/usr/local/lib/python2.7/dist-\npackages/duplicity/backends/_boto_single.py\", line 191, in resetConnection\n    location=self.my_location)\n  File \"/usr/lib/python2.7/dist-packages/boto/s3/connection.py\", line 620,\nin create_bucket\n    response.status, response.reason, body)\n S3CreateError: S3CreateError: 409 Conflict\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003cError\u003e\u003cCode\u003eBucketAlreadyOwnedByYou\u003c/Code\u003e\u003cMessage\u003eYour previous request\nto create the named bucket succeeded and you already own\nit.\u003c/Message\u003e\u003cBucketName\u003etest-backup-\nstorage\u003c/BucketName\u003e\u003cRequestId\u003e6B34D6B947EB3E1C\u003c/RequestId\u003e\u003cHostId\u003e0W9aKSim3k6b19SJCOObYZVDQ51RjzOH5ElIDV64kw3dGm/jvuQ6R8NVbPFyh4agSu6VL3lsmP8=\u003c/HostId\u003e\u003c/Error\u003e\n\n\nWhy is duplicity trying to create bucket? It already exists. It's located\nin AWS S3 - EU (Frankurt). My line is:\nduplicity --s3-european-buckets --s3-use-new-style /PATH/TO/UPLOAD/\ns3+http://MY-BUCKET-NAME -v9\n\nAm I doing something wrong?\n```","state":"closed","created_at":"2018-01-18T13:16:51.765Z","updated_at":"2022-11-02T16:19:58.231Z","closed_at":"2022-11-02T16:19:58.213Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/587","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/587","notes":"https://gitlab.com/api/v4/projects/12450835/issues/587/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/587/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#587","relative":"#587","full":"duplicity/duplicity#587"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022014,"iid":586,"project_id":12450835,"title":"VerifyHostKeyDNS not used (lp:#1742105)","description":"[Original report](https://bugs.launchpad.net/bugs/1742105) created by **ybovard (ybovard)**\n```\nI try to use the SSHFP resource records. Everything works well with ssh in\ncommandline but duplicity does not seem to take VerifyHostKeyDNS into\naccount:\n# ls -l /root/.ssh/known*\n-rw-r--r--. 1 root root 792 Jun 22  2017 /root/.ssh/known_hosts-old\n\n# cat /etc/ssh/ssh_config\n...\nVerifyHostKeyDNS yes\n...\n\n# ssh user@myserver.mydomain.mytld\nLast login: Tue Jan  9 10:43:03 2018 from xyz\n$\n\n# /bin/duplicity incremental --encrypt-key AAAA --exclude /tmp /\nscp://user@myserver.mydomain.mytld//backup/comal.novalocal\nUsing archive dir: /root/.cache/duplicity/0ae77733cf532410912be8ca70d1f956\nUsing backup name: 0ae77733cf532410912be8ca70d1f956\nGPG binary is gpg, version 2.0.22\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nssh: starting thread (client mode): 0x1d83e90L\nssh: Local version/idstring: SSH-2.0-paramiko_1.16.1\nssh: Remote version/idstring: SSH-2.0-OpenSSH_7.4\nssh: Connected (version 2.0, client OpenSSH_7.4)\nssh: kex algos:[u'curve25519-sha256', u'curve25519-sha256@libssh.org',\nu'ecdh-sha2-nistp256', u'ecdh-sha2-nistp384', u'ecdh-sha2-nistp521',\nu'diffie-hellman-group-exchange-sha256', u'diffie-hellman-group16-sha512',\nu'diffie-hellman-group18-sha512', u'diffie-hellman-group-exchange-sha1',\nu'diffie-hellman-group14-sha256', u'diffie-hellman-group14-sha1', u'diffie-\nhellman-group1-sha1'] server key:[u'ssh-rsa', u'rsa-sha2-512', u'rsa-\nsha2-256', u'ecdsa-sha2-nistp256', u'ssh-ed25519'] client\nencrypt:[u'chacha20-poly1305@openssh.com', u'aes128-ctr', u'aes192-ctr',\nu'aes256-ctr', u'aes128-gcm@openssh.com', u'aes256-gcm@openssh.com',\nu'aes128-cbc', u'aes192-cbc', u'aes256-cbc', u'blowfish-cbc',\nu'cast128-cbc', u'3des-cbc'] server\nencrypt:[u'chacha20-poly1305@openssh.com', u'aes128-ctr', u'aes192-ctr',\nu'aes256-ctr', u'aes128-gcm@openssh.com', u'aes256-gcm@openssh.com',\nu'aes128-cbc', u'aes192-cbc', u'aes256-cbc', u'blowfish-cbc',\nu'cast128-cbc', u'3des-cbc'] client mac:[u'umac-64-etm@openssh.com',\nu'umac-128-etm@openssh.com', u'hmac-sha2-256-etm@openssh.com', u'hmac-\nsha2-512-etm@openssh.com', u'hmac-sha1-etm@openssh.com',\nu'umac-64@openssh.com', u'umac-128@openssh.com', u'hmac-sha2-256', u'hmac-\nsha2-512', u'hmac-sha1'] server mac:[u'umac-64-etm@openssh.com',\nu'umac-128-etm@openssh.com', u'hmac-sha2-256-etm@openssh.com', u'hmac-\nsha2-512-etm@openssh.com', u'hmac-sha1-etm@openssh.com',\nu'umac-64@openssh.com', u'umac-128@openssh.com', u'hmac-sha2-256', u'hmac-\nsha2-512', u'hmac-sha1'] client compress:[u'none', u'zlib@openssh.com']\nserver compress:[u'none', u'zlib@openssh.com'] client lang:[u''] server\nlang:[u''] kex follows?False\nssh: Kex agreed: diffie-hellman-group1-sha1\nssh: Cipher agreed: aes128-ctr\nssh: MAC agreed: hmac-sha2-256\nssh: Compression agreed: none\nssh: kex engine KexGroup1 specified hash_algo \u003cbuilt-in function\nopenssl_sha1\u003e\nssh: Switch to new keys ...\nThe authenticity of host 'myserver.mydomain.mytld' can't be established.\nSSH-RSA key fingerprint is zzzz.\nAre you sure you want to continue connecting (yes/no)?\n\nI am using duplicity 0.7.15 on CentOS Linux 7, with Python 2.7.5\n```","state":"closed","created_at":"2018-01-09T10:17:48.588Z","updated_at":"2022-11-02T16:19:55.330Z","closed_at":"2022-11-02T16:19:55.308Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/586","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/586","notes":"https://gitlab.com/api/v4/projects/12450835/issues/586/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/586/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#586","relative":"#586","full":"duplicity/duplicity#586"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022422,"iid":643,"project_id":12450835,"title":"Giving up after 5 attempts. Error: g-io-error-quark: Error splicing file: Input/output error (0) (lp:#1741458)","description":"[Original report](https://bugs.launchpad.net/bugs/1741458) created by **Marek Wasenczuk (markwasenczuk)**\n```\nGiving up after 5 attempts. Error: g-io-error-quark: Error splicing file:\nInput/output error (0)\n\n**Distro\nUbuntu 18.04.2 LTS\n\n**Versions\ndeja-dup        37.1-2fakesync1ubuntu0.1\nduplicity       0.7.17-0ubuntu1.1\n\n**contents of \"/tmp/deja-dup.gsettings\" after running \"gsettings list-\nrecursively org.gnome.DejaDup \u003e /tmp/deja-dup.gsettings\"\n\norg.gnome.DejaDup last-restore ''\norg.gnome.DejaDup periodic true\norg.gnome.DejaDup periodic-period 7\norg.gnome.DejaDup full-backup-period 90\norg.gnome.DejaDup backend 'drive'\norg.gnome.DejaDup last-run '2019-03-14T01:31:20.860377Z'\norg.gnome.DejaDup nag-check '2019-01-31T01:36:20.855909Z'\norg.gnome.DejaDup prompt-check 'disabled'\norg.gnome.DejaDup root-prompt true\norg.gnome.DejaDup include-list ['$HOME']\norg.gnome.DejaDup exclude-list ['$TRASH', '$DOWNLOAD',\n'/home/(deleted)/Videos', '/home/(deleted)/VirtualBox VMs']\norg.gnome.DejaDup last-backup '2019-03-14T01:31:20.860377Z'\norg.gnome.DejaDup allow-metered false\norg.gnome.DejaDup delete-after 182\norg.gnome.DejaDup.Rackspace username ''\norg.gnome.DejaDup.Rackspace container '(machine name)'\norg.gnome.DejaDup.S3 id ''\norg.gnome.DejaDup.S3 bucket ''\norg.gnome.DejaDup.S3 folder '(machine name)'\norg.gnome.DejaDup.OpenStack authurl ''\norg.gnome.DejaDup.OpenStack tenant ''\norg.gnome.DejaDup.OpenStack username ''\norg.gnome.DejaDup.OpenStack container '(machine name)'\norg.gnome.DejaDup.GCS id ''\norg.gnome.DejaDup.GCS bucket ''\norg.gnome.DejaDup.GCS folder '(machine name)'\norg.gnome.DejaDup.Local folder '(machine name)'\norg.gnome.DejaDup.Remote uri ''\norg.gnome.DejaDup.Remote folder '(machine name)'\norg.gnome.DejaDup.Drive uuid '06FC2D4F6BE45252'\norg.gnome.DejaDup.Drive icon '. GThemedIcon drive-harddisk-usb drive-\nharddisk drive'\norg.gnome.DejaDup.Drive folder 'backup'\norg.gnome.DejaDup.Drive name '250 GB Volume'\norg.gnome.DejaDup.GOA id ''\norg.gnome.DejaDup.GOA folder '(machine name)'\norg.gnome.DejaDup.GOA type ''\norg.gnome.DejaDup.File short-name '250 GB Volume'\norg.gnome.DejaDup.File type 'volume'\norg.gnome.DejaDup.File migrated true\norg.gnome.DejaDup.File name 'Toshiba USB 2.0 Ext. HDD: 250 GB Volume'\norg.gnome.DejaDup.File path 'file:///media/sunye/06FC2D4F6BE45252/backup'\norg.gnome.DejaDup.File uuid '06FC2D4F6BE45252'\norg.gnome.DejaDup.File icon '. GThemedIcon drive-harddisk-usb drive-\nharddisk drive'\norg.gnome.DejaDup.File relpath b'backup'\n\n**Running \"DEJA_DUP_DEBUG=1 deja-dup --backup | tail -n 1000 \u003e /tmp/deja-\ndup.log\" starts the backing up, which terminates with a pop-up window in\nwhich it reads:\n\nBackup Failed\nFailed with an unknown error.\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1555, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1541, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1393, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1522, in do_backup\n    check_last_manifest(col_stats)  # not needed for full backup\n  File \"/usr/bin/duplicity\", line 1227, in check_last_manifest\n    last_backup_set.check_manifests()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/collections.py\", line\n201, in check_manifests\n    remote_manifest = self.get_remote_manifest()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/collections.py\", line\n235, in get_remote_manifest\n    manifest_buffer = self.backend.get_data(self.remote_manifest_name)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 684,\nin get_data\n    fin = self.get_fileobj_read(filename, parseresults)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 676,\nin get_fileobj_read\n    self.get(filename, tdp)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 395,\nin inner_retry\n    % (n, e.__class__.__name__, util.uexc(e)))\n  File \"/usr/lib/python2.7/dist-packages/duplicity/util.py\", line 79, in\nuexc\n    return ufn(unicode(e).encode('utf-8'))\n UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 58:\nordinal not in range(128)\n\n**The contents of the file \"/tmp/deja-dup.log\" omitted because space\nlimitations\n```","state":"closed","created_at":"2018-01-05T11:12:05.987Z","updated_at":"2022-11-02T16:40:31.449Z","closed_at":"2022-11-02T16:26:41.234Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::duplicate"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/643","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":44,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/643","notes":"https://gitlab.com/api/v4/projects/12450835/issues/643/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/643/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#643","relative":"#643","full":"duplicity/duplicity#643"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022011,"iid":585,"project_id":12450835,"title":"It should batch-unfreeze glacier S3 objects to speed up restorations (lp:#1740833)","description":"[Original report](https://bugs.launchpad.net/bugs/1740833) created by **Yajo (yajo)**\n```\nScenario: Duplicity is configured with S3 backend, S3 is configured to move\nobjects to Glacier storage after 1 week, full backups are stored every\nSunday, partial backups happen once each night, today is Friday, the user\nwants to restore a backup from last week's Wednesday.\n\nUser executes `duplicity [options] restore s3://bucket/folder /local/folder\n--time 9D`.\n\nWhat happens: The backup takes about 2-4 days to restore.\n\nWhat should happen: The backup should take about 5-12h to restore.\n\nWhy it happens: Duplicity unfreezes (move from Glacier to Standard S3\nstorage mode) archives automatically (cool) one by one (not cool).\nUnfreezing one archive can take usually 5-12h. Assuming you need to\nunfreeze files from 4 days to get the full chain, that gives you a 20-48h\nminimum wait, unless files are split into i.e. 200MB chunks, which can\nproduce more objects to unfreeze, summing extra 5-12h each.\n\nWhy it should not happen: If you go into S3 Management Console, you can\nmanually select as many Glacier files as you want and unfreeze them all at\nonce, having to wait those 5-12h, yes, but just once for all of them.\nDuplicity should do that automatically through Boto too.\n\nThanks!\n```","state":"closed","created_at":"2018-01-02T09:20:18.684Z","updated_at":"2022-11-02T16:19:52.034Z","closed_at":"2022-11-02T16:19:52.009Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/585","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/585","notes":"https://gitlab.com/api/v4/projects/12450835/issues/585/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/585/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#585","relative":"#585","full":"duplicity/duplicity#585"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022007,"iid":584,"project_id":12450835,"title":"KeyError: 56 (lp:#1731631)","description":"[Original report](https://bugs.launchpad.net/bugs/1731631) created by **Kenneth Loafman (kenneth-loafman)**\n```\nLast run of Deja-dup has ended up with the following error:\n\nTraceback (innermost last):\n  File \"/usr/bin/duplicity\", line 1559, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1545, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1394, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1473, in do_backup\n    restore(col_stats)\n  File \"/usr/bin/duplicity\", line 729, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 558,\nin Write_ROPaths\n    for ropath in rop_iter:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 521,\nin integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 389,\nin yield_tuples\n    setrorps(overflow, elems)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 378,\nin setrorps\n    elems[i] = iter_list[i].next()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 107,\nin filter_path_iter\n    for path in path_iter:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 121,\nin difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 339,\nin next\n    self.set_tarfile()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 333,\nin set_tarfile\n    self.current_fp = self.fileobj_iter.next()\n  File \"/usr/bin/duplicity\", line 765, in get_fileobj_iter\n    backup_set.volume_name_dict[vol_num],\n KeyError: 56\n\nThis is with 0.7.14+bzr1336-0ubuntu3~ubuntu17.10.1.\n```\nOriginal tags: artful","state":"closed","created_at":"2017-11-11T14:18:09.392Z","updated_at":"2022-11-02T16:19:48.762Z","closed_at":"2022-11-02T16:19:48.744Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/584","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/584","notes":"https://gitlab.com/api/v4/projects/12450835/issues/584/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/584/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#584","relative":"#584","full":"duplicity/duplicity#584"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022004,"iid":583,"project_id":12450835,"title":"Support for enterprise OneDrive (lp:#1729689)","description":"[Original report](https://bugs.launchpad.net/bugs/1729689) created by **Cysioland (cysioland)**\n```\nCurrently only \"mainstream\" OneDrive is supported, there's no native way to\naccess sharepoint.com storage.\n\nSome info that may be useful on tackling that:\nhttps://micreabog.wordpress.com/2017/02/24/using-duplicity-with-microsoft-\nsharepointonedrive-for-business/\n```\nOriginal tags: microsoft office365 onedrive sharepoint wishlist","state":"closed","created_at":"2017-11-02T20:24:57.043Z","updated_at":"2022-11-02T16:19:45.758Z","closed_at":"2022-11-02T16:19:45.737Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/583","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/583","notes":"https://gitlab.com/api/v4/projects/12450835/issues/583/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/583/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#583","relative":"#583","full":"duplicity/duplicity#583"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022350,"iid":642,"project_id":12450835,"title":"Backup fails with ReadError(\"raise ReadError(\"unexpected end of data\") (lp:#1725829)","description":"[Original report](https://bugs.launchpad.net/bugs/1725829) created by **Bharat Mediratta (bharat-menalto)**\n```\nHey team. I've been using duplicity and duply for about a year now with few\nproblems. I recently upgraded my Debian system (I can probably find out the\nexact upgrade details if you need to know) and duplicity started crashing.\nYou can see the full trace below.\n\nAs far as I can tell, it's attempting to convert an incomplete tarfile into\na GPG version. I've paused the code at that point and verified that if I do\na \"tar tzvf\" on the input tar file, it returns an EOF error.\n\nNote that I modified /usr/lib/python2.7/tarfile.py to add slightly more\ndetail to the exception for debugging, but otherwise the code is unchanged.\n\nI'm going to continue to debug independently, but if you can point me at\nsome things to try that would help me. Happy to run whatever diagnostics\nwill help narrow this down.\n\nOS INFO\n-------\nLinux fidelity 4.9.0-1-686-pae #1 SMP Debian 4.9.6-3 (2017-01-28) i686\nGNU/Linux\n\nPACKAGE INFO\n------------\nii  duplicity                   0.7.12-1           i386\nencrypted bandwidth-efficient backup\nii  duply                       1.11.3-1           all                easy\nto use frontend to the duplicity backup system\n\nOUTPUT FROM A RUN\n-----------------\n# TMPDIR='/tmp' PASSPHRASE='[ELIDED]' FTP_PASSWORD='[ELIDED]' trickle -s -u\n1500 -d 5120 duplicity --archive-dir '/var/cache/duply' --name\nduply_backups --verbosity '9' --volsize 1024 --full-if-older-than 3M\n--asynchronous-upload --tempdir /var/cache/duply --exclude-filelist\n'/etc/duply/backups/exclude' '/' 's3://[ELIDED]'\ngpg: WARNING: unsafe ownership on homedir '/home/bharat/.gnupg'\nUsing archive dir: /var/cache/duply/duply_backups\nUsing backup name: duply_backups\nGPG binary is gpg, version 2.1.18\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.copycombackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nReading globbing filelist /etc/duply/backups/exclude\nMain action: inc\n================================================================================\nduplicity 0.7.12 (March 21, 2017)\nArgs: /usr/bin/duplicity --archive-dir /var/cache/duply --name\nduply_backups --verbosity 9 --volsize 1024 --full-if-older-than 3M\n--asynchronous-upload --tempdir /var/cache/duply --exclude-filelist\n/etc/duply/backups/exclude / s3://AKIAIFBSC2GRGO7KR5DQ@s3-eu-\ncentral-1.amazonaws.com/menalto.backups/fidelity\nLinux fidelity 4.9.0-1-686-pae #1 SMP Debian 4.9.6-3 (2017-01-28) i686\n/usr/bin/python 2.7.13 (default, Jan 19 2017, 14:48:08)\n[GCC 6.3.0 20170118]\n================================================================================\nUsing temporary directory /var/cache/duply/duplicity-A4Cxl1-tempdir\nRegistering (mkstemp) temporary file\n/var/cache/duply/duplicity-A4Cxl1-tempdir/mkstemp-tQT0KF-1\nTemp has 172445667328 available, backup will use approx 2469606195.\n\n....\n\nComparing usr/lib/i386-linux-gnu/samba/libcliauth.so.0 and\nusr/lib/i386-linux-gnu/samba/libcliauth.so.0\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libcluster.so.0\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libcluster.so.0\n\u003cTarInfo 'signature/usr/lib/i386-linux-gnu/samba/libcluster.so.0' at\n0xa6075dac\u003e\nComparing usr/lib/i386-linux-gnu/samba/libcluster.so.0 and\nusr/lib/i386-linux-gnu/samba/libcluster.so.0\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libcmdline-\ncredentials.so.0\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libcmdline-credentials.so.0\n\u003cTarInfo 'signature/usr/lib/i386-linux-gnu/samba/libcmdline-\ncredentials.so.0' at 0xa607598c\u003e\nComparing usr/lib/i386-linux-gnu/samba/libcmdline-credentials.so.0 and\nusr/lib/i386-linux-gnu/samba/libcmdline-credentials.so.0\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libcom_err-\nsamba4.so.0\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0\n\u003cTarInfo 'snapshot/usr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0' at\n0xa607570c\u003e\nComparing usr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0 and\nusr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libcom_err-\nsamba4.so.0.25\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0.25\n\u003cTarInfo 'signature/usr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0.25'\nat 0xa607540c\u003e\nComparing usr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0.25 and\nusr/lib/i386-linux-gnu/samba/libcom_err-samba4.so.0.25\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libdbwrap.so.0\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libdbwrap.so.0\n\u003cTarInfo 'signature/usr/lib/i386-linux-gnu/samba/libdbwrap.so.0' at\n0xa6075a6c\u003e\nComparing usr/lib/i386-linux-gnu/samba/libdbwrap.so.0 and\nusr/lib/i386-linux-gnu/samba/libdbwrap.so.0\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libdcerpc-\nsamba.so.0\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libdcerpc-samba.so.0\n\u003cTarInfo 'signature/usr/lib/i386-linux-gnu/samba/libdcerpc-samba.so.0' at\n0xa6075b6c\u003e\nComparing usr/lib/i386-linux-gnu/samba/libdcerpc-samba.so.0 and\nusr/lib/i386-linux-gnu/samba/libdcerpc-samba.so.0\nSelection: examining path /usr/lib/i386-linux-gnu/samba/libdcerpc-\nsamba4.so.0\nSelection:     result: None from function: Command-line exclude glob: /dev\nSelection:     result: None from function: Command-line exclude glob: /tmp\nSelection:     result: None from function: Command-line exclude glob: /proc\nSelection:     result: None from function: Command-line exclude glob: /sys\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/apt-xapian-index\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/clamav/daily.cld\nSelection:     result: None from function: Command-line exclude glob:\n/var/lib/mlocate\nSelection:     result: None from function: Command-line exclude glob:\n/var/cache/apt\nSelection:     result: None from function: Command-line exclude glob:\n/home/duply\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/unifi.vdi\nSelection:     result: None from function: Command-line exclude glob:\n/home/virtualbox/VMs/unifi/Snapshots\nSelection:     + including file\nSelecting /usr/lib/i386-linux-gnu/samba/libdcerpc-samba4.so.0\nReleasing lockfile /var/cache/duply/duply_backups/lockfile.lock\nRemoving still remembered temporary file\n/var/cache/duply/duplicity-A4Cxl1-tempdir/mktemp-_tMnye-4\nRemoving still remembered temporary file\n/var/cache/duply/duplicity-A4Cxl1-tempdir/mkstemp-tQT0KF-1\nRemoving still remembered temporary file\n/var/cache/duply/duplicity-A4Cxl1-tempdir/mktemp-t8lgqC-3\nTraceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1553, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1547, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1398, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1529, in do_backup\n    incremental_backup(sig_chain)\n  File \"/usr/bin/duplicity\", line 678, in incremental_backup\n    globals.backend)\n  File \"/usr/bin/duplicity\", line 439, in write_multivol\n    globals.volsize)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/gpg.py\", line 360, in\nGPGWriteFile\n    data = block_iter.next().data\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 523,\nin next\n    result = self.process(self.input_iter.next())\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 195,\nin get_delta_iter\n    for new_path, sig_path in collated:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 286,\nin collate2iters\n    relem2 = riter2.next()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 354,\nin combine_path_iters\n    refresh_triple_list(triple_list)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 341,\nin refresh_triple_list\n    new_triple = get_triple(old_triple[1])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 327,\nin get_triple\n    path = path_iter_list[iter_index].next()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/diffdir.py\", line 239,\nin sigtar2path_iter\n    for tarinfo in tf:\n  File \"/usr/lib/python2.7/tarfile.py\", line 2511, in next\n    tarinfo = self.tarfile.next()\n  File \"/usr/lib/python2.7/tarfile.py\", line 2352, in next\n    raise ReadError(\"unexpected end of data in %s at offset %d\" %\n(self.name, self.offset - 1))\nReadError: unexpected end of data in /usr/lib/python2.7/dist-\npackages/duplicity/arbitrary at offset 2388667391\n```","state":"closed","created_at":"2017-10-21T20:55:17.402Z","updated_at":"2022-11-02T16:40:31.051Z","closed_at":"2022-11-02T16:26:10.132Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::duplicate"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":15,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/642","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":18,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/642","notes":"https://gitlab.com/api/v4/projects/12450835/issues/642/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/642/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#642","relative":"#642","full":"duplicity/duplicity#642"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118022003,"iid":582,"project_id":12450835,"title":"pyrax deprecated (lp:#1723894)","description":"[Original report](https://bugs.launchpad.net/bugs/1723894) created by **Alexandre ZANNI (shark-oxi)**\n```\nRackspace has deprecated pyrax (https://github.com/rackspace/pyrax/) in\nfavor of openstacksdk (https://pypi.python.org/pypi/openstacksdk) and\nrackspacesdk (https://pypi.python.org/pypi/rackspacesdk).\n\nref: \"python-cloudfiles deprecated\"\nhttps://bugs.launchpad.net/duplicity/+bug/1179322\n```","state":"closed","created_at":"2017-10-16T09:10:47.205Z","updated_at":"2022-11-08T13:15:20.359Z","closed_at":"2022-11-02T16:19:43.006Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/582","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/582","notes":"https://gitlab.com/api/v4/projects/12450835/issues/582/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/582/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#582","relative":"#582","full":"duplicity/duplicity#582"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021996,"iid":581,"project_id":12450835,"title":"Backup from LVM snapshot fail without error stats / exit code (lp:#1722203)","description":"[Original report](https://bugs.launchpad.net/bugs/1722203) created by **Bouke (bouke-haarsma)**\n```\nWe're using duplicity to create backups of an LVM volume by creating a\nsnapshot. However we found that when a snapshot exceeds the allotted disk\nspace and the volume is forcefully unmounted, that duplicity handles this\nrather unfortunately.\n\nActual results:\n* Some errors will be logged on stdout\n* Exit code is 0\n* Backup statistics shows 0 errors\n\nExpected results:\n* Errors will be logged on stderr\n* Exit code is != 0\n* Backup statistics shows \u003e0 errors\n\nOur setup / problem:\n* LVM disk with XFS file system\n* LVM snapshot of that disk, mounted\n* Duplicity backing up from the mounted snapshot\n* LVM snapshot might get invalidated before backup finishes if there's a\nlot of disk activity\n* LVM will force unmount the snapshot once it is invalidated\n\nOutput:\n```stdout\n$ duplicity ...; echo $?\nLocal and Remote metadata are synchronized, no sync needed.\nLast full backup date: Wed Sep 27 16:01:06 2017\nError [Errno 5] Input/output error getting delta for /XXX-\nbackup/data/local/collection-12--2763165517992512287.wt\nError [Errno 5] Input/output error getting delta for /XXX-\nbackup/data/local/collection-12--2763165517992512287.wt\n--------------[ Backup Statistics ]--------------\nStartTime 1507540632.42 (Mon Oct  9 11:17:12 2017)\nEndTime 1507540788.59 (Mon Oct  9 11:19:48 2017)\nElapsedTime 156.17 (2 minutes 36.17 seconds)\nSourceFiles 555\nSourceFileSize 27970866720 (26.0 GB)\nNewFiles 35\nNewFileSize 14705246318 (13.7 GB)\nDeletedFiles 0\nChangedFiles 45\nChangedFileSize 11136098320 (10.4 GB)\nChangedDeltaSize 0 (0 bytes)\nDeltaEntries 80\nRawDeltaSize 5603945441 (5.22 GB)\nTotalDestinationSizeChange 2668791306 (2.49 GB)\nErrors 0\n-------------------------------------------------\n0\n```\n\nSteps to reproduce:\n```\n$ lvcreate -l100M --name backup --snapshot VG/LV\n$ mount -o nouuid VG/backup /backup\n$ duplicity /backup ... \u0026\n$ dd if=/dev/zero of=/backup/zeroes bs=1M count=101\n```\n\nDuplicity: 0.7.13.1\nPython: 2.7.5\nOS: CentOS Linux release 7.3.1611 (Core)\nFilesystem: XFS / LVM snapshot\n```","state":"closed","created_at":"2017-10-09T10:02:37.060Z","updated_at":"2022-11-02T16:19:36.762Z","closed_at":"2022-11-02T16:19:36.687Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/581","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/581","notes":"https://gitlab.com/api/v4/projects/12450835/issues/581/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/581/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#581","relative":"#581","full":"duplicity/duplicity#581"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021988,"iid":580,"project_id":12450835,"title":"I'm not sure if this is a error or my script mistake (lp:#1721535)","description":"[Original report](https://bugs.launchpad.net/bugs/1721535) created by **Bruno (brunooliveira1)**\n```\nI try to make a backup using command syntax\n/usr/local/bin/duplicity full-if-older-than 1M / --encrypt-key=gpgkey\n--asynchronous-upload file:///backup\nOs metadados remotos e locais estÃ£o sincronizados; nenhuma sincronizaÃ§Ã£o Ã©\nnecessÃ¡ria.\nData da Ãºltima cÃ³pia de seguranÃ§a completa: Thu Sep 14 21:05:58 2017\nTraceback (most recent call last):\n  File \"/usr/local/bin/duplicity\", line 1548, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1534, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1383, in main\n    do_backup(action)\n  File \"/usr/local/bin/duplicity\", line 1515, in do_backup\n    check_last_manifest(col_stats)  # not needed for full backup\n  File \"/usr/local/bin/duplicity\", line 1217, in check_last_manifest\n    last_backup_set.check_manifests()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/collections.py\",\nline 208, in check_manifests\n    remote_manifest = self.get_remote_manifest()\n  File \"/usr/local/lib/python2.7/dist-packages/duplicity/collections.py\",\nline 244, in get_remote_manifest\n    (self.remote_manifest_name, str(message)))\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xfa' in\nposition 169: ordinal not in range(128)\n```\nOriginal tags: backup incremental","state":"closed","created_at":"2017-10-05T12:28:09.594Z","updated_at":"2022-11-02T16:19:28.119Z","closed_at":"2022-11-02T16:19:28.082Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/580","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/580","notes":"https://gitlab.com/api/v4/projects/12450835/issues/580/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/580/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#580","relative":"#580","full":"duplicity/duplicity#580"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021964,"iid":579,"project_id":12450835,"title":"duplicity 0.7.14 occasionally looping when backup up to swift object store (lp:#1715280)","description":"[Original report](https://bugs.launchpad.net/bugs/1715280) created by **Doug (caniwi)**\n```\nRunning duplicity 0.7.14 on Ubuntu 14.04 with Python 2.7.6.  From time to\ntime, duplicity goes into a loop.  This behaviour also occurred on\nduplicity 0.7.13.\n\nAn strace on the task shows the following:\ndev-sugar-combined00:~# ps aux |grep dup\nroot     15328  0.0  0.0  11760  2072 pts/1    S+   14:05   0:00 grep dup\nroot     24704  0.0  0.0   4460   796 ?        Ss   Sep01   0:00 /bin/sh -c\n/usr/local/bin/duplicity_backup.sh chensi7_mysql_sgr_chensi7 \u003e\u003e\n/var/log/backup/chensi7_mysql_sgr_chensi7.log 2\u003e\u00261\nroot     24708  0.0  0.0  12476  2892 ?        S    Sep01   0:00 /bin/bash\n/usr/local/bin/duplicity_backup.sh chensi7_mysql_sgr_chensi7\nroot     24836  0.3  0.3 223624 30632 ?        S    Sep01  28:02\n/usr/bin/python /usr/bin/duplicity --verbosity Notice --full-if-older-than\n7D --num-retries 3 --asynchronous-upload --no-encryption --volsize 512\n/var/opt/backups/sgr_chensi7 swift://dev-sugar-combined00.cloudtech.co.nz-\nchensi7_mysql_sgr_chensi7\ndev-sugar-combined00:~# strace -p 24836\nProcess 24836 attached\nselect(0, NULL, NULL, NULL, {0, 23735}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 36067}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 1000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 2000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 4000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 8000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 16000}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 32000}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 35575}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 1000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 2000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 4000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 8000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 16000}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 32000}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 35583}) = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 1000})  = 0 (Timeout)\nselect(0, NULL, NULL, NULL, {0, 2000})  = 0 (Timeout)\n```","state":"closed","created_at":"2017-09-06T02:41:06.227Z","updated_at":"2022-11-02T16:40:25.245Z","closed_at":"2022-11-02T16:19:06.326Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":5,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/579","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/579","notes":"https://gitlab.com/api/v4/projects/12450835/issues/579/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/579/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#579","relative":"#579","full":"duplicity/duplicity#579"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021952,"iid":578,"project_id":12450835,"title":"Document exit codes in man page (lp:#1714664)","description":"[Original report](https://bugs.launchpad.net/bugs/1714664) created by **Maxxer (lorenzo-milesi)**\n```\nPlease document duplicity exit codes in the man page\n```","state":"closed","created_at":"2017-09-02T11:51:50.262Z","updated_at":"2022-11-02T16:19:02.719Z","closed_at":"2022-11-02T16:19:02.697Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/578","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/578","notes":"https://gitlab.com/api/v4/projects/12450835/issues/578/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/578/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#578","relative":"#578","full":"duplicity/duplicity#578"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021934,"iid":577,"project_id":12450835,"title":"Asks 2 or 4 times for the same GnuPG passphrase even if there is no passphrase (lp:#1714662)","description":"[Original report](https://bugs.launchpad.net/bugs/1714662) created by **Valentin Stoykov (vstoykovbg)**\n```\nWhen I run duplicity with a sign key like this:\n\n    $ duplicity --encrypt-sign-key B0ED3B59 data file:///tmp/backup1\n\nit asks for a passphrase two times:\n\n    GnuPG passphrase:\n    GnuPG passphrase for signing key:\n\n\nThere is only one passphrase for this key and this should be obvious for\nthe duplicity.\n\nWhen I add `--use-agent` it asks 4 times for a passphrase using the agent:\n\n    $ duplicity --encrypt-sign-key B0ED3B59 data file:///tmp/backup --use-\nagent\n\n\nI tested it with GnuPG key with no passphrase and it still asks for a\npassphrase (expected: duplicity should 'see' that there is no passphrase\nfor the key and don't ask for it at all).\n\nAlso, it asks 3 times for the same (empty string) passphrase when doing\nincremental backup:\n\n\n\n\n    valentin@computer:~/tmp$ duplicity --encrypt-sign-key FC7C18370CED0054\ndata file:///tmp/backup\n    Local and Remote metadata are synchronized, no sync needed.\n    Last full backup date: none\n    GnuPG passphrase:\n    GnuPG passphrase for signing key:\n    No signatures found, switching to full backup.\n    --------------[ Backup Statistics ]--------------\n    StartTime 1504350184.04 (Sat Sep  2 14:03:04 2017)\n    EndTime 1504350184.19 (Sat Sep  2 14:03:04 2017)\n    ElapsedTime 0.16 (0.16 seconds)\n    SourceFiles 4\n    SourceFileSize 2202707 (2.10 MB)\n    NewFiles 4\n    NewFileSize 2202707 (2.10 MB)\n    DeletedFiles 0\n    ChangedFiles 0\n    ChangedFileSize 0 (0 bytes)\n    ChangedDeltaSize 0 (0 bytes)\n    DeltaEntries 4\n    RawDeltaSize 2202702 (2.10 MB)\n    TotalDestinationSizeChange 2207411 (2.11 MB)\n    Errors 0\n    -------------------------------------------------\n\n    valentin@computer:~/tmp$ echo test \u003e data/test.txt\n    valentin@computer:~/tmp$ duplicity --encrypt-sign-key FC7C18370CED0054\ndata file:///tmp/backup\n    Local and Remote metadata are synchronized, no sync needed.\n    Last full backup date: Sat Sep  2 14:03:01 2017\n    GnuPG passphrase:\n    GnuPG passphrase for signing key:\n    GnuPG passphrase:\n    --------------[ Backup Statistics ]--------------\n    StartTime 1504350192.78 (Sat Sep  2 14:03:12 2017)\n    EndTime 1504350192.79 (Sat Sep  2 14:03:12 2017)\n    ElapsedTime 0.01 (0.01 seconds)\n    SourceFiles 5\n    SourceFileSize 2202713 (2.10 MB)\n    NewFiles 2\n    NewFileSize 11 (11 bytes)\n    DeletedFiles 0\n    ChangedFiles 0\n    ChangedFileSize 0 (0 bytes)\n    ChangedDeltaSize 0 (0 bytes)\n    DeltaEntries 2\n    RawDeltaSize 5 (5 bytes)\n    TotalDestinationSizeChange 1356 (1.32 KB)\n    Errors 0\n\n\n\nSoftware version:\n\nvalentin@computer:~$ duplicity --version\nduplicity 0.7.14\nvalentin@computer:~$ cat /proc/version\nLinux version 4.4.0-93-generic (buildd@lgw01-03) (gcc version 5.4.0\n20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) ) #116-Ubuntu SMP Fri Aug 11\n21:17:51 UTC 2017\nvalentin@computer:~$ cat /etc/os-release\nNAME=\"Ubuntu\"\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\nVERSION_ID=\"16.04\"\nHOME_URL=\"http://www.ubuntu.com/\"\nSUPPORT_URL=\"http://help.ubuntu.com/\"\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\nVERSION_CODENAME=xenial\nUBUNTU_CODENAME=xenial\nvalentin@computer:~$ python --version\nPython 2.7.12\nvalentin@computer:~$\n```\nOriginal tags: gnupg passphrase","state":"closed","created_at":"2017-09-02T11:17:24.502Z","updated_at":"2022-11-02T16:18:51.292Z","closed_at":"2022-11-02T16:18:51.272Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":6,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/577","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/577","notes":"https://gitlab.com/api/v4/projects/12450835/issues/577/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/577/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#577","relative":"#577","full":"duplicity/duplicity#577"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021931,"iid":576,"project_id":12450835,"title":"Boto backend makes wrong assumption about Glacier class (lp:#1713369)","description":"[Original report](https://bugs.launchpad.net/bugs/1713369) created by **Martin (martin3000)**\n```\nThe code in _boto_single.py in function pre_process_download assumes that\nan S3 object must not be in storage class \"Glacier\" to be downloaded. This\nis not correct. S3 objects in Glacier can be downloaded after a restore has\nbeen triggered and when the retoration-expire-date is available. This means\nthat there is a temporary copy which and be downloaded.\n\nFurthermore, pre_process_download is called first from sync_archive and\nlater from copy_to_local, so it must be avoided to trigger the restore two\ntimes.\n\nMy version looks like this:\n\n    def pre_process_download(self, remote_filename, wait=False):\n        # Used primarily to restore files in Glacier\n        key_name = self.key_prefix + remote_filename\n        if not self._listed_keys.get(key_name, False):\n            self._listed_keys[key_name] =\nlist(self.bucket.list(key_name))[0]\n        key = self._listed_keys[key_name]\n        key2 = self.bucket.get_key(key.key)\n\n        if key2.storage_class == \"GLACIER\":\n            if not key2.expiry_date: # no temp copy avail\n                if not key2.ongoing_restore:\n                    log.Info(\"File %s is in Glacier storage, restoring\" %\nremote_filename)\n                    key.restore(days=2)  # we need the copy for 2 days\n                if wait:\n                    log.Info(\"Waiting for file %s to restore in Glacier\" %\nremote_filename)\n                    while not self.bucket.get_key(key.key).expiry_date:\n                       time.sleep(60)\n                       self.resetConnection()\n                    log.Info(\"File %s was successfully restored in Glacier\"\n% remote_filename)\n```\nOriginal tags: backend boto glacier restore","state":"closed","created_at":"2017-08-27T21:19:55.649Z","updated_at":"2022-11-02T16:18:43.384Z","closed_at":"2022-11-02T16:18:43.353Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/576","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/576","notes":"https://gitlab.com/api/v4/projects/12450835/issues/576/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/576/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#576","relative":"#576","full":"duplicity/duplicity#576"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021926,"iid":575,"project_id":12450835,"title":"Calling pre_process_download does not work (lp:#1713367)","description":"[Original report](https://bugs.launchpad.net/bugs/1713367) created by **Martin (martin3000)**\n```\nDuplicity Version 0.7.06 on Linux\n\nIn function sync_archive of duplicity at line 1185 I find the following\ncode:\n\n            if hasattr(globals.backend, 'pre_process_download'):\n                globals.backend.pre_process_download(local_missing)\n            for fn in local_missing:\n                copy_to_local(fn)\n\nBefore copy_to_local, some preprocessing should be made. In case of Amazon\nS3 (boto) this should restore objects from Glacier. But \"globals.backend\"\npoint to the backend wrapper so the condition if hasattr(globals.backend,\n'pre_process_download') is never true. It must be globals.backend.backend.\n\nWhen calling pre_process_download the argument is \"local_missing\" which is\na list. But _boto_single.py expects a single filename as the argument for\npre_process_download.\n\nI would change this to:\n\n            if hasattr(globals.backend.backend, 'pre_process_download'):\n                for fn in local_missing:\nglobals.backend.backend.pre_process_download(fn,wait=False) # restore from\nS3\n            for fn in local_missing:\n                copy_to_local(fn)\n\nSame issue in function restore_get_patched_rop_iter.\n```\nOriginal tags: boto glacier s3","state":"closed","created_at":"2017-08-27T20:53:16.363Z","updated_at":"2022-11-02T16:18:40.416Z","closed_at":"2022-11-02T16:18:40.396Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/575","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/575","notes":"https://gitlab.com/api/v4/projects/12450835/issues/575/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/575/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#575","relative":"#575","full":"duplicity/duplicity#575"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021924,"iid":574,"project_id":12450835,"title":"\"\u003ctarget_folder\u003e\" for restore action is new name for restored file, and not the target folder (lp:#1708501)","description":"[Original report](https://bugs.launchpad.net/bugs/1708501) created by **ardabro (ardabro)**\n```\nv: 7.11\n\n\u003e mkdir restore\n\u003e ls -l\ntotal 0\ndrwxr-xr-x 1 user users 0 Aug  3 19:23 restore\n\u003e\n\u003e duplicity restore --file-to-restore=\"user/file.txt\"\nfile:///mnt/backup/duplicity ./restore/\nLocal and Remote metadata are synchronized, no sync needed.\nLast full backup date: Thu Aug  3 00:28:09 2017\nGnuPG passphrase for decryption:\n\u003e\n\u003e ls -l\ntotal 32\n-rw-r--r-- 1 user users 20749 Jan 13  2016 restore\n\nIt deletes target folder (\"restore\") and renames extracted file to its\nname!\nThere is no way to extract specific file with its original name to\narbitrary location.\n```","state":"closed","created_at":"2017-08-03T17:34:43.957Z","updated_at":"2022-11-02T16:18:37.084Z","closed_at":"2022-11-02T16:18:37.060Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/574","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/574","notes":"https://gitlab.com/api/v4/projects/12450835/issues/574/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/574/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#574","relative":"#574","full":"duplicity/duplicity#574"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019411,"iid":307,"project_id":12450835,"title":"AssertionError when one volume has been non-destructively decompressed (lp:#1708286)","description":"[Original report](https://bugs.launchpad.net/bugs/1708286) created by **Tim Waugh (twaugh)**\n```\nWhen one volume of a backup repository has been decompressed (perhaps by an\nover-eager file manager application when a curious user has double-clicked\non a compressed volume), leaving the original compressed file in place,\nduplicity raises an AssertionError when asked to operate on that\ncollection.\n\nExample:\n\n$ cd /tmp\n$ mkdir source backup\n$ touch source/foo\n$ duplicity full --no-encryption /tmp/source file:///tmp/backup/\nLocal and Remote metadata are synchronized, no sync needed.\nLast full backup date: none\n--------------[ Backup Statistics ]--------------\nStartTime 1501707218.27 (Wed Aug  2 21:53:38 2017)\nEndTime 1501707218.27 (Wed Aug  2 21:53:38 2017)\nElapsedTime 0.00 (0.00 seconds)\nSourceFiles 2\nSourceFileSize 60 (60 bytes)\nNewFiles 2\nNewFileSize 60 (60 bytes)\nDeletedFiles 0\nChangedFiles 0\nChangedFileSize 0 (0 bytes)\nChangedDeltaSize 0 (0 bytes)\nDeltaEntries 2\nRawDeltaSize 0 (0 bytes)\nTotalDestinationSizeChange 127 (127 bytes)\nErrors 0\n-------------------------------------------------\n\n$ FILE=$(echo backup/duplicity-full.*.vol1.difftar.gz)\n$ gunzip -c \"$FILE\" \u003e \"${FILE%.gz}\"\n$ ls backup | cat\nduplicity-full.20170802T205426Z.manifest\nduplicity-full.20170802T205426Z.vol1.difftar\nduplicity-full.20170802T205426Z.vol1.difftar.gz\nduplicity-full-signatures.20170802T205426Z.sigtar.gz\n$ duplicity collection-status file:///tmp/backup\nSynchronising remote metadata to local cache...\nCopying duplicity-full-signatures.20170802T205426Z.sigtar.gz to local\ncache.\nCopying duplicity-full.20170802T205426Z.manifest to local cache.\nTraceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1540, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1534, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1385, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1410, in do_backup\n    globals.archive_dir).set_values()\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n710, in set_values\n    self.get_backup_chains(partials + backend_filename_list)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n836, in get_backup_chains\n    add_to_sets(f)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n824, in add_to_sets\n    if set.add_filename(filename):\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n105, in add_filename\n    (self.volume_name_dict, filename)\nAssertionError: ({1: 'duplicity-full.20170802T205426Z.vol1.difftar'},\n'duplicity-full.20170802T205426Z.vol1.difftar.gz')\n\n$ rpm -q duplicity\nduplicity-0.7.13.1-1.fc26.x86_64\n$ sed 1q /usr/bin/duplicity\n#!/usr/bin/env python2\n$ type python2\npython2 is /usr/bin/python2\n$ rpm -qf /usr/bin/python2\npython2-2.7.13-11.fc26.x86_64\n\n\nFull -v9 output:\n\nUsing archive dir:\n/home/twaugh/.cache/duplicity/ba8d32ccb88d13597b4784252744fc75\nUsing backup name: ba8d32ccb88d13597b4784252744fc75\nGPG binary is gpg, version 1.4.22\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.dpbxbackend Succeeded\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nMain action: collection-status\nAcquiring lockfile\n/home/twaugh/.cache/duplicity/ba8d32ccb88d13597b4784252744fc75/lockfile\n================================================================================\nduplicity 0.7.13.1 (June 18, 2017)\nArgs: /usr/bin/duplicity collection-status -v9 file:///tmp/backup\nLinux river 4.11.11-300.fc26.x86_64 #1 SMP Mon Jul 17 16:32:11 UTC 2017\nx86_64 x86_64\n/usr/bin/python2 2.7.13 (default, Jun 26 2017, 10:20:05)\n[GCC 7.1.1 20170622 (Red Hat 7.1.1-3)]\n================================================================================\nLocal and Remote metadata are synchronized, no sync needed.\n4 files exist on backend\n3 files exist in cache\nExtracting backup chains from list of files: [u'duplicity-\nfull.20170802T205426Z.vol1.difftar', u'duplicity-\nfull.20170802T205426Z.manifest', u'duplicity-full-\nsignatures.20170802T205426Z.sigtar.gz', u'duplicity-\nfull.20170802T205426Z.vol1.difftar.gz']\nFile duplicity-full.20170802T205426Z.vol1.difftar is not part of a known\nset; creating new set\nProcessing local manifest\n/home/twaugh/.cache/duplicity/ba8d32ccb88d13597b4784252744fc75/duplicity-\nfull.20170802T205426Z.manifest (181)\nFound manifest volume 1\nFound 1 volumes in manifest\nFile duplicity-full.20170802T205426Z.manifest is part of known set\nFile duplicity-full-signatures.20170802T205426Z.sigtar.gz is not part of a\nknown set; creating new set\nIgnoring file (rejected by backup set) 'duplicity-full-\nsignatures.20170802T205426Z.sigtar.gz'\nReleasing lockfile\n/home/twaugh/.cache/duplicity/ba8d32ccb88d13597b4784252744fc75/lockfile\nUsing temporary directory /tmp/duplicity-57Q9j_-tempdir\nReleasing lockfile\n/home/twaugh/.cache/duplicity/ba8d32ccb88d13597b4784252744fc75/lockfile\nTraceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1540, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1534, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1385, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1410, in do_backup\n    globals.archive_dir).set_values()\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n710, in set_values\n    self.get_backup_chains(partials + backend_filename_list)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n836, in get_backup_chains\n    add_to_sets(f)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n824, in add_to_sets\n    if set.add_filename(filename):\n  File \"/usr/lib64/python2.7/site-packages/duplicity/collections.py\", line\n105, in add_filename\n    (self.volume_name_dict, filename)\nAssertionError: ({1: 'duplicity-full.20170802T205426Z.vol1.difftar'},\n'duplicity-full.20170802T205426Z.vol1.difftar.gz')\n\nReleasing lockfile\n/home/twaugh/.cache/duplicity/ba8d32ccb88d13597b4784252744fc75/lockfile\n```","state":"closed","created_at":"2017-08-02T21:00:36.566Z","updated_at":"2022-11-02T15:50:09.676Z","closed_at":"2022-11-02T15:50:09.658Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::wishlist","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/307","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/307","notes":"https://gitlab.com/api/v4/projects/12450835/issues/307/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/307/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#307","relative":"#307","full":"duplicity/duplicity#307"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021919,"iid":573,"project_id":12450835,"title":"Restore fails if backup contains filenames with invalid utf-8 encodings (lp:#1707461)","description":"[Original report](https://bugs.launchpad.net/bugs/1707461) created by **Bernie Innocenti (codewiz)**\n```\nThis is duplicity 0.7.13.1 trying to restore a backup created by the same\nversion:\n\nError '(u'Error creating directory /run/media/bernie/My\nBook/restore/public_html/projects/amiga/XModule/XModuleSrc/Catalogs/Fran\\ufffdais',\n7)' processing\npublic_html/projects/amiga/XModule/XModuleSrc/Catalogs/Franï¿½ais\nTraceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1540, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1534, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1385, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1462, in do_backup\n    restore(col_stats)\n  File \"/usr/bin/duplicity\", line 728, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n560, in Write_ROPaths\n    ITR(ropath.index, ropath)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/lazy.py\", line 344, in\n__call__\n    last_branch.fast_process, args)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/robust.py\", line 38,\nin check_common_error\n    return function(*args)\n  File \"/usr/lib64/python2.7/site-packages/duplicity/patchdir.py\", line\n614, in fast_process\n    ropath.copy(self.base_path.new_index(index))\n  File \"/usr/lib64/python2.7/site-packages/duplicity/path.py\", line 445, in\ncopy\n    other.writefileobj(self.open(\"rb\"))\n  File \"/usr/lib64/python2.7/site-packages/duplicity/path.py\", line 622, in\nwritefileobj\n    fout = self.open(\"wb\")\n  File \"/usr/lib64/python2.7/site-packages/duplicity/path.py\", line 564, in\nopen\n    result = open(self.name, mode)\nIOError: [Errno 84] Invalid or incomplete multibyte or wide character:\n'/run/media/bernie/My\nBook/restore/public_html/projects/amiga/XModule/XModuleSrc/Catalogs/fran\\xe7ais.ct'\n\nThe file is named \"franÃ§ais.ct\" but using the latin-1 encoding of \"Ã§\".\n```","state":"closed","created_at":"2017-07-30T01:10:22.010Z","updated_at":"2022-11-02T16:39:03.431Z","closed_at":"2022-11-02T16:18:28.355Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":4,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/573","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":28,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/573","notes":"https://gitlab.com/api/v4/projects/12450835/issues/573/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/573/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#573","relative":"#573","full":"duplicity/duplicity#573"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021906,"iid":572,"project_id":12450835,"title":"Allow per-directory include-filelist (lp:#1705934)","description":"[Original report](https://bugs.launchpad.net/bugs/1705934) created by **Chris Hunt (chrahunt)**\n```\nCurrently to include/exclude paths we must provide all exclusions to\nduplicity up front, when executing the command. This does not compose well,\nas individual directories within a source directory may have different and\neven conflicting requirements on what contained files should be backed up.\nIt would be very convenient if we could specify a filename, then if\nduplicity sees a file with that name in a directory it is backing up, it\nwill read it as if it had been passed to --include-filelist, with the\nexceptions:\n\n1. Selection rules are interpreted relative to the directory of the file in\nwhich they were found\n2. Selection rules apply only in the directory in which the matching file\nwas found and child directories (recursively)\n3. Selection rules are given priority the lower their originating file is\nin the directory hierarchy (assuming the root is at the top). Any selection\nrules provided on the command line or via --include-filelist would be\napplied last\n\nThis would behave similar to .gitignore in git, and has similar benefits:\n\n1. Keep information about relevant files to include/exclude closer to the\nimpacted files\n2. Move directories with special child file selection rules without\nrequiring updating a global file with the new path\n3. Eliminate the need for external tools to generate selection rules, and\nreduce extreme uses of the global selection rule list (e.g. 1576389)\n4. More optimal behavior w.r.t. file selection since the selection rules\nthat are most likely to apply to a file would be tested first\n```\nOriginal tags: wishlist","state":"closed","created_at":"2017-07-23T17:28:58.952Z","updated_at":"2022-11-02T16:18:25.032Z","closed_at":"2022-11-02T16:18:25.009Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/572","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/572","notes":"https://gitlab.com/api/v4/projects/12450835/issues/572/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/572/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#572","relative":"#572","full":"duplicity/duplicity#572"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021896,"iid":571,"project_id":12450835,"title":"duplicity fails to restore backup with key error: 1 on volume_name_dict (lp:#1705849)","description":"[Original report](https://bugs.launchpad.net/bugs/1705849) created by **Hobson Lane (hobs)**\n```\nI upgraded a laptop from 16.04 to 17.04 and could not resolve the perpetual\nlogin prompt boot so I deleted my ubuntu partition reinstalled ubuntu 17.04\nand did a boot recovery to restore the grub prompt for dual boot. However,\nwhen I attempted to restore my user data from a deja-dupe backup (from\n16.04) I received the following python 2.7.13 Traceback error:\n\nTraceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1532, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1526, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1380, in main\n    do_backup(action)\n  File \"/usr/bin/duplicity\", line 1457, in do_backup\n    restore(col_stats)\n  File \"/usr/bin/duplicity\", line 722, in restore\n    restore_get_patched_rop_iter(col_stats)):\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\",\n 560, in Write_ROPaths\n    for ropath in rop_iter:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 523,\nin integrate_patch_iters\n    for patch_seq in collated:\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 389,\nin yield_tuples\n    setrorps(overflow, elems)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 378,\nin setrorps\n    elems[i] = iter_list[i].next()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 121,\nin difftar2path_iter\n    tarinfo_list = [tar_iter.next()]\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 339,\nin next\n    self.set_tarfile()\n  File \"/usr/lib/python2.7/dist-packages/duplicity/patchdir.py\", line 333,\nin set_tarfile\n    self.current_fp = self.fileobj_iter.next()\n  File \"/usr/bin/duplicity\", line 758, in get_fileobj_iter\n    backup_set.volume_name_dict[vol_num],\nKeyError: 1\n\nEnvironment:\n\nPython 2.7.13 (default, Jan 19 2017, 14:48:08)\n[GCC 6.3.0 20170118] on linux2\n\nduplicity 0.7.06\n\ndeja-dup 34.4\n```","state":"closed","created_at":"2017-07-22T21:31:10.841Z","updated_at":"2022-11-02T16:18:21.908Z","closed_at":"2022-11-02T16:18:21.887Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/571","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/571","notes":"https://gitlab.com/api/v4/projects/12450835/issues/571/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/571/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#571","relative":"#571","full":"duplicity/duplicity#571"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021884,"iid":570,"project_id":12450835,"title":"Only sync relevant remote metadata to prevent big cache (lp:#1702715)","description":"[Original report](https://bugs.launchpad.net/bugs/1702715) created by **Markus (doits)**\n```\nDuplicity version: 0.7.13.1\nPython version: 2.7.12\nOS Distro and version: Ubuntu 16.04.2\nType of target filesystem: Multiple\n\nHello,\n\nthis is a follow up of http://lists.nongnu.org/archive/html/duplicity-\ntalk/2017-07/msg00000.html (slightly modified).\n\nI've been using duplicity to backup since 2014 with a full backup every 3\nmonths, so I have some secondary backup chains. Additionally backups go to\nmultiple separate places (each having multiple backup chains). My local\ncache folder is now over 70gb big and I had the idea to delete the cache\nfor the secondary chains to free up space - since they are only needed when\nrestoring files, but not for new backups (to the primary chains).\n\nSo I deleted the cache files (for example duplicity-full-\nsignatures.20141106T121637Z.sigtar.gpg) and reclaimed a lot of space.\n\nBut after the next backup run, I saw this in the logs:\n\nSynchronizing remote metadata to local cache...\nCopying duplicity-full-signatures.20141106T121637Z.sigtar.gpg to local\ncache.\nCopying duplicity-full-signatures.20150505T234205Z.sigtar.gpg to local\ncache.\nCopying duplicity-full-signatures.20150904T234123Z.sigtar.gpg to local\ncache.\nCopying duplicity-full-signatures.20151205T004128Z.sigtar.gpg to local\ncache.\n...\n\nMy current workaround is: Before I create a new full backup, I move the\nremote backup files to a new location. So for duplicity it looks like the\nbackup location is fresh and it even deletes the local cache automatically,\nstarting with a full backup (which I wanted anyways).\n\nIf I later want to restore from that backup I will have to move the files\nback into place on that remote.\n\nIt would be great to have a command line option to prevent syncing all\nmetadata but the current one. Maybe it could even determine which metadata\nis needed for the current operation and only sync this one, so for example\nif I wanted to restore from a secondary backup chain it would only sync the\nsecondary backup chain's metadata. So if metadata was deleted manually but\nnot needed for the current operation, it would stay deleted.\n```\nOriginal tags: cache metadata","state":"closed","created_at":"2017-07-06T15:44:27.866Z","updated_at":"2022-11-02T16:18:18.606Z","closed_at":"2022-11-02T16:18:18.573Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/570","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/570","notes":"https://gitlab.com/api/v4/projects/12450835/issues/570/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/570/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#570","relative":"#570","full":"duplicity/duplicity#570"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021859,"iid":569,"project_id":12450835,"title":"Ignore Errors on restore (lp:#1702696)","description":"[Original report](https://bugs.launchpad.net/bugs/1702696) created by **Robert Coup (rcoup)**\n```\nSituation:\n\n1. full backup with good signatures/manifest but one or more corrupted\nvolumes (eg. `echo \"horse\" \u003e myarchive/duplicity-\nfull.20170706T134837Z.vol9.difftar.gpg`)\n\n2. Error messages along the lines of:\n\nÂ Â Â Â Â Â Â Â Invalid data - SHA1 hash mismatch for file:\nÂ Â Â Â Â Â Â Â Â duplicity-full.20170706T134837Z.vol9.difftar.gpg\nÂ Â Â Â Â Â Â Â Â Calculated hash: 7b64f0f207214f9894a2f4d08a95e57f3c773e72\nÂ Â Â Â Â Â Â Â Â Manifest hash: 90f449bb4662db4242caab58f509ca5354afb631\n\n3. `--ignore-errors` doesn't ignore these\n\nThe error comes from the de-GPG'ing code in restore_get_enc_fileobj(). We\ncan ignore the errored volume (obviously ignoring the data in it) and\ncontinue restoring what we can by proceeding to the next volume.\n\nProof-of-concept patch is attached.\n\n* Doesn't actually print the name of the missing/bad/etc files, just the\nvolumes. The index we're restoring is stored a few levels further up the\nstack.\n* Does work for files which span multiple volumes including corrupted, but\nthe specific files will be hosed/bad.\n* Doesn't work if directories don't exist (eg. corruption is in volume 1)\nbut later volumes want to write to files in them. Presumably with --force\nand pre-creating you can workaround\n* No idea what happens if GPG is disabled or the file is missing, but\npresumably similar to handle.\n* No idea what happens with incrementals either :)\n\nRelated:\n* https://bugs.launchpad.net/deja-dup/+bug/487720\n```\nOriginal tags: restore","state":"closed","created_at":"2017-07-06T14:10:31.197Z","updated_at":"2022-11-02T16:18:11.731Z","closed_at":"2022-11-02T16:18:11.715Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/569","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/569","notes":"https://gitlab.com/api/v4/projects/12450835/issues/569/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/569/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#569","relative":"#569","full":"duplicity/duplicity#569"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021857,"iid":568,"project_id":12450835,"title":"Support Sia backup storage (lp:#1700005)","description":"[Original report](https://bugs.launchpad.net/bugs/1700005) created by **Wernight (werner-beroux)**\n```\n*Sia* (http://sia.tech/get-started/) is relatively easy to setup for users\nbut it seems to really shine for backup storage for now.\n\nThe UI flow is shown at https://blog.sia.tech/getting-started-with-private-\ndecentralized-cloud-storage-c9565dc8c854, but there is *Sia Daemon*\nÂ (http://sia.tech/apps/) (see API at https://blog.sia.tech/api-quickstart-\nguide-f1d160c05235).\n\nWhy Sia? One arguable reason is that it's a distributed system with copies\non 3 machines. Yes it's very new and linked to a crypto currency, but the\nreal No.1 reason is the cost: About $0.16 / TB / month\n(https://www.reddit.com/r/siacoin/comments/5vl5an/sia_storage_costs_016_per_tb_per_month/).\n\nFor a comparison:\nÂ - $10 /TB/mo Google Cloud Nearline storage\nÂ - $7 /TB/mo Google Cloud Cold storage\nÂ - $12 /TB/mo S3 Infrequent storage\nÂ - $4 /TB/mo S3 Galcier storage\n```","state":"closed","created_at":"2017-06-23T07:19:47.589Z","updated_at":"2022-11-02T16:18:08.434Z","closed_at":"2022-11-02T16:18:08.409Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/568","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":16,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/568","notes":"https://gitlab.com/api/v4/projects/12450835/issues/568/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/568/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#568","relative":"#568","full":"duplicity/duplicity#568"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021854,"iid":567,"project_id":12450835,"title":"Does not preserve timestamp of symbolic links (lp:#1697157)","description":"[Original report](https://bugs.launchpad.net/bugs/1697157) created by **Phil Ruffwind (rufflewind)**\n```\nIt seems that duplicity does not preserve the timestamp (specifically\nmodification time) of symbolic links.\n\nTest case:\n\n1. Create some symbolic links in a directory A (possibly broken links,\ndoesn't matter).  Wait a minute or so.\n2. duplicity A file://B\n3. duplicity file://B C\n\nExpected: same timestamp shown with ls -l as in directory A\nActual: timestamp of symbolic links is the time of restore (step 3) instead\n\nDoes not affect normal files, just symbolic links.\n\nduplicity 0.7.12\nPython 3.6.1\nLinux 4.11.3-1-ARCH\n```","state":"closed","created_at":"2017-06-10T10:03:51.011Z","updated_at":"2022-11-02T16:18:05.686Z","closed_at":"2022-11-02T16:18:05.633Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/567","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/567","notes":"https://gitlab.com/api/v4/projects/12450835/issues/567/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/567/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#567","relative":"#567","full":"duplicity/duplicity#567"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021852,"iid":566,"project_id":12450835,"title":"ftpes:// not docummented (lp:#1696977)","description":"[Original report](https://bugs.launchpad.net/bugs/1696977) created by **Yajo (yajo)**\n```\nI was becoming crazy setting up an ftpes:// backup, and the main problem\nwas that I was using ftps:// instead.\n\nduplicity man page says nothing about ftpes support, nor does the website.\nI had to guess that by https://bugs.launchpad.net/duplicity/+bug/1072130.\n\nWould be great if you add it, so next one does not become crazy :)\n\nFTR: differences: https://www.cerberusftp.com/support/help/ftp-support/\n```","state":"closed","created_at":"2017-06-09T11:55:45.305Z","updated_at":"2022-11-02T16:18:02.427Z","closed_at":"2022-11-02T16:18:02.407Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/566","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/566","notes":"https://gitlab.com/api/v4/projects/12450835/issues/566/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/566/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#566","relative":"#566","full":"duplicity/duplicity#566"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021839,"iid":565,"project_id":12450835,"title":"azure backend not working with latest Azure Storage SDK for Python (lp:#1694770)","description":"[Original report](https://bugs.launchpad.net/bugs/1694770) created by **Rafal Sosinski (rafal.sosinski)**\n```\nThere is a problem using latest version of duplicity (0.7.12) with latest\nAzure Storage SDK for Python (2.0.0) for access Azure resources\n\nroot@restore:~# duplicity --file-to-restore data/Capability --no-encryption\nazure://backup05162017 /mnt -v9\nUsing archive dir: /root/.cache/duplicity/851a65c225c23ac6257e3fb3ed9061aa\nUsing backup name: 851a65c225c23ac6257e3fb3ed9061aa\nGPG binary is gpg, version 1.4.20\nImport of duplicity.backends.acdclibackend Succeeded\nImport of duplicity.backends.azurebackend Succeeded\nImport of duplicity.backends.b2backend Succeeded\nImport of duplicity.backends.botobackend Succeeded\nImport of duplicity.backends.cfbackend Succeeded\nImport of duplicity.backends.copycombackend Succeeded\nImport of duplicity.backends.dpbxbackend Failed: No module named dropbox\nImport of duplicity.backends.gdocsbackend Succeeded\nImport of duplicity.backends.giobackend Succeeded\nImport of duplicity.backends.hsibackend Succeeded\nImport of duplicity.backends.hubicbackend Succeeded\nImport of duplicity.backends.imapbackend Succeeded\nImport of duplicity.backends.lftpbackend Succeeded\nImport of duplicity.backends.localbackend Succeeded\nImport of duplicity.backends.mediafirebackend Succeeded\nImport of duplicity.backends.megabackend Succeeded\nImport of duplicity.backends.multibackend Succeeded\nImport of duplicity.backends.ncftpbackend Succeeded\nImport of duplicity.backends.onedrivebackend Succeeded\nImport of duplicity.backends.par2backend Succeeded\nImport of duplicity.backends.pydrivebackend Succeeded\nImport of duplicity.backends.rsyncbackend Succeeded\nImport of duplicity.backends.ssh_paramiko_backend Succeeded\nImport of duplicity.backends.ssh_pexpect_backend Succeeded\nImport of duplicity.backends.swiftbackend Succeeded\nImport of duplicity.backends.sxbackend Succeeded\nImport of duplicity.backends.tahoebackend Succeeded\nImport of duplicity.backends.webdavbackend Succeeded\nUsing temporary directory /tmp/duplicity-omCmzF-tempdir\nBackend error detail: Traceback (most recent call last):\n  File \"/usr/bin/duplicity\", line 1546, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/bin/duplicity\", line 1540, in with_tempdir\n    fn()\n  File \"/usr/bin/duplicity\", line 1375, in main\n    action = commandline.ProcessCommandLine(sys.argv[1:])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n1140, in ProcessCommandLine\n    backup, local_pathname = set_backend(args[0], args[1])\n  File \"/usr/lib/python2.7/dist-packages/duplicity/commandline.py\", line\n1015, in set_backend\n    globals.backend = backend.get_backend(bend)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 223,\nin get_backend\n    obj = get_backend_object(url_string)\n  File \"/usr/lib/python2.7/dist-packages/duplicity/backend.py\", line 209,\nin get_backend_object\n    return factory(pu)\n  File \"/usr/lib/python2.7/dist-\npackages/duplicity/backends/azurebackend.py\", line 53, in __init__\n    Exception: %s\"\"\" % str(e))\nBackendException: Azure backend requires Microsoft Azure Storage SDK for\nPython (https://pypi.python.org/pypi/azure-storage/).\nException: cannot import name BlobService\n\n\nRequired package is already installed\n\nroot@restore:~# pip freeze\nadal==0.4.5\nasn1crypto==0.22.0\nazure-common==1.1.6\nazure-nspkg==2.0.0\nazure-storage==0.34.2\ncertifi==2017.4.17\ncffi==1.10.0\ncryptography==1.8.1\nduplicity===-version\nenum34==1.1.6\nfutures==3.1.1\nidna==2.5\nipaddress==1.0.18\nisodate==0.5.4\nkeyring==10.3.2\nlockfile==0.12.2\nmsrest==0.4.8\noauthlib==2.0.2\npackaging==16.8\npathlib2==2.2.1\npexpect==4.0.1\nptyprocess==0.5\npycparser==2.17\npycrypto==2.6.1\nPyJWT==1.5.0\npyparsing==2.2.0\npython-dateutil==2.6.0\nrequests==2.14.2\nrequests-oauthlib==0.8.0\nscandir==1.5\nSecretStorage==2.3.1\nsix==1.10.0\n\nThere is no error when using old version of azure package (0.11.1)\n\nProblem is on Linux (Debian, Ubuntu, RHEL and CentOS)\n```","state":"closed","created_at":"2017-05-31T17:38:47.781Z","updated_at":"2022-11-02T16:17:46.149Z","closed_at":"2022-11-02T16:17:46.117Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":9,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/565","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":34,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/565","notes":"https://gitlab.com/api/v4/projects/12450835/issues/565/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/565/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#565","relative":"#565","full":"duplicity/duplicity#565"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021833,"iid":564,"project_id":12450835,"title":"verify/download backup fails when reaching b2 daily cap (lp:#1694760)","description":"[Original report](https://bugs.launchpad.net/bugs/1694760) created by **Emanuele Santoro (znpy)**\n```\nThis happened to me when verifying a  backup with a daily cap set to\ndefault (1GB data transfer cap)\n```","state":"closed","created_at":"2017-05-31T17:10:08.324Z","updated_at":"2022-11-02T16:17:38.262Z","closed_at":"2022-11-02T16:17:38.229Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":2,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/564","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/564","notes":"https://gitlab.com/api/v4/projects/12450835/issues/564/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/564/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#564","relative":"#564","full":"duplicity/duplicity#564"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021828,"iid":563,"project_id":12450835,"title":"Amazon Drive backend fails after 1 hour (lp:#1689501)","description":"[Original report](https://bugs.launchpad.net/bugs/1689501) created by **Rojetto (rojetto)**\n```\nI'm using duplicity 0.7.12 with the Amazon Drive backend adbackend.py\n(revision 1218) from series 0.8 installed.\n\nWhen backing up a larger amount of data, the first few volumes upload fine,\nbut the upload for later volumes starts to fail after exactly 1 hour with\n'HTTP Error: 401 Client Error: Unauthorized'. I don't know how this stuff\nexactly works, but it seems to me like the backend script requests an OAuth\ntoken just at the beginning of the process, that simply expires after a\nwhile. Maybe refreshing the token before every volume upload would be an\noption?\n```\nOriginal tags: amazon authorization backend drive token unauthorized","state":"closed","created_at":"2017-05-09T08:11:43.570Z","updated_at":"2022-11-02T16:17:34.768Z","closed_at":"2022-11-02T16:17:34.740Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/563","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/563","notes":"https://gitlab.com/api/v4/projects/12450835/issues/563/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/563/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#563","relative":"#563","full":"duplicity/duplicity#563"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021826,"iid":562,"project_id":12450835,"title":"original filename is wrongly stored in par2 file (lp:#1689324)","description":"[Original report](https://bugs.launchpad.net/bugs/1689324) created by **Marian Sigler (maix42)**\n```\nSince a while (I don't exactly know which version since I skipped some\nversions due to another bug) when using par2 (specifically, I use\npar2+pexpect+sftp://), the filename given to par2 includes a path\n(archive_dir/.../$filename.gpg instead of just $filename.gpg), which causes\nthis error\n\nFile is corrupt. Try to repair duplicity-\ninc.20170418T124107Z.to.20170425T125712Z.manifest.gpg\nFailed to repair duplicity-\ninc.20170418T124107Z.to.20170425T125712Z.manifest.gpg\n\n\nDemonstrated running `strings` on the par2 files (NAME is the `--name`\nparameter, obfuscated for privacy; `cache/` is my `--archive-dir`)\n\nearlier (good)\nduplicity-inc.20170204T171430Z.to.20170221T140208Z.manifest.gpg.par2:\nduplicity-inc.20170204T171430Z.to.20170221T140208Z.manifest.gpg\nduplicity-inc.20170221T140208Z.to.20170403T131919Z.manifest.gpg.par2:\nduplicity-inc.20170221T140208Z.to.20170403T131919Z.manifest.gpg\n\nnow (bad)\nduplicity-inc.20170418T124107Z.to.20170425T125712Z.manifest.gpg.par2:\ncache/NAME/duplicity_temp.1/duplicity-\ninc.20170418T124107Z.to.20170425T125712Z.manifest.gpg\nduplicity-inc.20170425T125712Z.to.20170508T143651Z.manifest.gpg.par2:\ncache/NAME/duplicity_temp.1/duplicity-\ninc.20170425T125712Z.to.20170508T143651Z.manifest.gpg\n\n\n\npar2cmdline version 0.7.0\nduplicity 0.7.12\nLinux 4.10.11-1-ARCH x86_64 GNU/Linux\n```","state":"closed","created_at":"2017-05-08T15:12:14.782Z","updated_at":"2022-11-02T16:17:31.557Z","closed_at":"2022-11-02T16:17:31.514Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/562","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/562","notes":"https://gitlab.com/api/v4/projects/12450835/issues/562/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/562/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#562","relative":"#562","full":"duplicity/duplicity#562"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019406,"iid":306,"project_id":12450835,"title":"Split out verify and compare-data commands (and remove target for verify) (lp:#1688657)","description":"[Original report](https://bugs.launchpad.net/bugs/1688657) created by **Aaron Whitehouse (aaron-whitehouse)**\n```\nAs per:\nhttp://lists.gnu.org/archive/html/duplicity-talk/2017-01/msg00065.html\n\n\"I would imagine that a more readily understandable syntax would be a\nduplicity \"verify\" command with just one argument (duplicity verify ...\nsource_url), and another duplicity \"compare\" command that would take two\narguments (duplicity compare ... source_url target_directory [--compare-\ndata]) and compare backup against the target_directory's files size/date\nand optionally content (when used with --compare-data).\"\n\nI agree. I am about to do some work on the command line parsing side (Bug\n#1480565), so can add this to my list.\n\nAs ede said in that thread, the verify command has evolved unhelpfully over\ntime and the need for a target in verify is a hangover from that.\n```","state":"closed","created_at":"2017-05-05T21:30:56.192Z","updated_at":"2022-11-02T15:50:04.873Z","closed_at":"2022-11-02T15:50:04.739Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::wishlist","status::confirmed"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":1,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/306","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":8,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/306","notes":"https://gitlab.com/api/v4/projects/12450835/issues/306/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/306/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#306","relative":"#306","full":"duplicity/duplicity#306"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021817,"iid":561,"project_id":12450835,"title":"use-agent issue with version 0.7.12 (lp:#1687291)","description":"[Original report](https://bugs.launchpad.net/bugs/1687291) created by **Ã‰ric Lemoine (elemoine)**\n```\nI use the following command for backups:\n\n    duplicity --verbosity info --full-if-older-than 1M --sign-key\n5BBF59DF126FADEF --encrypt-key 57F334375840CA38 --use-agent --exclude-\nfilelist excludes.txt /home/elemoine file:///media/usb/backup\n\nIt fails with duplicity 0.7.12. This is the GPGÂ error I get:\n\n    GPG error detail: Traceback (most recent call last):\n      File \"/home/elemoine/.virtualenvs/duplicity/bin/duplicity\", line\n1546, in \u003cmodule\u003e\n        with_tempdir(main)\n      File \"/home/elemoine/.virtualenvs/duplicity/bin/duplicity\", line\n1540, in with_tempdir\n        fn()\n      File \"/home/elemoine/.virtualenvs/duplicity/bin/duplicity\", line\n1391, in main\n        do_backup(action)\n      File \"/home/elemoine/.virtualenvs/duplicity/bin/duplicity\", line\n1521, in do_backup\n        check_last_manifest(col_stats)  # not needed for full backup\n      File \"/home/elemoine/.virtualenvs/duplicity/bin/duplicity\", line\n1222, in check_last_manifest\n        last_backup_set.check_manifests()\n      File \"/home/elemoine/.virtualenvs/duplicity/local/lib/python2.7/site-\npackages/duplicity/collections.py\", line 199, in check_manifests\n        remote_manifest = self.get_remote_manifest()\n      File \"/home/elemoine/.virtualenvs/duplicity/local/lib/python2.7/site-\npackages/duplicity/collections.py\", line 234, in get_remote_manifest\n        manifest_buffer = self.backend.get_data(self.remote_manifest_name)\n      File \"/home/elemoine/.virtualenvs/duplicity/local/lib/python2.7/site-\npackages/duplicity/backend.py\", line 679, in get_data\n        assert not fin.close()\n      File \"/home/elemoine/.virtualenvs/duplicity/local/lib/python2.7/site-\npackages/duplicity/dup_temp.py\", line 226, in close\n        assert not self.fileobj.close()\n      File \"/home/elemoine/.virtualenvs/duplicity/local/lib/python2.7/site-\npackages/duplicity/gpg.py\", line 279, in close\n        self.gpg_failed()\n      File \"/home/elemoine/.virtualenvs/duplicity/local/lib/python2.7/site-\npackages/duplicity/gpg.py\", line 246, in gpg_failed\n        raise GPGError(msg)\n    GPGError: GPG Failed, see log below:\n    ===== Begin GnuPG log =====\n    gpg: Sorry, we are in batchmode - can't get input\n    ===== End GnuPG log =====\n\n\n    GPGError: GPG Failed, see log below:\n    ===== Begin GnuPG log =====\n    gpg: Sorry, we are in batchmode - can't get input\n    ===== End GnuPG log =====\n\nThe same command completes without errors with 0.7.11. It sounds like a\ngpg-agent/pinentry related issue. Is this a regression? Do I need to change\nsomething in my Duplicity or/and GPGÂ configuration?\n\nThis is what my gpg-agent.conf looks like:\n\n    # set the defaut cache time to 2 hours\n    default-cache-ttl 7200\n\n    # set the max cache time to 8 hours\n    max-cache-ttl 28800\n\n    # use pinentry-gtk-2\n    pinentry-program /usr/bin/pinentry-gtk-2\n\n    # do not allow external cache\n    no-allow-external-cache\n\nInformation:\n\nduplicity version: 0.7.12\npython version: 2.7.13\nOS: Debian Sid\n```","state":"closed","created_at":"2017-04-30T14:16:03.485Z","updated_at":"2022-11-02T16:17:28.875Z","closed_at":"2022-11-02T16:17:28.855Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/561","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":12,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/561","notes":"https://gitlab.com/api/v4/projects/12450835/issues/561/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/561/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#561","relative":"#561","full":"duplicity/duplicity#561"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021802,"iid":560,"project_id":12450835,"title":"duplicity shouldn't sync so much (lp:#1686643)","description":"[Original report](https://bugs.launchpad.net/bugs/1686643) created by **Martin Nowak (dawgfoto)**\n```\nToo many commands of duplicity first sync manifests and signatures to the\nlocal cache, even though they could just work with remote data.\nSince signature files can become multiple GB, this is fairly annoying, e.g.\nwhen checking collection-status from a dev machine or before removing old\nbackups.\nSyncing should only be done when it's necessary, or alternatively there\nshould be at least an option to skip syncing.\n```\nOriginal tags: enhancement","state":"closed","created_at":"2017-04-27T09:04:59.975Z","updated_at":"2022-11-02T16:17:25.112Z","closed_at":"2022-11-02T16:17:25.080Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/560","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":10,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/560","notes":"https://gitlab.com/api/v4/projects/12450835/issues/560/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/560/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#560","relative":"#560","full":"duplicity/duplicity#560"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021799,"iid":559,"project_id":12450835,"title":"Provide pip package (lp:#1685784)","description":"[Original report](https://bugs.launchpad.net/bugs/1685784) created by **Yajo (yajo)**\n```\nInstalling duplicity is awesomely hard because one has to guess\ndependencies to get all plugins working.\n\nPlease add ability to do `pip install duplicity` and get a fully working\nand updated duplicity system.\n```","state":"closed","created_at":"2017-04-24T12:36:15.123Z","updated_at":"2022-11-02T16:17:21.613Z","closed_at":"2022-11-02T16:17:21.577Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/559","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/559","notes":"https://gitlab.com/api/v4/projects/12450835/issues/559/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/559/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#559","relative":"#559","full":"duplicity/duplicity#559"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021774,"iid":558,"project_id":12450835,"title":"error uploading manifest file on incremental backup (lp:#1674833)","description":"[Original report](https://bugs.launchpad.net/bugs/1674833) created by **ljesmin (lauri-jesmin)**\n```\nHave a problem with duplicity incremental backups to S3.\n\nI do backup from about 30 G of small files, with exclusion of some files by\npattern to S3, eu-central-1 bucket.\n\nI use duplicity 0.7.11 from EPEL on CentOS 7.3. Python is 2.7.5.\n\nFull backups work fine, but incremental backups immediately after full\nbackup\ngenerate errors.\n\nFull backup command line:\n\nduplicity full --no-encryption --s3-use-multiprocessing\n--s3-multipart-chunk-size 10 --num-retries 5 --exclude \"**typo3temp/**\"\n--exclude \"**_temp/**\" --exclude \"**_processed_/**\" /var/www\n\"s3://s3.eu-central-1.amazonaws.com/backup-bucket-name/www\"\n\nIncremental backup command line:\n\nduplicity incremental --no-encryption --s3-use-multiprocessing\n--s3-multipart-chunk-size 10 --num-retries 5 --exclude \"**typo3temp/**\"\n--exclude \"**_temp/**\" --exclude \"**_processed_/**\" /var/www\n\"s3://s3.eu-central-1.amazonaws.com/backup-bucket-name/www\"\n\nOutput on erratic incremental backup:\n\nLocal and Remote metadata are synchronized, no sync needed.\nLast full backup date: Sun Mar 19 02:15:10 2017\nGiving up after 1 attempts. OSError: [Errno 2] No such file or directory:\n'/root/.cache/duplicity/652b29dc986d2c5850695bd80bf5261a/duplicity-inc.\n20170319T001510Z.to.20170321T001455Z.manifest'\n\nAfter backup, in /root/.cache/duplicity/652b29dc986d2c5850695bd80bf5261a/\nthere\nare such files:\n\nduplicity-full.20170319T001510Z.manifest\nduplicity-new-signatures.20170319T001510Z.to.20170321T001455Z.sigtar.gz\nduplicity-inc.20170319T001510Z.to.20170321T001455Z.manifest.part\n\nIn AWS bucket are from latest backup such files:\n\nwww/duplicity-inc.20170319T001510Z.to.20170321T001455Z.vol1.difftar.gz\nwww/duplicity-new-signatures.20170319T001510Z.to.20170321T001455Z.sigtar.gz\n\nAnd manifest file is missing.\n\nSeems that for some reason, manifest is created as .part file and upload\nfunction does not use this file.\n```","state":"closed","created_at":"2017-03-21T21:41:40.559Z","updated_at":"2022-11-02T16:40:24.377Z","closed_at":"2022-11-02T16:17:02.112Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":8,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/558","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/558","notes":"https://gitlab.com/api/v4/projects/12450835/issues/558/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/558/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#558","relative":"#558","full":"duplicity/duplicity#558"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021761,"iid":557,"project_id":12450835,"title":"DiffDirException(\"Bad tarinfo name %s\" % (tiname,)) (lp:#1674423)","description":"[Original report](https://bugs.launchpad.net/bugs/1674423) created by **Fabio (fabiot2)**\n```\nHi\n\nunfortunately I'm getting this error on my Mac ( brew install duplicity ) :\n\nMain action: list-current\n================================================================================\nduplicity 0.7.11 (December 31, 2016)\nArgs: /usr/local/bin/duplicity list-current-files --verbosity 5\nsftp://USER@USER.your-\nstoragebox.de:/backups/cloud.terradue.int/data/cloud/one/datastores/1/2727f8942d3b99beabda9ef7148b07ae/2017-03-10_08:47\nDarwin Fabios-MacBook-Pro.local 16.4.0 Darwin Kernel Version 16.4.0: Thu\nDec 22 22:53:21 PST 2016; root:xnu-3789.41.3~3/RELEASE_X86_64 x86_64 i386\n/usr/local/Cellar/duplicity/0.7.11/libexec/bin/python 2.7.10 (default, Jul\n30 2016, 19:40:32)\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)]\n================================================================================\nLocal and Remote metadata are synchronized, no sync needed.\nProcessing local manifest\n/Users/martinelli_f/.cache/duplicity/8323b109d215f9e4e23b0928fd4f2a4e/duplicity-\nfull.20170310T074759Z.manifest (831)\nFound 6 volumes in manifest\nLast full backup date: Fri Mar 10 08:47:59 2017\nUsing temporary directory\n/var/folders/ct/n230dw6n09d74yzwc3zp1j7w0000gn/T/duplicity-iBFZjG-tempdir\nTraceback (most recent call last):\n  File \"/usr/local/bin/duplicity\", line 1546, in \u003cmodule\u003e\n    with_tempdir(main)\n  File \"/usr/local/bin/duplicity\", line 1540, in with_tempdir\n    fn()\n  File \"/usr/local/bin/duplicity\", line 1391, in main\n    do_backup(action)\n  File \"/usr/local/bin/duplicity\", line 1472, in do_backup\n    list_current(col_stats)\n  File \"/usr/local/bin/duplicity\", line 707, in list_current\n    for path in path_iter:\n  File \"/usr/local/Cellar/duplicity/0.7.11/libexec/lib/python2.7/site-\npackages/duplicity/diffdir.py\", line 350, in combine_path_iters\n    triple_list = [x for x in map(get_triple, range(len(path_iter_list)))\nif x]\n  File \"/usr/local/Cellar/duplicity/0.7.11/libexec/lib/python2.7/site-\npackages/duplicity/diffdir.py\", line 327, in get_triple\n    path = path_iter_list[iter_index].next()\n  File \"/usr/local/Cellar/duplicity/0.7.11/libexec/lib/python2.7/site-\npackages/duplicity/diffdir.py\", line 247, in sigtar2path_iter\n    raise DiffDirException(\"Bad tarinfo name %s\" % (tiname,))\nDiffDirException: Bad tarinfo name signature\n\n\ndespite of :\nMain action: collection-status\n================================================================================\nduplicity 0.7.11 (December 31, 2016)\nArgs: /usr/local/bin/duplicity collection-status --verbosity 5\nsftp://USER@USER.your-\nstoragebox.de:/backups/cloud.terradue.int/data/cloud/one/datastores/1/2727f8942d3b99beabda9ef7148b07ae/2017-03-10_08:47\nDarwin Fabios-MacBook-Pro.local 16.4.0 Darwin Kernel Version 16.4.0: Thu\nDec 22 22:53:21 PST 2016; root:xnu-3789.41.3~3/RELEASE_X86_64 x86_64 i386\n/usr/local/Cellar/duplicity/0.7.11/libexec/bin/python 2.7.10 (default, Jul\n30 2016, 19:40:32)\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)]\n================================================================================\nLocal and Remote metadata are synchronized, no sync needed.\nProcessing local manifest\n/Users/martinelli_f/.cache/duplicity/8323b109d215f9e4e23b0928fd4f2a4e/duplicity-\nfull.20170310T074759Z.manifest (831)\nFound 6 volumes in manifest\nLast full backup date: Fri Mar 10 08:47:59 2017\nCollection Status\n-----------------\nConnecting with backend: BackendWrapper\nArchive dir:\n/Users/martinelli_f/.cache/duplicity/8323b109d215f9e4e23b0928fd4f2a4e\n\nFound 0 secondary backup chains.\n\nFound primary backup chain with matching signature chain:\n-------------------------\nChain start time: Fri Mar 10 08:47:59 2017\nChain end time: Fri Mar 10 08:47:59 2017\nNumber of contained backup sets: 1\nTotal number of contained volumes: 6\n Type of backup set:                            Time:      Num volumes:\n                Full         Fri Mar 10 08:47:59 2017                 6\n-------------------------\nNo orphaned or incomplete backup sets found.\nUsing temporary directory\n/var/folders/ct/n230dw6n09d74yzwc3zp1j7w0000gn/T/duplicity-secJnR-tempdir\n\n\nkindly what may I check ?\n\nthank you very much,\nFabio\n```","state":"closed","created_at":"2017-03-20T16:59:47.399Z","updated_at":"2022-11-02T16:40:24.016Z","closed_at":"2022-11-02T16:16:43.839Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":7,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/557","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/557","notes":"https://gitlab.com/api/v4/projects/12450835/issues/557/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/557/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#557","relative":"#557","full":"duplicity/duplicity#557"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021759,"iid":556,"project_id":12450835,"title":"Unicode characters in filenames are not restored correctly (lp:#1672077)","description":"[Original report](https://bugs.launchpad.net/bugs/1672077) created by **Zachs Kappler (jet-metalsonic500)**\n```\nWhile restoring my music folder, I noticed that files or folders with\nUnicode characters in their names are being restored just fine, but their\nUnicode characters in the filename get replaced with the code used to\nrepresent them.\n\nAn example of what is happening:\nOriginal Filename: Gangnam Style (ê°•ë‚¨ìŠ¤íƒ€ì¼)\nRestored Filename: Gangnam Style (uac15ub0a8uc2a4ud0c0uc77c)\n\nAdditionally, it only happens to the files I have that contain Japanese or\nKorean characters, but not symbols such as â™¥ or â™˜.\n\nI am using deja-dup 34.2-0ubuntu1.1 on elementaryOS 0.4\n```","state":"closed","created_at":"2017-03-11T19:41:45.349Z","updated_at":"2022-11-02T16:16:39.366Z","closed_at":"2022-11-02T16:16:39.349Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/556","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/556","notes":"https://gitlab.com/api/v4/projects/12450835/issues/556/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/556/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#556","relative":"#556","full":"duplicity/duplicity#556"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118019103,"iid":279,"project_id":12450835,"title":"GPG Key Handling (lp:#1670151)","description":"[Original report](https://bugs.launchpad.net/bugs/1670151) created by **Kenneth Loafman (kenneth-loafman)**\n```\nIn order to provide the best security, duplicity should use the key\nfingerprint when talking with the gpg process.  It should allow the user to\nspecify the short key (8-char), long key (16-char) and the fingerprint\n(40-char) on the command line and convert to fingerprint when needed.\n\nThis follows GNU's best practices for handling keys between processes.\n```","state":"closed","created_at":"2017-03-05T16:45:19.769Z","updated_at":"2022-11-02T15:45:26.137Z","closed_at":"2022-11-02T15:45:26.119Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::medium","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/279","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/279","notes":"https://gitlab.com/api/v4/projects/12450835/issues/279/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/279/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#279","relative":"#279","full":"duplicity/duplicity#279"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null},{"id":118021756,"iid":555,"project_id":12450835,"title":"Backend requirements are not installed (lp:#1667487)","description":"[Original report](https://bugs.launchpad.net/bugs/1667487) created by **Adrien Delhorme (adrien-delhorme)**\n```\nSome backends have module dependencies (for example pyrax) that are not\ninstalled with duplicity. There is a requirements.txt file in the project\nbut the setup.py does not use this it to install dependencies.\n\nWhy not pass the content of requirements.txt file to setup.py's\ninstall_require argument, or to avoid installing all backends dependencies,\nto extras_require argument?\n```","state":"closed","created_at":"2017-02-23T21:37:50.524Z","updated_at":"2022-11-02T16:16:36.385Z","closed_at":"2022-11-02T16:16:36.356Z","closed_by":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"labels":["priority::undecided","status::new"],"milestone":null,"assignees":[],"author":{"id":2708575,"username":"AlphaPrime","name":"Kenneth Loafman","state":"active","avatar_url":"https://secure.gravatar.com/avatar/a6fba0169484daeff7768831fd18acd9?s=80\u0026d=identicon","web_url":"https://gitlab.com/AlphaPrime"},"type":"ISSUE","assignee":null,"user_notes_count":0,"merge_requests_count":0,"upvotes":0,"downvotes":0,"due_date":null,"confidential":false,"discussion_locked":null,"issue_type":"issue","web_url":"https://gitlab.com/duplicity/duplicity/-/issues/555","time_stats":{"time_estimate":0,"total_time_spent":0,"human_time_estimate":null,"human_total_time_spent":null},"task_completion_status":{"count":0,"completed_count":0},"weight":6,"blocking_issues_count":0,"has_tasks":true,"task_status":"0 of 0 checklist items completed","_links":{"self":"https://gitlab.com/api/v4/projects/12450835/issues/555","notes":"https://gitlab.com/api/v4/projects/12450835/issues/555/notes","award_emoji":"https://gitlab.com/api/v4/projects/12450835/issues/555/award_emoji","project":"https://gitlab.com/api/v4/projects/12450835","closed_as_duplicate_of":null},"references":{"short":"#555","relative":"#555","full":"duplicity/duplicity#555"},"severity":"UNKNOWN","moved_to_id":null,"service_desk_reply_to":null,"epic_iid":null,"epic":null,"iteration":null,"health_status":null}]